<!DOCTYPE html>
<!-- saved from url=(0033)https://habrahabr.ru/post/188234/ -->
<html lang="ru" class="no-js fonts-loaded"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
<meta content="width=1024" name="viewport">
<title>Пишем простой ThreadPool с async и future / Хабрахабр</title>

  <meta name="description" content="Доброе время суток! Я занимаюсь разработкой MMORPG. В игре асинхронной загрузкой файлов занимается файловая система встроенная в движок, остальная логика обрабатывалась в основном потоке. Но помимо...">

  <meta name="keywords" content="с++11, threads, asynchronous, программирование">

  <meta property="fb:app_id" content="444736788986613">
<meta property="og:locale" content="ru_RU">
<meta property="og:type" content="article">
<meta property="fb:pages" content="472597926099084">
<meta property="og:url" content="https://habrahabr.ru/post/188234/">
<meta property="og:title" content="Пишем простой ThreadPool с async и future">

    <meta property="og:image" content="https://habrahabr.ru/images/habr.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="628">
    <link rel="image_src" href="https://habrahabr.ru/images/habr.png">

<meta property="og:description" content="Доброе время суток! Я занимаюсь разработкой MMORPG. В игре асинхронной загрузкой файлов занимается файловая система встроенная в движок, остальная логика...">
<meta name="twitter:description" content="Доброе время суток! Я занимаюсь разработкой MMORPG. В игре асинхронной загрузкой файлов занимается файловая система встроенная в движок, остальная логика...">
<meta name="twitter:title" content="Пишем простой ThreadPool с async и future">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@habrahabr">
  <meta property="al:android:url" content="habrahabr://post/188234">
<meta property="al:android:app_name" content="Habrahabr">
<meta property="al:android:package" content="ru.habrahabr">
<meta property="al:windows_phone:url" content="habrahabr://post/188234">
<meta property="al:windows_phone:app_name" content="Habrahabr">
<meta property="al:windows_phone:app_id" content="460a6bd6-8955-470f-935e-9ea1726a6060">
  <link rel="canonical" href="https://habrahabr.ru/post/188234/">
  <link rel="alternate" media="only screen and (max-width: 640px)" href="https://m.habrahabr.ru/post/188234/">



<meta name="yandex-verification" content="71593b225aeafc4e">
<meta name="referrer" content="unsafe-url">
<meta name="pocket-site-verification" content="ed24b2b9721edf0a282c5b4a3232c4">


<style type="text/css">
  @font-face{font-family:'Fira Sans';font-style:normal;font-weight:500;src:url(/fonts/0/FiraSans/firaSans-medium.eot);src:local("Fira Sans Medium"),local("FiraSans-Medium"),url(/fonts/0/FiraSans/firaSans-medium.eot?#iefix) format("embedded-opentype"),url(/fonts/0/FiraSans/firaSans-medium.woff2) format("woff2"),url(/fonts/0/FiraSans/firaSans-medium.woff) format("woff"),url(/fonts/0/FiraSans/firaSans-medium.ttf) format("truetype")}
</style>


<link href="./Пишем простой ThreadPool с async и future_files/global_main.css" rel="stylesheet" media="all">




<meta name="yandex-verification" content="67d46b975fa41645">

<meta content="Хабрахабр" name="apple-mobile-web-app-title">

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://habrahabr.ru/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://habrahabr.ru/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://habrahabr.ru/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://habrahabr.ru/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://habrahabr.ru/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://habrahabr.ru/images/favicons/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="https://habrahabr.ru/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://habrahabr.ru/images/favicons/favicon-16x16.png" sizes="16x16">
<meta name="application-name" content="Хабрахабр">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-TileImage" content="mstile-144x144.png">

  <link title="Хабрахабр / Комментарии к публикации «Пишем простой ThreadPool с async и future»" type="application/rss+xml" rel="alternate" href="https://habrahabr.ru/rss/post/188234/">

<script src="./Пишем простой ThreadPool с async и future_files/host.js.Без названия" crossorigin="anonymous"></script><script id="https://an.yandex.ru/resource/context_static_r_4171.js" src="./Пишем простой ThreadPool с async и future_files/context_static_r_4171.js.Без названия"></script><script id="https://an.yandex.ru/resource/context_static_r_4171.js" src="./Пишем простой ThreadPool с async и future_files/context_static_r_4171.js.Без названия"></script><script id="https://an.yandex.ru/resource/context_static_r_4171.js" src="./Пишем простой ThreadPool с async и future_files/context_static_r_4171.js.Без названия"></script><script id="https://an.yandex.ru/resource/context_static_r_4171.js" src="./Пишем простой ThreadPool с async и future_files/context_static_r_4171.js.Без названия"></script><script type="text/javascript" src="./Пишем простой ThreadPool с async и future_files/context.js.Без названия" async=""></script><script type="text/javascript" src="./Пишем простой ThreadPool с async и future_files/context.js.Без названия" async=""></script><script type="text/javascript" src="./Пишем простой ThreadPool с async и future_files/context.js.Без названия" async=""></script><script type="text/javascript" src="./Пишем простой ThreadPool с async и future_files/context.js.Без названия" async=""></script><script type="text/javascript" async="" src="./Пишем простой ThreadPool с async и future_files/js"></script><script src="./Пишем простой ThreadPool с async и future_files/pubads_impl_rendering_185.js.Без названия"></script><script async="" src="./Пишем простой ThreadPool с async и future_files/analytics.js.Без названия"></script><script type="text/javascript" async="" src="./Пишем простой ThreadPool с async и future_files/watch.js.Без названия"></script><script type="text/javascript" async="" defer="" src="./Пишем простой ThreadPool с async и future_files/saved_resource" charset="UTF-8"></script><script>/* Font Face Observer v2.0.13 - © Bram Stein. License: BSD-3-Clause */(function(){'use strict';var f,g=[];function l(a){g.push(a);1==g.length&&f()}function m(){for(;g.length;)g[0](),g.shift()}f=function(){setTimeout(m)};function n(a){this.a=p;this.b=void 0;this.f=[];var b=this;try{a(function(a){q(b,a)},function(a){r(b,a)})}catch(c){r(b,c)}}var p=2;function t(a){return new n(function(b,c){c(a)})}function u(a){return new n(function(b){b(a)})}function q(a,b){if(a.a==p){if(b==a)throw new TypeError;var c=!1;try{var d=b&&b.then;if(null!=b&&"object"==typeof b&&"function"==typeof d){d.call(b,function(b){c||q(a,b);c=!0},function(b){c||r(a,b);c=!0});return}}catch(e){c||r(a,e);return}a.a=0;a.b=b;v(a)}}
function r(a,b){if(a.a==p){if(b==a)throw new TypeError;a.a=1;a.b=b;v(a)}}function v(a){l(function(){if(a.a!=p)for(;a.f.length;){var b=a.f.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0==a.a?"function"==typeof c?e(c.call(void 0,a.b)):e(a.b):1==a.a&&("function"==typeof d?e(d.call(void 0,a.b)):b(a.b))}catch(h){b(h)}}})}n.prototype.g=function(a){return this.c(void 0,a)};n.prototype.c=function(a,b){var c=this;return new n(function(d,e){c.f.push([a,b,d,e]);v(c)})};
function w(a){return new n(function(b,c){function d(c){return function(d){h[c]=d;e+=1;e==a.length&&b(h)}}var e=0,h=[];0==a.length&&b(h);for(var k=0;k<a.length;k+=1)u(a[k]).c(d(k),c)})}function x(a){return new n(function(b,c){for(var d=0;d<a.length;d+=1)u(a[d]).c(b,c)})};window.Promise||(window.Promise=n,window.Promise.resolve=u,window.Promise.reject=t,window.Promise.race=x,window.Promise.all=w,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype["catch"]=n.prototype.g);}());

(function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):document.attachEvent("onreadystatechange",function k(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",k),a()})};function r(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}
function t(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function y(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function z(a,b){function c(){var a=k;y(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);y(a)};function A(a,b){var c=b||{};this.family=a;this.style=c.style||"normal";this.weight=c.weight||"normal";this.stretch=c.stretch||"normal"}var B=null,C=null,E=null,F=null;function G(){if(null===C)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);C=!!a&&603>parseInt(a[1],10)}else C=!1;return C}function J(){null===F&&(F=!!document.fonts);return F}
function K(){if(null===E){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}E=""!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:"","100px",b].join(" ")}
A.prototype.load=function(a,b){var c=this,k=a||"BESbswy",q=0,D=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=D?b():document.fonts.load(L(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),N=new Promise(function(a,c){q=setTimeout(c,D)});Promise.race([N,M]).then(function(){clearTimeout(q);a(c)},function(){b(c)})}else m(function(){function u(){var b;if(b=-1!=
f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==v&&g==v&&h==v||f==w&&g==w&&h==w||f==x&&g==x&&h==x)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(q),a(c))}function I(){if((new Date).getTime()-H>=D)d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,
g=n.a.offsetWidth,h=p.a.offsetWidth,u();q=setTimeout(I,50)}}var e=new r(k),n=new r(k),p=new r(k),f=-1,g=-1,h=-1,v=-1,w=-1,x=-1,d=document.createElement("div");d.dir="ltr";t(e,L(c,"sans-serif"));t(n,L(c,"serif"));t(p,L(c,"monospace"));d.appendChild(e.a);d.appendChild(n.a);d.appendChild(p.a);document.body.appendChild(d);v=e.a.offsetWidth;w=n.a.offsetWidth;x=p.a.offsetWidth;I();z(e,function(a){f=a;u()});t(e,L(c,'"'+c.family+'",sans-serif'));z(n,function(a){g=a;u()});t(n,L(c,'"'+c.family+'",serif'));
z(p,function(a){h=a;u()});t(p,L(c,'"'+c.family+'",monospace'))})})};"object"===typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load);}());

(function( w ){
if( w.document.documentElement.className.indexOf( "fonts-loaded" ) > -1 ){ return; }

var html = document.documentElement;
var FS500 = new w.FontFaceObserver("Fira Sans", { weight: 500 });

FS500.load().then(function() {
html.classList.add('fonts-loaded');
sessionStorage.fontsLoaded = true;
console.log('FS500-loaded');
}).catch(function () {
sessionStorage.fontsLoaded = false;
console.log('FS500-unloaded');
});

if (sessionStorage.fontsLoaded) {
html.classList.add('fonts-loaded');
}
}(this));
</script>
<script src="./Пишем простой ThreadPool с async и future_files/jquery-1.8.3.min.js.Без названия"></script>
<script>
  window.create_callback_for_blocked = function(key) {
    return function() {
      googletag.cmd.push(function () {
        googletag.display(key);
      });
    }
  }

  window.habr_blockers_checker = new function() {
    var result;
    var callbacksQueue = [];
    var calledOnce = false;

    function fireCallbacks() {
      callbacksQueue.forEach(function(callback) {
        callback(result);
      });
      callbacksQueue = [];
    }

    this.detect = function(imgUrl, callback) {
      var checksRemain = 2;
      var detected = false;
      var error1 = false;
      var error2 = false;

      if (typeof callback !== 'function') {
        return;
      };

      callbacksQueue.push(callback);

      if (typeof result !== 'undefined') {
        fireCallbacks();
      };

      if (calledOnce) {
        return;
      }
      calledOnce = true;

      imgUrl += '?ch=*&rn=*';

      function beforeCheck(timeout) {
        if (checksRemain === 0 || timeout > 1E3) {
          result = checksRemain === 0 && detected;
          fireCallbacks();
        } else {
          setTimeout(function() {
            beforeCheck(timeout * 2)
          }, timeout * 2);
        }
      }

      function checkImages() {
        if (--checksRemain) {
          return;
        };
        detected = !error1 && error2;
      }

      var random = Math.random() * 11;

      var img1 = new Image;
      img1.onload = checkImages;
      img1.onerror = function() {
        error1 = true;
        checkImages()
      };
      img1.src = imgUrl.replace(/\*/, 1).replace(/\*/, random);

      var img2 = new Image;
      img2.onload = checkImages;
      img2.onerror = function() {
        error2 = true;
        checkImages()
      };
      img2.src = imgUrl.replace(/\*/, 2).replace(/\*/, random);

      beforeCheck(250, callback)
    };

    this.detectWrapper = function(callback) {
      return this.detect('/images/px.gif', callback);
    };
  };

  window.display_dfp_slot = function(key) {
    if (window.habr_blockers_checker) {
      window.habr_blockers_checker.detectWrapper(window.create_callback_for_blocked(key));
    } else {
      window.create_callback_for_blocked(key)();
    }
  };
</script>


<script src="./Пишем простой ThreadPool с async и future_files/raven.min.js.Без названия"></script>
<script>Raven.config('https://a5835779b79f46bbb22add0cda1e4976@s.tmtm.ru/21').install()</script>

<script src="./Пишем простой ThreadPool с async и future_files/advertise.js.Без названия"></script>
<script src="./Пишем простой ThreadPool с async и future_files/adriver.js.Без названия"></script>
<script async="async" src="./Пишем простой ThreadPool с async и future_files/gpt.js.Без названия"></script>
<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>

<script>
  function display_yandex_rtb(yandexId, divId) {
    $('#' + divId).show();
    (function(w, d, n, s, t) {
      w[n] = w[n] || [];
      w[n].push(function() {
        Ya.Context.AdvManager.render({
          blockId: yandexId,
          renderTo: divId,
          async: true
        });
      });
      t = d.getElementsByTagName('script')[0];
      s = d.createElement('script');
      s.type = 'text/javascript';
      s.src = '//an.yandex.ru/system/context.js';
      s.async = true;
      t.parentNode.insertBefore(s, t);
    })(this, this.document, 'yandexContextAsyncCallbacks');
  }

  function listen_googletag_and_render_yandex(yandexId, targetDivId) {
    if (!window.googletag || !window.googletag.cmd) {
      return;
    }
    window.googletag.cmd.push(function() {
      if (!window.googletag.pubads) {
        return;
      }

      window.googletag.pubads()
        .addEventListener('slotRenderEnded', function(event) {
          var divId = event.slot.getSlotElementId();
          if (divId === targetDivId && event.isEmpty) {
            window.display_yandex_rtb(yandexId, divId);
          }
        });
    });
  }

  function getRoxotGroupId() {
    try {
      var storageKey = 'roxot-gid';
      var groupId = localStorage.getItem(storageKey);
      if (groupId === null) {
        groupId = 1 + Math.floor(Math.random() * 10000);
        localStorage.setItem(storageKey, groupId);
      }
      return groupId;
    }
    catch (e) {
      return 10001;
    }
  }

  function getRoxotSectorId() {
    try {
      var storageKey = 'roxot-sid';
      var groupId = localStorage.getItem(storageKey);
      if (groupId === null) {
        groupId = 1 + Math.floor(Math.random() * 100);
        localStorage.setItem(storageKey, groupId);
      }
      return groupId;
    }
    catch (e) {
      return 101;
    }
  }

  function getRoxotDeep() {
    try {
      var storageKey = 'roxot-deep';
      var groupId = localStorage.getItem(storageKey);
      if (groupId === null) {
        groupId = 1 + Math.floor(Math.random() * 100);
        localStorage.setItem(storageKey, groupId);
      }
      return groupId;
    }
    catch (e) {
      return 101;
    }
  }
</script>

<script>
  function initializeDFP(usesABP) {
    googletag.cmd.push(function() {
      if (usesABP) {
  googletag.defineSlot('/235032688/HH/HH01_ATF_Poster', [[300, 500], [300, 250], [300, 300], [300, 400], [300, 200], [300, 100], [240, 400]], 'div-gpt-hh-atf').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-31', 'div-gpt-hh-atf');
} else {
  googletag.defineSlot('/235032688/HH/HH01_ATF_Poster', [[300, 500], [300, 600], [300, 250], [300, 300], [300, 400], [300, 200], [300, 150], [300, 100], [240, 400]], 'div-gpt-hh-atf').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-35', 'div-gpt-hh-atf');
}
      if (usesABP) {
  googletag.defineSlot('/235032688/HH/HH03_inpage_Vertical', [[300, 600], [300, 250], [300, 300], [300, 400], [300, 500], [300, 200], [240, 400]], 'div-gpt-hh-inpage-vertical').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-33', 'div-gpt-hh-inpage-vertical');
} else {
  googletag.defineSlot('/235032688/HH/HH03_inpage_Vertical', [[300, 600], [300, 250], [300, 300], [300, 400], [300, 500], [300, 200], [240, 400], [160, 600]], 'div-gpt-hh-inpage-vertical').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-37', 'div-gpt-hh-inpage-vertical');
}
      if (usesABP) {
  googletag.defineSlot('/235032688/HH/HH02_inpage_wide', [[780, 130], [780, 200], [780, 180], [780, 110], [728, 90]], 'div-gpt-hh-inpage-wide').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-32', 'div-gpt-hh-inpage-wide');
} else {
  googletag.defineSlot('/235032688/HH/HH02_inpage_wide', [[780, 200], [780, 130], [780, 180], [780, 110], [728, 90], [780, 195], [780, 210], [780, 260]], 'div-gpt-hh-inpage-wide').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-36', 'div-gpt-hh-inpage-wide');
}
      if (usesABP) {
  googletag.defineSlot('/235032688/HH/HH04_BTF_footer', [[300, 250], [300, 300], [300, 500], [300, 400], [300, 100], [240, 400]], 'div-gpt-hh-btf').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-34', 'div-gpt-hh-btf');
} else {
  googletag.defineSlot('/235032688/HH/HH04_BTF_footer', [[300, 250], [300, 300], [300, 500], [300, 400], [300, 100], [300, 200], [300, 150], [240, 400]], 'div-gpt-hh-btf').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-38', 'div-gpt-hh-btf');
}

      googletag.pubads().enableSingleRequest();
      googletag.pubads().collapseEmptyDivs();
      googletag.pubads().
      setTargeting('roxot-group-id', getRoxotGroupId()).
      setTargeting('roxot-sector-id', getRoxotSectorId()).
      setTargeting('roxot-deep', getRoxotDeep()).
      setTargeting('aa', (usesABP) ? 'yes' : 'no').
      setTargeting('cat', ['h_programming', 'h_parallel_programming', 'h_cpp', 'f_develop']).
      setTargeting('dev', ['0']).
      setTargeting('pagetype', ['post']).
      setTargeting('posttype', ['sandbox']).
      setTargeting('postid', ['188234']);
      googletag.enableServices();
    });
  }
  if (window.habr_blockers_checker) {
    window.habr_blockers_checker.detectWrapper(initializeDFP);
  } else {
    initializeDFP(false);
  }
</script>

<script type="text/javascript">
  function callGA(usesABP) {
    if (typeof window.adb1 === 'undefined') { window.adb1 = 'yes';}
    if (usesABP) { window.adb1 = 'aa'; }

    var user_type = 'guest';

    var page_type = "publish_ugc";

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-726094-1',  'auto');
    ga('create', 'UA-726094-24', 'auto', {'name': 'HGM'});

    ga('require', 'displayfeatures');
    ga('set', 'dimension1', user_type); // user type - guest/readonly/habrauser
    ga('set', 'dimension2', page_type);
    ga('set', 'dimension4', window.adb1);


    (function() {
      var win = window;
      var removeUtms = function(){
        var location = win.location;
        if (location.search.indexOf('utm_') != -1 && history.replaceState) {
          history.replaceState({}, '', window.location.toString().replace(/(\&|\?)utm([_a-z0-9=-]+)/g, ""));
        }
      };
      ga('require', 'GTM-559GVC8');
      ga('send', 'pageview', { 'hitCallback': removeUtms });
    })();

    ga('HGM.set', 'dimension1', user_type);
    ga('HGM.set', 'dimension2', "habrahabr");
    ga('HGM.set', 'dimension4', window.adb1);

    ga('HGM.send', 'pageview');
  }


  if (window.habr_blockers_checker) {
    window.habr_blockers_checker.detectWrapper(callGA);
  } else {
    callGA(false)
  }

</script>

<script>
  var adcm_config ={
    id:1034,
    platformId: 34,
    
    tags: ['hub_programming', 'hub_parallel_programming', 'hub_cpp', 'g_programming', 'g_c_and_c++'],
    init: function () {
      window.adcm.call();
    }
  };
</script>
<script src="./Пишем простой ThreadPool с async и future_files/adcm.js.Без названия" async=""></script>


  <link rel="preload" href="./Пишем простой ThreadPool с async и future_files/integrator.js.Без названия" as="script"><script type="text/javascript" src="./Пишем простой ThreadPool с async и future_files/integrator.js.Без названия"></script><script src="./Пишем простой ThreadPool с async и future_files/pubads_impl_185.js.Без названия" async=""></script><script src="./Пишем простой ThreadPool с async и future_files/processor.js.Без названия"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MathJax_SVG_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax_SVG .MJX-monospace {font-family: monospace}
.MathJax_SVG .MJX-sans-serif {font-family: sans-serif}
#MathJax_SVG_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax_SVG {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax_SVG * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.mjx-svg-href {fill: blue; stroke: blue}
.MathJax_SVG_Processing {visibility: hidden; position: absolute; top: 0; left: 0; width: 0; height: 0; overflow: hidden; display: block!important}
.MathJax_SVG_Processed {display: none!important}
.MathJax_SVG_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0}
.MathJax_SVG_LineBox {display: table!important}
.MathJax_SVG_LineBox span {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax_SVG .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><script type="text/javascript" charset="utf-8" async="" src="./Пишем простой ThreadPool с async и future_files/second.js.Без названия"></script><style type="text/css">.bxyzpeoddy,.bxyzpeoddy yatag{display:block !important;box-sizing:content-box !important}.bxyzpeoddy,.bxyzpeoddy a,.bxyzpeoddy b,.bxyzpeoddy em,.bxyzpeoddy iframe,.bxyzpeoddy img,.bxyzpeoddy table,.bxyzpeoddy tbody,.bxyzpeoddy td,.bxyzpeoddy tr{font-size:inherit !important;background:none !important;border:none !important;border-radius:0 !important;border-spacing:0 !important;border-collapse:collapse !important;box-sizing:content-box !important;clear:none !important;float:none !important;font-variant:normal !important;font-weight:400 !important;letter-spacing:normal !important;line-height:normal !important;margin:0 !important;max-height:none !important;max-width:none !important;min-height:0 !important;min-width:0 !important;outline:none !important;padding:0 !important;position:static !important;text-align:left !important;text-decoration:none !important;text-indent:0 !important;text-transform:none !important;vertical-align:baseline !important;visibility:visible !important;word-spacing:normal !important}.bxyzpeoddy,.bxyzpeoddy a,.bxyzpeoddy b,.bxyzpeoddy em,.bxyzpeoddy img,.bxyzpeoddy table,.bxyzpeoddy tbody,.bxyzpeoddy td,.bxyzpeoddy tr{height:auto !important}.bxyzpeoddy table{display:table !important;empty-cells:hide !important;table-layout:fixed !important}.bxyzpeoddy table,.bxyzpeoddy td{font-size:100% !important}.bxyzpeoddy td{display:table-cell !important;vertical-align:middle !important}.bxyzpeoddy{position:relative !important;z-index:1 !important;-webkit-font-smoothing:antialiased !important;-webkit-text-size-adjust:none !important}.bxyzpeoddy .hvlkvmheau,.bxyzpeoddy .hvlkvmheau:hover,.bxyzpeoddy .hvlkvmheau:hover b,.bxyzpeoddy .hvlkvmheau b{display:inline !important;color:#6C9007 !important;text-decoration:none !important;border-bottom-color:rgba(108,144,7,0.4) !important;border-bottom-width:0px !important;border-bottom-style:solid !important}.bxyzpeoddy .hvlkvmheau:hover,.bxyzpeoddy .hvlkvmheau:hover b{color:#6DA3BD !important;border-bottom-color:rgba(109,163,189,0.4) !important}.bxyzpeoddy .frozzkpghx{display:none !important}.bxyzpeoddy .iphjwlwqwk{position:relative !important;top:0 !important;left:0 !important;margin:0 auto !important;display:block !important;width:100% !important;overflow:hidden !important;background-color:#fff !important;-webkit-transform:translateZ(0) !important;transform:translateZ(0) !important}.bxyzpeoddy .booskfy,.bxyzpeoddy .guaqeiznv{position:absolute !important;top:0 !important;left:0 !important;width:100% !important;height:100% !important;opacity:.3 !important}.bxyzpeoddy .guaqeiznv svg{position:absolute !important;width:200% !important;height:200% !important;left:-50% !important;top:-50% !important}.bxyzpeoddy .booskfy{background-position:50% 50% !important;background-size:cover !important;background-repeat:no-repeat !important;-webkit-transform:scale(2) !important;transform:scale(2) !important;-webkit-transform-origin:center 30% !important;transform-origin:center 30% !important;-webkit-filter:blur(10px) !important;filter:blur(10px) !important}.bxyzpeoddy .dnlipiykl{position:absolute !important;top:-30% !important;left:-50% !important;opacity:.3 !important;filter:alpha(opacity=30) !important;width:200% !important;height:200% !important;text-align:center !important}.bxyzpeoddy .mrghbdtep{height:100% !important;display:inline-block !important;opacity:.3 !important;filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius="10") !important}.bxyzpeoddy .mwxxwxl{z-index:1 !important;top:0 !important;left:0 !important;width:100% !important;overflow:hidden !important;text-align:center !important}.bxyzpeoddy .mwxxwxl,.bxyzpeoddy .iqqlaflv{position:relative !important;margin:0 auto !important;display:block !important}.bxyzpeoddy .iqqlaflv{z-index:3 !important}.bxyzpeoddy .mwxxwxl .lxfeszmjm{position:relative !important;box-shadow:0 0 3px rgba(0,0,0,.1) !important}.bxyzpeoddy .ktkizjkx{display:inline-block !important}.bxyzpeoddy .czdndlopr{position:absolute !important;z-index:3 !important;top:0 !important;left:0 !important;width:200px !important;height:200px !important;overflow:hidden !important;text-indent:-4000px !important}.bxyzpeoddy .fubizlyt{display:inline !important}.bxyzpeoddy .iqohfbcl .gsjclqomki{border:none !important;color:#fff !important;font-weight:700 !important;font-size:16px !important;text-shadow:#333 0 0 50px !important}.bxyzpeoddy .hyqbjfct{display:inline !important;font-weight:700 !important}.bxyzpeoddy .dqfhywnlb{font-size:10px !important;line-height:13px !important;height:13px !important;display:inline-block !important;padding:0 8px !important;background-color:#feda5b !important;white-space:nowrap !important}.bxyzpeoddy .dqfhywnlb .gsjclqomki{color:#000 !important;font-weight:700 !important;border:none !important}.bxyzpeoddy .mwqveeum{display:inline !important}.bxyzpeoddy .fqdcfcl{overflow-wrap:break-word !important;word-wrap:break-word !important;-webkit-hyphens:auto !important;-ms-hyphens:auto !important;hyphens:auto !important}.bxyzpeoddy .iotjorjh,.bxyzpeoddy .iotjorjh b{line-height:inherit !important;text-decoration:none !important;word-break:break-word !important;color:#6DA3BD !important;border-bottom-color:rgba(109,163,189,0.4) !important;border-bottom-width:0px !important;border-bottom-style:solid !important}.bxyzpeoddy .iotjorjh b{border-bottom:none !important;font-weight:700 !important}.bxyzpeoddy .lozedvsd{display:inline !important}.bxyzpeoddy .mpctqtqqub{display:inline !important}.bxyzpeoddy .gyperlsfe{display:none !important}.bxyzpeoddy .fyyixwdll{padding:2px 5px !important;margin:0 !important;border-radius:2px !important;background-color:rgba(0, 0, 0, 0.7) !important;color:#fff !important;text-align:center !important;line-height:1.3em !important}.bxyzpeoddy .cqubiydjxj{top:-1px !important;color:rgba(0,0,0,0.3) !important;font-weight:700 !important;vertical-align:middle !important}.bxyzpeoddy .cqubiydjxj,.bxyzpeoddy .bzyqptovxm{position:relative !important;display:inline !important;text-transform:uppercase !important}.bxyzpeoddy .bzyqptovxm{vertical-align:top !important}.bxyzpeoddy .bzyqptovxm .mpctqtqqub{display:inline-block !important;vertical-align:top !important;font-size:70% !important;padding:.1em .2em .05em !important;text-align:center !important;line-height:1.4 !important;border-radius:4px !important;border:1px solid #E0E0E0 !important;background-color:#FFFFFF !important}.bxyzpeoddy .dnmmxa{font-size:.9em !important}.bxyzpeoddy .kotbiewl{padding:2px 5px !important;height:13px !important;border-radius:0 !important;color:#fff !important;font-size:9px !important;line-height:13px !important;opacity:.6 !important;background-color:#000 !important}.bxyzpeoddy .bwucirv{border-radius:0 !important;font-size:10px !important;line-height:13px !important;color:#fff !important;background-color:rgba(0,0,0,.3) !important;padding:0 3px !important}.bxyzpeoddy .dyswvqefjc,.bxyzpeoddy .gwnlaekit b{font-weight:700 !important}.bxyzpeoddy .dyswvqefjc{white-space:nowrap !important;max-width:100% !important;display:inline-block !important}.bxyzpeoddy .gzfaummvyd{color:#4D7285 !important;text-decoration:none !important;border-bottom-color:rgba(77,114,133,0.4) !important;border-bottom-width:0px !important;border-bottom-style:solid !important}.bxyzpeoddy .izoijdb{position:relative !important;overflow:hidden !important;margin:0 -1em !important;-webkit-mask-image:linear-gradient(90deg,transparent 0,#000 2em) !important;mask-image:linear-gradient(90deg,transparent 0,#000 2em) !important;-webkit-mask-size:calc(100% + 2em) !important;mask-size:calc(100% + 2em) !important;-webkit-mask-position:-2em !important;mask-position:-2em !important;transition:all .3s ease !important}.bxyzpeoddy .izoijdb ::-webkit-scrollbar{width:0 !important;height:0 !important;background:transparent !important}.bxyzpeoddy .kqmkmdwzb{position:relative !important;margin-bottom:-30px !important;padding-bottom:30px !important;overflow-y:hidden !important;overflow-x:scroll !important;-webkit-mask-image:linear-gradient(270deg,transparent 0,#000 2em) !important;mask-image:linear-gradient(270deg,transparent 0,#000 2em) !important;-webkit-mask-size:calc(100% + 2em) !important;mask-size:calc(100% + 2em) !important;-webkit-mask-position:calc(100% + 2em) !important;mask-position:calc(100% + 2em) !important;transition:all .3s ease !important}.bxyzpeoddy .izxkewtjf{display:inline-block !important;padding:0 1em !important}.bxyzpeoddy .ctmvhloy.izoijdb .kqmkmdwzb{-webkit-mask-position:100% !important;mask-position:100% !important}.bxyzpeoddy .hshqtsosg.izoijdb{-webkit-mask-position:0 !important;mask-position:0 !important}.bxyzpeoddy .iqzjsw{cursor:pointer !important}.bxyzpeoddy .eqzcop{z-index:-1 !important;transition:z-index 0s linear .4s !important}.bxyzpeoddy .eqzcop,.bxyzpeoddy .dpiwseuiy{position:absolute !important;top:0 !important;left:0 !important;width:100% !important;height:100% !important;overflow:hidden !important}.bxyzpeoddy .dpiwseuiy{margin-left:100% !important;transition:margin-left .4s ease-out !important}.bxyzpeoddy .kouelbwvgn,.bxyzpeoddy .lnqczi{position:absolute !important;margin-left:0 !important;width:100% !important;height:100% !important;transition:margin-left .4s ease-out !important}.bxyzpeoddy .kouelbwvgn{background:#FFFFFF !important;background:rgba(255, 255, 255, 0.98) !important}.bxyzpeoddy .lnqczi{margin-left:-100% !important;background:#FFFFFF !important}.bxyzpeoddy .kupguatp{z-index:10 !important;transition:z-index 0s !important}.bxyzpeoddy .kupguatp .dpiwseuiy{margin-left:0 !important}.bxyzpeoddy .fvnrvrkzxu .kouelbwvgn{margin-left:100% !important}.bxyzpeoddy .fvnrvrkzxu .lnqczi{margin-left:0 !important}.bxyzpeoddy .eqzcop .erzropmyfc{left:0 !important}.bxyzpeoddy .dzcgdnchst{position:relative !important;padding:4px !important}.bxyzpeoddy .gxyqwgvrbc svg{display:block !important}.bxyzpeoddy .gxyqwgvrbc polygon{fill:#333333 !important}.bxyzpeoddy .mtunuq{margin:-3px !important;width:1em !important;height:1em !important;line-height:1em !important;text-align:center !important;font-size:18px !important}.bxyzpeoddy .ewjjbinv{position:absolute !important;top:50% !important;right:100% !important;margin-top:-9px !important;margin-right:6px !important;padding:0 4px !important;max-width:120px !important;height:18px !important;line-height:18px !important;color:#fff !important;background:#333 !important;background-color:rgba(0,0,0,.8) !important;border-radius:1px !important;visibility:hidden !important;font-size:11px !important;white-space:nowrap !important}.bxyzpeoddy .epqobwsm{position:absolute !important;top:3px !important;right:-6px !important;display:block !important;overflow:hidden !important;width:0 !important;height:0 !important;border-style:solid !important;border-width:6px 0 6px 6px !important;border-color:transparent transparent transparent #333 !important;border-color:transparent transparent transparent rgba(0,0,0,.8) !important}.bxyzpeoddy .fvbsdke{position:relative !important;color:#fff !important;letter-spacing:.04em !important}.bxyzpeoddy .mzfwjwrd:hover .ewjjbinv{visibility:visible !important}.bxyzpeoddy .axajhoiqpf:hover .ewjjbinv{display:none !important}.bxyzpeoddy .aoqrvjo{visibility:visible !important}.bxyzpeoddy .aoqrvjo .ewjjbinv{display:none !important}.bxyzpeoddy .aysouxgmk .ewjjbinv{height:19px !important;line-height:19px !important}.bxyzpeoddy .aysouxgmk .epqobwsm{top:2px !important}.bxyzpeoddy .ewbhbjhs .dzcgdnchst{padding:5px !important}.bxyzpeoddy .ewbhbjhs .mtunuq{margin:-5px !important;font-size:25px !important}.bxyzpeoddy .ewbhbjhs .ewjjbinv{margin-right:9px !important;margin-top:-12px !important;max-width:160px !important;height:22px !important;line-height:22px !important;font-size:13px !important}.bxyzpeoddy .ewbhbjhs .epqobwsm{right:-7px !important;top:4px !important;border-width:7px 0 7px 7px !important}.bxyzpeoddy .coydclzlz{padding:5px !important}.bxyzpeoddy .coydclzlz .dzcgdnchst{border-radius:50% !important;background:#fff !important;box-shadow:0 1px 0 0 rgba(0,0,0,.2) !important}.bxyzpeoddy .coydclzlz.ewbhbjhs{padding:5px !important}.bxyzpeoddy .fpfqpngd .dzcgdnchst{border-radius:50% !important;background:rgba(255,255,255,0.8) !important}.bxyzpeoddy .cycdnv{padding:4px !important}.bxyzpeoddy .cycdnv .ewjjbinv{margin-right:8px !important}.bxyzpeoddy .cycdnv .dzcgdnchst{border-radius:20% !important}.bxyzpeoddy .jquczb .dzcgdnchst{background-color:rgba(0,0,0,.25) !important}.bxyzpeoddy .jquczb .gxyqwgvrbc polygon{fill:#fff !important}.bxyzpeoddy .mzfwjwrd.axajhoiqpf .ewjjbinv{display:none !important}.bxyzpeoddy .mwqzbyxatw{position:absolute !important;left:0 !important;top:0 !important;z-index:6 !important}.bxyzpeoddy .mwqzbyxatw,.bxyzpeoddy .dndxynrad,.bxyzpeoddy .bnznpxyh{width:100% !important;height:100% !important}.bxyzpeoddy .anfzezv{vertical-align:middle !important;display:inline-block !important}.bxyzpeoddy .bnznpxyh{vertical-align:middle !important;text-align:center !important;font-size:13px !important;color:#000 !important}.bxyzpeoddy .ivxosatly .bnznpxyh{font-size:15px !important}.bxyzpeoddy .erzropmyfc{position:absolute !important;top:0 !important;bottom:0 !important;margin-left:0 !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-align-items:center !important;-ms-flex-align:center !important;align-items:center !important;left:-101% !important;z-index:4 !important;width:100% !important;opacity:.98 !important;border:none !important;box-sizing:border-box !important;transition:margin-left 0s ease-out .4s,left .4s ease-out !important}.bxyzpeoddy .erzropmyfc.kvyhvmm{margin-left:201% !important;left:-201% !important;transition:margin-left 0s,left .4s ease-out !important}.bxyzpeoddy .bwmyktn{display:block !important;margin:auto !important;padding:0 !important;border-radius:3px !important;z-index:11 !important;font-size:1em !important}.bxyzpeoddy .knohoejwf{color:#000 !important;font-weight:700 !important}.bxyzpeoddy .bwmyktn .mpqufzlk{display:inline-block !important;margin:0 10px 0 0 !important}.bxyzpeoddy .bwmyktn .aygucm{text-decoration:none !important;color:#00c !important;cursor:pointer !important;border-bottom:none !important}.bxyzpeoddy .bwmyktn .aygucm:hover{color:#c00 !important}.bxyzpeoddy .bwmyktn.goirly{padding-top:0 !important}.bxyzpeoddy .bwmyktn.goirly .knohoejwf{display:inline-block !important;margin-right:10px !important}.bxyzpeoddy .bwmyktn.goirly .dtfnpqls{top:3px !important}.bxyzpeoddy .bwmyktn.dsrdgsodea{padding:.2em .5em !important}.bxyzpeoddy .bwmyktn.dsrdgsodea .mpqufzlk,.bxyzpeoddy .bwmyktn.dsrdgsodea .knohoejwf{display:block !important;font-size:.9em !important;margin:0 0 .4em !important}.bxyzpeoddy .bwmyktn.dsrdgsodea .bwavwddw{right:1px !important;top:1px !important}.bxyzpeoddy .bwmyktn.jodywy{padding:.5em 1.3em !important}.bxyzpeoddy .bwmyktn.jodywy .knohoejwf{font-size:1.2em !important;display:block !important;margin:0 .6em 1em 0 !important}.bxyzpeoddy .bwmyktn.jodywy .mpqufzlk{display:block !important;margin:.75em .6em 0 0 !important}.bxyzpeoddy .bwmyktn.jodywy .aygucm{line-height:1.4em !important}.bxyzpeoddy .bwmyktn.bqmkcqkk{margin:.25em auto !important;padding:0 1em !important}.bxyzpeoddy .bwmyktn.bqmkcqkk .knohoejwf{display:block !important;margin:0 .6em 0 0 !important}.bxyzpeoddy .bwmyktn.bqmkcqkk .mpqufzlk{display:block !important;margin:.5em .5em 0 0 !important}.bxyzpeoddy .bwmyktn.bqmkcqkk .aygucm{line-height:1.4em !important}.bxyzpeoddy .fvgjtz .erzropmyfc,.bxyzpeoddy .fqgzbtbxi .erzropmyfc{bottom:1px !important}.bxyzpeoddy .avhrcftb.fvgjtz .erzropmyfc,.bxyzpeoddy .asrhdqhzi.fvgjtz .erzropmyfc,.bxyzpeoddy .jpbrbpuyte.fvgjtz .erzropmyfc,.bxyzpeoddy .bqnfxpp.fqgzbtbxi .erzropmyfc{bottom:0 !important}.bxyzpeoddy .iyhxhu{position:absolute !important;z-index:11 !important;right:0 !important;top:0 !important}.bxyzpeoddy .esdwikszg{position:absolute !important;left:-101% !important;top:0 !important;width:100% !important;height:100% !important;display:block !important}#bxyzpeoddy .mveqsndhwj .gvqsye,#bxyzpeoddy .mveqsndhwj .fwrpvoj{display:none !important}#bxyzpeoddy .mveqsndhwj .esdwikszg{left:0 !important;transition:left .4s ease-out !important}.bxyzpeoddy .howsqpljh{position:relative !important;font-size:1em !important;color:#333333 !important}.bxyzpeoddy .mxhmiwhkgr{position:relative !important;padding-bottom:2px !important}.bxyzpeoddy .iyhxhu{padding:2px !important}.bxyzpeoddy .dzosbmjca .iyhxhu{visibility:hidden !important}.bxyzpeoddy .howsqpljh:hover .iyhxhu,.bxyzpeoddy .iyhxhu.bzterpgixr{visibility:visible !important}.bxyzpeoddy .mrcpttukq{overflow:hidden !important}.bxyzpeoddy .buymyfft{height:100% !important}.bxyzpeoddy .knpbsgjwx{padding:3px 5px !important;background:#9DBC7B !important;color:#000 !important}.bxyzpeoddy .knpbsgjwx .hvlkvmheau{display:block !important;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important}.bxyzpeoddy .knpbsgjwx .hvlkvmheau,.bxyzpeoddy .knpbsgjwx .hvlkvmheau:hover,.bxyzpeoddy .knpbsgjwx .hvlkvmheau:hover b,.bxyzpeoddy .knpbsgjwx .hvlkvmheau b{color:inherit !important;border-bottom-width:0 !important}.bxyzpeoddy .knpbsgjwx:hover{background-color:#6DA3BD !important;color:#000 !important}.bxyzpeoddy .csqpcjtf{margin-top:5px !important;font-size:1.2em !important;color:#6DA3BD !important}.bxyzpeoddy .csqpcjtf .hvlkvmheau,.bxyzpeoddy .csqpcjtf .hvlkvmheau b{border-bottom-width:0 !important;font-weight:700 !important;color:inherit !important}.bxyzpeoddy .csqpcjtf .hvlkvmheau:hover{color:#6DA3BD !important}.bxyzpeoddy .kwkeutrzo{margin-bottom:2px !important}.bxyzpeoddy .kwkeutrzo,.bxyzpeoddy .kphukugjf,.bxyzpeoddy .hwxrevzcaj,.bxyzpeoddy .fqomgrp{margin-top:5px !important}.bxyzpeoddy .kphukugjf,.bxyzpeoddy .hwxrevzcaj{display:inline-block !important;white-space:nowrap !important}.bxyzpeoddy .hwxrevzcaj .jnxuwp{margin-right:5px !important;padding:1px 5px !important;display:inline-block !important;font-size:.98em !important;line-height:14px !important;color:#4D7285 !important;box-shadow:inset 0 0 0 1px rgba(77,114,133,0.5) !important;border-radius:9px !important}.bxyzpeoddy .hwxrevzcaj .jnxuwp:hover{background-color:#6DA3BD !important;color:#000 !important;box-shadow:inset 0 0 0 1px #6DA3BD !important}.bxyzpeoddy .hwxrevzcaj .hvlkvmheau{border-bottom-width:0 !important;color:inherit !important;letter-spacing:-.01em !important}.bxyzpeoddy .kphukugjf .huxaznydx{margin:0 5px 0 0 !important;padding:0 !important;display:inline-block !important}.bxyzpeoddy .fxngwop{font-size:.98em !important;letter-spacing:-.01em !important}.bxyzpeoddy .buwmutatt.howsqpljh .csqpcjtf{font-size:1.3em !important}.bxyzpeoddy .dvjdlylp.howsqpljh .csqpcjtf{font-size:1.4em !important}.bxyzpeoddy .dvjdlylp.howsqpljh .csqpcjtf .hvlkvmheau,.bxyzpeoddy .dvjdlylp.howsqpljh .csqpcjtf .hvlkvmheau:hover{font-weight:400 !important}.bxyzpeoddy .dvjdlylp.howsqpljh .csqpcjtf .hvlkvmheau:hover b,.bxyzpeoddy .dvjdlylp.howsqpljh .csqpcjtf .hvlkvmheau b{font-weight:700 !important}.bxyzpeoddy .ayvqivm.howsqpljh .csqpcjtf .hvlkvmheau b{padding:1px 3px !important;-webkit-box-decoration-break:clone !important;box-decoration-break:clone !important;background-color:#6DA3BD !important;color:#000 !important;letter-spacing:-.01em !important}.bxyzpeoddy .ayvqivm.howsqpljh .csqpcjtf .hvlkvmheau:hover b{background-color:#6DA3BD !important;color:#000 !important}.bxyzpeoddy .ayvqivm.dvjdlylp.howsqpljh .csqpcjtf .hvlkvmheau:hover b,.bxyzpeoddy .ayvqivm.dvjdlylp.howsqpljh .csqpcjtf .hvlkvmheau b{font-weight:400 !important}.bxyzpeoddy .muojpdos.jokyfm.howsqpljh,.bxyzpeoddy .muojpdos.fvilxgfl.howsqpljh,.bxyzpeoddy .muojpdos.apnidoiq.howsqpljh{padding:5px !important}.bxyzpeoddy .muojpdos.jokyfm.howsqpljh .iyhxhu,.bxyzpeoddy .muojpdos.fvilxgfl.howsqpljh .iyhxhu,.bxyzpeoddy .muojpdos.apnidoiq.howsqpljh .iyhxhu{padding:7px 7px 2px 2px !important}.bxyzpeoddy .fqbrkn.howsqpljh .knpbsgjwx,.bxyzpeoddy .grizvzuk.howsqpljh .knpbsgjwx{padding:2px 10px !important}.bxyzpeoddy .fqbrkn.howsqpljh .mxhmiwhkgr,.bxyzpeoddy .grizvzuk.howsqpljh .mxhmiwhkgr{padding:0 10px 10px !important}.bxyzpeoddy .ewljsilnn{display:inline-block !important;overflow:hidden !important;text-align:center !important;font-size:11px !important;opacity:.7 !important;filter:alpha(opacity=70) !important;cursor:pointer !important}.bxyzpeoddy .huushdj{display:inline-block !important;line-height:14px !important;color:#333333 !important;vertical-align:top !important;border-bottom-color:transparent !important;border-bottom-width:0px !important;border-bottom-style:solid !important}.bxyzpeoddy .huushdj em{font-style:normal !important}.bxyzpeoddy .ewljsilnn:hover{opacity:1 !important;filter:alpha(opacity=100) !important}.bxyzpeoddy .ewljsilnn:hover .huushdj{text-decoration:none !important;border-bottom-color:rgba(51,51,51,0.4) !important;border-bottom-width:0px !important;border-bottom-style:solid !important}.bxyzpeoddy .cvreayyisy{opacity:.8 !important;filter:alpha(opacity=80) !important;font-size:1em !important;line-height:1.3em !important;height:1.3em !important}.bxyzpeoddy .cvreayyisy .huushdj{color:#fff !important;font-size:inherit !important;line-height:inherit !important;height:inherit !important;padding:0 2px !important}.bxyzpeoddy .lycjueglt{overflow:hidden !important;position:relative !important}.bxyzpeoddy .irnldbv{position:relative !important;margin:0 !important;margin-left:0px !important;padding:0 !important;font-size:10px !important;margin-top:4px !important;height:14px !important;line-height:14px !important;display:inline-block !important}.bxyzpeoddy .bscrpdpmi{position:relative !important;top:-5px !important;left:-5px !important;right:-5px !important;bottom:-5px !important;margin-right:-10px !important;margin-bottom:-10px !important;overflow:hidden !important;border:0px solid #F7F7F7 !important;border-radius:0px !important;background:transparent !important}.bxyzpeoddy .exeihcmf{margin-left:0 !important;height:100% !important;width:100% !important;table-layout:fixed !important;border-spacing:5px !important;border-collapse:separate !important}.bxyzpeoddy .jyhrdpywb{position:relative !important;z-index:1 !important;margin:0 !important;padding:0 !important;height:25% !important;overflow:hidden !important;border:1px solid #F7F7F7 !important;border-radius:0px !important;border-right-width:1px !important;border-bottom-width:1px !important;background:transparent !important;vertical-align:top !important}.bxyzpeoddy .ksowrrg{margin:0 auto !important;height:100% !important}.bxyzpeoddy .aqcrooo .jyhrdpywb{border-bottom-width:1px !important}.bxyzpeoddy .bvxwrll{border-right-width:1px !important}.bxyzpeoddy .auuupdhf .howsqpljh.iwflpsdw{padding-left:0 !important;padding-bottom:0 !important}.bxyzpeoddy .auuupdhf .exeihcmf.bymepf .jyhrdpywb.mtqjjny .howsqpljh.iwflpsdw{margin:0 !important;margin-right:1.0375em !important}.bxyzpeoddy .auuupdhf .exeihcmf.bymepf .jyhrdpywb.hoenrzms .howsqpljh.iwflpsdw{margin:0 !important;margin-left:.3458em !important;margin-right:.6916em !important}.bxyzpeoddy .auuupdhf .exeihcmf.bymepf .jyhrdpywb.fwygtouw .howsqpljh.iwflpsdw{margin:0 !important;margin-left:.6916em !important;margin-right:.3458em !important}.bxyzpeoddy .auuupdhf .exeihcmf.bymepf .jyhrdpywb.lzmzzfycd .howsqpljh.iwflpsdw{margin:0 !important;margin-left:1.0375em !important}.bxyzpeoddy .auuupdhf .exeihcmf.enhxpf .jyhrdpywb.mtqjjny .howsqpljh.iwflpsdw{margin:0 !important;margin-right:.6444em !important}.bxyzpeoddy .auuupdhf .exeihcmf.enhxpf .jyhrdpywb.hoenrzms .howsqpljh.iwflpsdw{margin:0 !important;margin-left:.3222em !important;margin-right:.3222em !important}.bxyzpeoddy .auuupdhf .exeihcmf.enhxpf .jyhrdpywb.fwygtouw .howsqpljh.iwflpsdw{margin:0 !important;margin-left:.6444em !important}.bxyzpeoddy .auuupdhf .kwkeutrzo.gwnlaekit{margin-top:4px !important}</style><script type="text/javascript" async="" crossorigin="anonymous" src="./Пишем простой ThreadPool с async и future_files/loader.js.Без названия"></script><style type="text/css">.ya_partner_R-A-149298-36,.ya_partner_R-A-149298-36 yatag{display:block !important;box-sizing:content-box !important}.ya_partner_R-A-149298-36,.ya_partner_R-A-149298-36 a,.ya_partner_R-A-149298-36 b,.ya_partner_R-A-149298-36 em,.ya_partner_R-A-149298-36 iframe,.ya_partner_R-A-149298-36 img,.ya_partner_R-A-149298-36 table,.ya_partner_R-A-149298-36 tbody,.ya_partner_R-A-149298-36 td,.ya_partner_R-A-149298-36 tr{font-size:inherit !important;background:none !important;border:none !important;border-radius:0 !important;border-spacing:0 !important;border-collapse:collapse !important;box-sizing:content-box !important;clear:none !important;float:none !important;font-variant:normal !important;font-weight:400 !important;letter-spacing:normal !important;line-height:normal !important;margin:0 !important;max-height:none !important;max-width:none !important;min-height:0 !important;min-width:0 !important;outline:none !important;padding:0 !important;position:static !important;text-align:left !important;text-decoration:none !important;text-indent:0 !important;text-transform:none !important;vertical-align:baseline !important;visibility:visible !important;word-spacing:normal !important}.ya_partner_R-A-149298-36,.ya_partner_R-A-149298-36 a,.ya_partner_R-A-149298-36 b,.ya_partner_R-A-149298-36 em,.ya_partner_R-A-149298-36 img,.ya_partner_R-A-149298-36 table,.ya_partner_R-A-149298-36 tbody,.ya_partner_R-A-149298-36 td,.ya_partner_R-A-149298-36 tr{height:auto !important}.ya_partner_R-A-149298-36 table{display:table !important;empty-cells:hide !important;table-layout:fixed !important}.ya_partner_R-A-149298-36 table,.ya_partner_R-A-149298-36 td{font-size:100% !important}.ya_partner_R-A-149298-36 td{display:table-cell !important;vertical-align:middle !important}.ya_partner_R-A-149298-36 .yap-rtb__wrapper{overflow:hidden !important;font:normal 13px Arial,sans-serif !important}.ya_partner_R-A-149298-36 .yap-rtb__iframe,.ya_partner_R-A-149298-36 .yap-rtb__wrapper{position:relative !important;width:780px !important;height:172px !important;margin:auto !important}.ya_partner_R-A-149298-36 .yap-rtb__iframe{z-index:2 !important}.ya_partner_R-A-149298-36 .yap-rtb__adtune-button{position:absolute !important;z-index:11 !important;right:0 !important;top:0 !important}.ya_partner_R-A-149298-36 .yap-rtb__feedback{border:1px solid #ccc !important;box-sizing:border-box !important}.ya_partner_R-A-149298-36 .yap-adtune{cursor:pointer !important}.ya_partner_R-A-149298-36 .yap-feedback-menu{z-index:-1 !important;transition:z-index 0s linear .4s !important}.ya_partner_R-A-149298-36 .yap-feedback-menu,.ya_partner_R-A-149298-36 .yap-feedback-menu__slide{position:absolute !important;top:0 !important;left:0 !important;width:100% !important;height:100% !important;overflow:hidden !important}.ya_partner_R-A-149298-36 .yap-feedback-menu__slide{margin-left:100% !important;transition:margin-left .4s ease-out !important}.ya_partner_R-A-149298-36 .yap-feedback-menu__form,.ya_partner_R-A-149298-36 .yap-feedback-menu__recieved{position:absolute !important;margin-left:0 !important;width:100% !important;height:100% !important;transition:margin-left .4s ease-out !important}.ya_partner_R-A-149298-36 .yap-feedback-menu__form{background:#fff !important;background:rgba(255, 255, 255, 0.98) !important}.ya_partner_R-A-149298-36 .yap-feedback-menu__recieved{margin-left:-100% !important;background:#fff !important}.ya_partner_R-A-149298-36 .yap-feedback-menu_visible{z-index:10 !important;transition:z-index 0s !important}.ya_partner_R-A-149298-36 .yap-feedback-menu_visible .yap-feedback-menu__slide{margin-left:0 !important}.ya_partner_R-A-149298-36 .yap-feedback-menu_recieved .yap-feedback-menu__form{margin-left:100% !important}.ya_partner_R-A-149298-36 .yap-feedback-menu_recieved .yap-feedback-menu__recieved{margin-left:0 !important}.ya_partner_R-A-149298-36 .yap-feedback-menu .yap-abuse-message{left:0 !important}.ya_partner_R-A-149298-36 .yap-adtune-icon__container{position:relative !important;padding:4px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon__image svg{display:block !important}.ya_partner_R-A-149298-36 .yap-adtune-icon__image polygon{fill:#000 !important}.ya_partner_R-A-149298-36 .yap-adtune-icon__image-fallback{margin:-3px !important;width:1em !important;height:1em !important;line-height:1em !important;text-align:center !important;font-size:18px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon__tooltip{position:absolute !important;top:50% !important;right:100% !important;margin-top:-9px !important;margin-right:6px !important;padding:0 4px !important;max-width:120px !important;height:18px !important;line-height:18px !important;color:#fff !important;background:#333 !important;background-color:rgba(0,0,0,.8) !important;border-radius:1px !important;visibility:hidden !important;font-size:11px !important;white-space:nowrap !important}.ya_partner_R-A-149298-36 .yap-adtune-icon__tooltip-arrow{position:absolute !important;top:3px !important;right:-6px !important;display:block !important;overflow:hidden !important;width:0 !important;height:0 !important;border-style:solid !important;border-width:6px 0 6px 6px !important;border-color:transparent transparent transparent #333 !important;border-color:transparent transparent transparent rgba(0,0,0,.8) !important}.ya_partner_R-A-149298-36 .yap-adtune-icon__tooltip-text{position:relative !important;color:#fff !important;letter-spacing:.04em !important}.ya_partner_R-A-149298-36 .yap-adtune-icon:hover .yap-adtune-icon__tooltip{visibility:visible !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_open:hover .yap-adtune-icon__tooltip{display:none !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_touch_true{visibility:visible !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_touch_true .yap-adtune-icon__tooltip{display:none !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_oldie_true .yap-adtune-icon__tooltip{height:19px !important;line-height:19px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_oldie_true .yap-adtune-icon__tooltip-arrow{top:2px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_size_l .yap-adtune-icon__container{padding:5px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_size_l .yap-adtune-icon__image-fallback{margin:-5px !important;font-size:25px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_size_l .yap-adtune-icon__tooltip{margin-right:9px !important;margin-top:-12px !important;max-width:160px !important;height:22px !important;line-height:22px !important;font-size:13px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_size_l .yap-adtune-icon__tooltip-arrow{right:-7px !important;top:4px !important;border-width:7px 0 7px 7px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_round{padding:5px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_round .yap-adtune-icon__container{border-radius:50% !important;background:#fff !important;box-shadow:0 1px 0 0 rgba(0,0,0,.2) !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_round.yap-adtune-icon_size_l{padding:5px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_round-flat .yap-adtune-icon__container{border-radius:50% !important;background:rgba(255,255,255,0.8) !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_round-square{padding:4px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_round-square .yap-adtune-icon__tooltip{margin-right:8px !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_round-square .yap-adtune-icon__container{border-radius:20% !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_black-white .yap-adtune-icon__container{background-color:rgba(0,0,0,.25) !important}.ya_partner_R-A-149298-36 .yap-adtune-icon_black-white .yap-adtune-icon__image polygon{fill:#fff !important}.ya_partner_R-A-149298-36 .yap-adtune-icon.yap-adtune-icon_open .yap-adtune-icon__tooltip{display:none !important}.ya_partner_R-A-149298-36 .yap-adtune-message{position:absolute !important;left:0 !important;top:0 !important;z-index:6 !important}.ya_partner_R-A-149298-36 .yap-adtune-message,.ya_partner_R-A-149298-36 .yap-adtune-message__table,.ya_partner_R-A-149298-36 .yap-adtune-message__text{width:100% !important;height:100% !important}.ya_partner_R-A-149298-36 .yap-adtune-message__check{vertical-align:middle !important;display:inline-block !important}.ya_partner_R-A-149298-36 .yap-adtune-message__text{vertical-align:middle !important;text-align:center !important;font-size:13px !important;color:#000 !important}.ya_partner_R-A-149298-36 .yap-adtune-message_big_true .yap-adtune-message__text{font-size:15px !important}.ya_partner_R-A-149298-36 .yap-abuse-message{position:absolute !important;top:0 !important;bottom:0 !important;margin-left:0 !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-align-items:center !important;-ms-flex-align:center !important;align-items:center !important;left:-101% !important;z-index:4 !important;width:100% !important;opacity:.98 !important;border:none !important;box-sizing:border-box !important;transition:margin-left 0s ease-out .4s,left .4s ease-out !important}.ya_partner_R-A-149298-36 .yap-abuse-message.yap-abuse-message_visible{margin-left:201% !important;left:-201% !important;transition:margin-left 0s,left .4s ease-out !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint{display:block !important;margin:auto !important;padding:0 !important;border-radius:3px !important;z-index:11 !important;font-size:1em !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint__title{color:#000 !important;font-weight:700 !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint .yap-abuse-complaint__item{display:inline-block !important;margin:0 10px 0 0 !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint .yap-abuse-complaint__link{text-decoration:none !important;color:#00c !important;cursor:pointer !important;border-bottom:none !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint .yap-abuse-complaint__link:hover{color:#c00 !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_small-size{padding-top:0 !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_small-size .yap-abuse-complaint__title{display:inline-block !important;margin-right:10px !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_small-size .adtune_cross{top:3px !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_middle-size{padding:.2em .5em !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_middle-size .yap-abuse-complaint__item,.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_middle-size .yap-abuse-complaint__title{display:block !important;font-size:.9em !important;margin:0 0 .4em !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_middle-size .complain_cross{right:1px !important;top:1px !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_max-size{padding:.5em 1.3em !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_max-size .yap-abuse-complaint__title{font-size:1.2em !important;display:block !important;margin:0 .6em 1em 0 !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_max-size .yap-abuse-complaint__item{display:block !important;margin:.75em .6em 0 0 !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_max-size .yap-abuse-complaint__link{line-height:1.4em !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_large-size{margin:.25em auto !important;padding:0 1em !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_large-size .yap-abuse-complaint__title{display:block !important;margin:0 .6em 0 0 !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_large-size .yap-abuse-complaint__item{display:block !important;margin:.5em .5em 0 0 !important}.ya_partner_R-A-149298-36 .yap-abuse-complaint.yap-abuse-complaint_large-size .yap-abuse-complaint__link{line-height:1.4em !important}.ya_partner_R-A-149298-36 .yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-36 .yap-layout_block_vertical .yap-abuse-message{bottom:1px !important}.ya_partner_R-A-149298-36 .yap-layout_block_320x50.yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-36 .yap-layout_block_320x100.yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-36 .yap-layout_block_poster-horizontal.yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-36 .yap-layout_block_poster-vertical.yap-layout_block_vertical .yap-abuse-message{bottom:0 !important}</style><style type="text/css">.ya_partner_R-A-149298-38,.ya_partner_R-A-149298-38 yatag{display:block !important;box-sizing:content-box !important}.ya_partner_R-A-149298-38,.ya_partner_R-A-149298-38 a,.ya_partner_R-A-149298-38 b,.ya_partner_R-A-149298-38 em,.ya_partner_R-A-149298-38 iframe,.ya_partner_R-A-149298-38 img,.ya_partner_R-A-149298-38 table,.ya_partner_R-A-149298-38 tbody,.ya_partner_R-A-149298-38 td,.ya_partner_R-A-149298-38 tr{font-size:inherit !important;background:none !important;border:none !important;border-radius:0 !important;border-spacing:0 !important;border-collapse:collapse !important;box-sizing:content-box !important;clear:none !important;float:none !important;font-variant:normal !important;font-weight:400 !important;letter-spacing:normal !important;line-height:normal !important;margin:0 !important;max-height:none !important;max-width:none !important;min-height:0 !important;min-width:0 !important;outline:none !important;padding:0 !important;position:static !important;text-align:left !important;text-decoration:none !important;text-indent:0 !important;text-transform:none !important;vertical-align:baseline !important;visibility:visible !important;word-spacing:normal !important}.ya_partner_R-A-149298-38,.ya_partner_R-A-149298-38 a,.ya_partner_R-A-149298-38 b,.ya_partner_R-A-149298-38 em,.ya_partner_R-A-149298-38 img,.ya_partner_R-A-149298-38 table,.ya_partner_R-A-149298-38 tbody,.ya_partner_R-A-149298-38 td,.ya_partner_R-A-149298-38 tr{height:auto !important}.ya_partner_R-A-149298-38 table{display:table !important;empty-cells:hide !important;table-layout:fixed !important}.ya_partner_R-A-149298-38 table,.ya_partner_R-A-149298-38 td{font-size:100% !important}.ya_partner_R-A-149298-38 td{display:table-cell !important;vertical-align:middle !important}.ya_partner_R-A-149298-38 .yap-rtb__wrapper{overflow:hidden !important;font:normal 13px Arial,sans-serif !important}.ya_partner_R-A-149298-38 .yap-rtb__iframe,.ya_partner_R-A-149298-38 .yap-rtb__wrapper{position:relative !important;width:300px !important;height:300px !important;margin:auto !important}.ya_partner_R-A-149298-38 .yap-rtb__iframe{z-index:2 !important}.ya_partner_R-A-149298-38 .yap-rtb__adtune-button{position:absolute !important;z-index:11 !important;right:0 !important;top:0 !important}.ya_partner_R-A-149298-38 .yap-rtb__feedback{border:1px solid #ccc !important;box-sizing:border-box !important}.ya_partner_R-A-149298-38 .yap-adtune{cursor:pointer !important}.ya_partner_R-A-149298-38 .yap-feedback-menu{z-index:-1 !important;transition:z-index 0s linear .4s !important}.ya_partner_R-A-149298-38 .yap-feedback-menu,.ya_partner_R-A-149298-38 .yap-feedback-menu__slide{position:absolute !important;top:0 !important;left:0 !important;width:100% !important;height:100% !important;overflow:hidden !important}.ya_partner_R-A-149298-38 .yap-feedback-menu__slide{margin-left:100% !important;transition:margin-left .4s ease-out !important}.ya_partner_R-A-149298-38 .yap-feedback-menu__form,.ya_partner_R-A-149298-38 .yap-feedback-menu__recieved{position:absolute !important;margin-left:0 !important;width:100% !important;height:100% !important;transition:margin-left .4s ease-out !important}.ya_partner_R-A-149298-38 .yap-feedback-menu__form{background:#fff !important;background:rgba(255, 255, 255, 0.98) !important}.ya_partner_R-A-149298-38 .yap-feedback-menu__recieved{margin-left:-100% !important;background:#fff !important}.ya_partner_R-A-149298-38 .yap-feedback-menu_visible{z-index:10 !important;transition:z-index 0s !important}.ya_partner_R-A-149298-38 .yap-feedback-menu_visible .yap-feedback-menu__slide{margin-left:0 !important}.ya_partner_R-A-149298-38 .yap-feedback-menu_recieved .yap-feedback-menu__form{margin-left:100% !important}.ya_partner_R-A-149298-38 .yap-feedback-menu_recieved .yap-feedback-menu__recieved{margin-left:0 !important}.ya_partner_R-A-149298-38 .yap-feedback-menu .yap-abuse-message{left:0 !important}.ya_partner_R-A-149298-38 .yap-adtune-icon__container{position:relative !important;padding:4px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon__image svg{display:block !important}.ya_partner_R-A-149298-38 .yap-adtune-icon__image polygon{fill:#000 !important}.ya_partner_R-A-149298-38 .yap-adtune-icon__image-fallback{margin:-3px !important;width:1em !important;height:1em !important;line-height:1em !important;text-align:center !important;font-size:18px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon__tooltip{position:absolute !important;top:50% !important;right:100% !important;margin-top:-9px !important;margin-right:6px !important;padding:0 4px !important;max-width:120px !important;height:18px !important;line-height:18px !important;color:#fff !important;background:#333 !important;background-color:rgba(0,0,0,.8) !important;border-radius:1px !important;visibility:hidden !important;font-size:11px !important;white-space:nowrap !important}.ya_partner_R-A-149298-38 .yap-adtune-icon__tooltip-arrow{position:absolute !important;top:3px !important;right:-6px !important;display:block !important;overflow:hidden !important;width:0 !important;height:0 !important;border-style:solid !important;border-width:6px 0 6px 6px !important;border-color:transparent transparent transparent #333 !important;border-color:transparent transparent transparent rgba(0,0,0,.8) !important}.ya_partner_R-A-149298-38 .yap-adtune-icon__tooltip-text{position:relative !important;color:#fff !important;letter-spacing:.04em !important}.ya_partner_R-A-149298-38 .yap-adtune-icon:hover .yap-adtune-icon__tooltip{visibility:visible !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_open:hover .yap-adtune-icon__tooltip{display:none !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_touch_true{visibility:visible !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_touch_true .yap-adtune-icon__tooltip{display:none !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_oldie_true .yap-adtune-icon__tooltip{height:19px !important;line-height:19px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_oldie_true .yap-adtune-icon__tooltip-arrow{top:2px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_size_l .yap-adtune-icon__container{padding:5px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_size_l .yap-adtune-icon__image-fallback{margin:-5px !important;font-size:25px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_size_l .yap-adtune-icon__tooltip{margin-right:9px !important;margin-top:-12px !important;max-width:160px !important;height:22px !important;line-height:22px !important;font-size:13px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_size_l .yap-adtune-icon__tooltip-arrow{right:-7px !important;top:4px !important;border-width:7px 0 7px 7px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_round{padding:5px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_round .yap-adtune-icon__container{border-radius:50% !important;background:#fff !important;box-shadow:0 1px 0 0 rgba(0,0,0,.2) !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_round.yap-adtune-icon_size_l{padding:5px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_round-flat .yap-adtune-icon__container{border-radius:50% !important;background:rgba(255,255,255,0.8) !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_round-square{padding:4px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_round-square .yap-adtune-icon__tooltip{margin-right:8px !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_round-square .yap-adtune-icon__container{border-radius:20% !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_black-white .yap-adtune-icon__container{background-color:rgba(0,0,0,.25) !important}.ya_partner_R-A-149298-38 .yap-adtune-icon_black-white .yap-adtune-icon__image polygon{fill:#fff !important}.ya_partner_R-A-149298-38 .yap-adtune-icon.yap-adtune-icon_open .yap-adtune-icon__tooltip{display:none !important}.ya_partner_R-A-149298-38 .yap-adtune-message{position:absolute !important;left:0 !important;top:0 !important;z-index:6 !important}.ya_partner_R-A-149298-38 .yap-adtune-message,.ya_partner_R-A-149298-38 .yap-adtune-message__table,.ya_partner_R-A-149298-38 .yap-adtune-message__text{width:100% !important;height:100% !important}.ya_partner_R-A-149298-38 .yap-adtune-message__check{vertical-align:middle !important;display:inline-block !important}.ya_partner_R-A-149298-38 .yap-adtune-message__text{vertical-align:middle !important;text-align:center !important;font-size:13px !important;color:#000 !important}.ya_partner_R-A-149298-38 .yap-adtune-message_big_true .yap-adtune-message__text{font-size:15px !important}.ya_partner_R-A-149298-38 .yap-abuse-message{position:absolute !important;top:0 !important;bottom:0 !important;margin-left:0 !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-align-items:center !important;-ms-flex-align:center !important;align-items:center !important;left:-101% !important;z-index:4 !important;width:100% !important;opacity:.98 !important;border:none !important;box-sizing:border-box !important;transition:margin-left 0s ease-out .4s,left .4s ease-out !important}.ya_partner_R-A-149298-38 .yap-abuse-message.yap-abuse-message_visible{margin-left:201% !important;left:-201% !important;transition:margin-left 0s,left .4s ease-out !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint{display:block !important;margin:auto !important;padding:0 !important;border-radius:3px !important;z-index:11 !important;font-size:1em !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint__title{color:#000 !important;font-weight:700 !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint .yap-abuse-complaint__item{display:inline-block !important;margin:0 10px 0 0 !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint .yap-abuse-complaint__link{text-decoration:none !important;color:#00c !important;cursor:pointer !important;border-bottom:none !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint .yap-abuse-complaint__link:hover{color:#c00 !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_small-size{padding-top:0 !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_small-size .yap-abuse-complaint__title{display:inline-block !important;margin-right:10px !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_small-size .adtune_cross{top:3px !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_middle-size{padding:.2em .5em !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_middle-size .yap-abuse-complaint__item,.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_middle-size .yap-abuse-complaint__title{display:block !important;font-size:.9em !important;margin:0 0 .4em !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_middle-size .complain_cross{right:1px !important;top:1px !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_max-size{padding:.5em 1.3em !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_max-size .yap-abuse-complaint__title{font-size:1.2em !important;display:block !important;margin:0 .6em 1em 0 !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_max-size .yap-abuse-complaint__item{display:block !important;margin:.75em .6em 0 0 !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_max-size .yap-abuse-complaint__link{line-height:1.4em !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_large-size{margin:.25em auto !important;padding:0 1em !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_large-size .yap-abuse-complaint__title{display:block !important;margin:0 .6em 0 0 !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_large-size .yap-abuse-complaint__item{display:block !important;margin:.5em .5em 0 0 !important}.ya_partner_R-A-149298-38 .yap-abuse-complaint.yap-abuse-complaint_large-size .yap-abuse-complaint__link{line-height:1.4em !important}.ya_partner_R-A-149298-38 .yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-38 .yap-layout_block_vertical .yap-abuse-message{bottom:1px !important}.ya_partner_R-A-149298-38 .yap-layout_block_320x50.yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-38 .yap-layout_block_320x100.yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-38 .yap-layout_block_poster-horizontal.yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-38 .yap-layout_block_poster-vertical.yap-layout_block_vertical .yap-abuse-message{bottom:0 !important}</style><style type="text/css">.ya_partner_R-A-149298-35,.ya_partner_R-A-149298-35 yatag{display:block !important;box-sizing:content-box !important}.ya_partner_R-A-149298-35,.ya_partner_R-A-149298-35 a,.ya_partner_R-A-149298-35 b,.ya_partner_R-A-149298-35 em,.ya_partner_R-A-149298-35 iframe,.ya_partner_R-A-149298-35 img,.ya_partner_R-A-149298-35 table,.ya_partner_R-A-149298-35 tbody,.ya_partner_R-A-149298-35 td,.ya_partner_R-A-149298-35 tr{font-size:inherit !important;background:none !important;border:none !important;border-radius:0 !important;border-spacing:0 !important;border-collapse:collapse !important;box-sizing:content-box !important;clear:none !important;float:none !important;font-variant:normal !important;font-weight:400 !important;letter-spacing:normal !important;line-height:normal !important;margin:0 !important;max-height:none !important;max-width:none !important;min-height:0 !important;min-width:0 !important;outline:none !important;padding:0 !important;position:static !important;text-align:left !important;text-decoration:none !important;text-indent:0 !important;text-transform:none !important;vertical-align:baseline !important;visibility:visible !important;word-spacing:normal !important}.ya_partner_R-A-149298-35,.ya_partner_R-A-149298-35 a,.ya_partner_R-A-149298-35 b,.ya_partner_R-A-149298-35 em,.ya_partner_R-A-149298-35 img,.ya_partner_R-A-149298-35 table,.ya_partner_R-A-149298-35 tbody,.ya_partner_R-A-149298-35 td,.ya_partner_R-A-149298-35 tr{height:auto !important}.ya_partner_R-A-149298-35 table{display:table !important;empty-cells:hide !important;table-layout:fixed !important}.ya_partner_R-A-149298-35 table,.ya_partner_R-A-149298-35 td{font-size:100% !important}.ya_partner_R-A-149298-35 td{display:table-cell !important;vertical-align:middle !important}.ya_partner_R-A-149298-35 .yap-rtb__wrapper{overflow:hidden !important;font:normal 13px Arial,sans-serif !important}.ya_partner_R-A-149298-35 .yap-rtb__iframe,.ya_partner_R-A-149298-35 .yap-rtb__wrapper{position:relative !important;width:300px !important;height:250px !important;margin:auto !important}.ya_partner_R-A-149298-35 .yap-rtb__iframe{z-index:2 !important}.ya_partner_R-A-149298-35 .yap-rtb__adtune-button{position:absolute !important;z-index:11 !important;right:0 !important;top:0 !important}.ya_partner_R-A-149298-35 .yap-rtb__feedback{border:1px solid #ccc !important;box-sizing:border-box !important}.ya_partner_R-A-149298-35 .yap-adtune{cursor:pointer !important}.ya_partner_R-A-149298-35 .yap-feedback-menu{z-index:-1 !important;transition:z-index 0s linear .4s !important}.ya_partner_R-A-149298-35 .yap-feedback-menu,.ya_partner_R-A-149298-35 .yap-feedback-menu__slide{position:absolute !important;top:0 !important;left:0 !important;width:100% !important;height:100% !important;overflow:hidden !important}.ya_partner_R-A-149298-35 .yap-feedback-menu__slide{margin-left:100% !important;transition:margin-left .4s ease-out !important}.ya_partner_R-A-149298-35 .yap-feedback-menu__form,.ya_partner_R-A-149298-35 .yap-feedback-menu__recieved{position:absolute !important;margin-left:0 !important;width:100% !important;height:100% !important;transition:margin-left .4s ease-out !important}.ya_partner_R-A-149298-35 .yap-feedback-menu__form{background:#fff !important;background:rgba(255, 255, 255, 0.98) !important}.ya_partner_R-A-149298-35 .yap-feedback-menu__recieved{margin-left:-100% !important;background:#fff !important}.ya_partner_R-A-149298-35 .yap-feedback-menu_visible{z-index:10 !important;transition:z-index 0s !important}.ya_partner_R-A-149298-35 .yap-feedback-menu_visible .yap-feedback-menu__slide{margin-left:0 !important}.ya_partner_R-A-149298-35 .yap-feedback-menu_recieved .yap-feedback-menu__form{margin-left:100% !important}.ya_partner_R-A-149298-35 .yap-feedback-menu_recieved .yap-feedback-menu__recieved{margin-left:0 !important}.ya_partner_R-A-149298-35 .yap-feedback-menu .yap-abuse-message{left:0 !important}.ya_partner_R-A-149298-35 .yap-adtune-icon__container{position:relative !important;padding:4px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon__image svg{display:block !important}.ya_partner_R-A-149298-35 .yap-adtune-icon__image polygon{fill:#000 !important}.ya_partner_R-A-149298-35 .yap-adtune-icon__image-fallback{margin:-3px !important;width:1em !important;height:1em !important;line-height:1em !important;text-align:center !important;font-size:18px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon__tooltip{position:absolute !important;top:50% !important;right:100% !important;margin-top:-9px !important;margin-right:6px !important;padding:0 4px !important;max-width:120px !important;height:18px !important;line-height:18px !important;color:#fff !important;background:#333 !important;background-color:rgba(0,0,0,.8) !important;border-radius:1px !important;visibility:hidden !important;font-size:11px !important;white-space:nowrap !important}.ya_partner_R-A-149298-35 .yap-adtune-icon__tooltip-arrow{position:absolute !important;top:3px !important;right:-6px !important;display:block !important;overflow:hidden !important;width:0 !important;height:0 !important;border-style:solid !important;border-width:6px 0 6px 6px !important;border-color:transparent transparent transparent #333 !important;border-color:transparent transparent transparent rgba(0,0,0,.8) !important}.ya_partner_R-A-149298-35 .yap-adtune-icon__tooltip-text{position:relative !important;color:#fff !important;letter-spacing:.04em !important}.ya_partner_R-A-149298-35 .yap-adtune-icon:hover .yap-adtune-icon__tooltip{visibility:visible !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_open:hover .yap-adtune-icon__tooltip{display:none !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_touch_true{visibility:visible !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_touch_true .yap-adtune-icon__tooltip{display:none !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_oldie_true .yap-adtune-icon__tooltip{height:19px !important;line-height:19px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_oldie_true .yap-adtune-icon__tooltip-arrow{top:2px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_size_l .yap-adtune-icon__container{padding:5px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_size_l .yap-adtune-icon__image-fallback{margin:-5px !important;font-size:25px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_size_l .yap-adtune-icon__tooltip{margin-right:9px !important;margin-top:-12px !important;max-width:160px !important;height:22px !important;line-height:22px !important;font-size:13px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_size_l .yap-adtune-icon__tooltip-arrow{right:-7px !important;top:4px !important;border-width:7px 0 7px 7px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_round{padding:5px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_round .yap-adtune-icon__container{border-radius:50% !important;background:#fff !important;box-shadow:0 1px 0 0 rgba(0,0,0,.2) !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_round.yap-adtune-icon_size_l{padding:5px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_round-flat .yap-adtune-icon__container{border-radius:50% !important;background:rgba(255,255,255,0.8) !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_round-square{padding:4px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_round-square .yap-adtune-icon__tooltip{margin-right:8px !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_round-square .yap-adtune-icon__container{border-radius:20% !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_black-white .yap-adtune-icon__container{background-color:rgba(0,0,0,.25) !important}.ya_partner_R-A-149298-35 .yap-adtune-icon_black-white .yap-adtune-icon__image polygon{fill:#fff !important}.ya_partner_R-A-149298-35 .yap-adtune-icon.yap-adtune-icon_open .yap-adtune-icon__tooltip{display:none !important}.ya_partner_R-A-149298-35 .yap-adtune-message{position:absolute !important;left:0 !important;top:0 !important;z-index:6 !important}.ya_partner_R-A-149298-35 .yap-adtune-message,.ya_partner_R-A-149298-35 .yap-adtune-message__table,.ya_partner_R-A-149298-35 .yap-adtune-message__text{width:100% !important;height:100% !important}.ya_partner_R-A-149298-35 .yap-adtune-message__check{vertical-align:middle !important;display:inline-block !important}.ya_partner_R-A-149298-35 .yap-adtune-message__text{vertical-align:middle !important;text-align:center !important;font-size:13px !important;color:#000 !important}.ya_partner_R-A-149298-35 .yap-adtune-message_big_true .yap-adtune-message__text{font-size:15px !important}.ya_partner_R-A-149298-35 .yap-abuse-message{position:absolute !important;top:0 !important;bottom:0 !important;margin-left:0 !important;display:-webkit-flex !important;display:-ms-flexbox !important;display:flex !important;-webkit-align-items:center !important;-ms-flex-align:center !important;align-items:center !important;left:-101% !important;z-index:4 !important;width:100% !important;opacity:.98 !important;border:none !important;box-sizing:border-box !important;transition:margin-left 0s ease-out .4s,left .4s ease-out !important}.ya_partner_R-A-149298-35 .yap-abuse-message.yap-abuse-message_visible{margin-left:201% !important;left:-201% !important;transition:margin-left 0s,left .4s ease-out !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint{display:block !important;margin:auto !important;padding:0 !important;border-radius:3px !important;z-index:11 !important;font-size:1em !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint__title{color:#000 !important;font-weight:700 !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint .yap-abuse-complaint__item{display:inline-block !important;margin:0 10px 0 0 !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint .yap-abuse-complaint__link{text-decoration:none !important;color:#00c !important;cursor:pointer !important;border-bottom:none !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint .yap-abuse-complaint__link:hover{color:#c00 !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_small-size{padding-top:0 !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_small-size .yap-abuse-complaint__title{display:inline-block !important;margin-right:10px !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_small-size .adtune_cross{top:3px !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_middle-size{padding:.2em .5em !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_middle-size .yap-abuse-complaint__item,.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_middle-size .yap-abuse-complaint__title{display:block !important;font-size:.9em !important;margin:0 0 .4em !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_middle-size .complain_cross{right:1px !important;top:1px !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_max-size{padding:.5em 1.3em !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_max-size .yap-abuse-complaint__title{font-size:1.2em !important;display:block !important;margin:0 .6em 1em 0 !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_max-size .yap-abuse-complaint__item{display:block !important;margin:.75em .6em 0 0 !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_max-size .yap-abuse-complaint__link{line-height:1.4em !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_large-size{margin:.25em auto !important;padding:0 1em !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_large-size .yap-abuse-complaint__title{display:block !important;margin:0 .6em 0 0 !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_large-size .yap-abuse-complaint__item{display:block !important;margin:.5em .5em 0 0 !important}.ya_partner_R-A-149298-35 .yap-abuse-complaint.yap-abuse-complaint_large-size .yap-abuse-complaint__link{line-height:1.4em !important}.ya_partner_R-A-149298-35 .yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-35 .yap-layout_block_vertical .yap-abuse-message{bottom:1px !important}.ya_partner_R-A-149298-35 .yap-layout_block_320x50.yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-35 .yap-layout_block_320x100.yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-35 .yap-layout_block_poster-horizontal.yap-layout_block_horizontal .yap-abuse-message,.ya_partner_R-A-149298-35 .yap-layout_block_poster-vertical.yap-layout_block_vertical .yap-abuse-message{bottom:0 !important}</style></head>

  <body class="nl"><div id="MathJax_Message" style="display: none;"></div><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_SVG_Hidden"></div><svg><defs id="MathJax_SVG_glyphs"></defs></svg></div>
    <div class="layout">
      <div class="layout__row layout__row_services">
        <div id="TMpanel">
  <div class="container">
    <div class="bmenu">
      <a href="https://tmfeed.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">TM Feed</a>
      <a href="https://habrahabr.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo" class="current">Хабрахабр</a>
      <a href="https://geektimes.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Geektimes</a>
      <a href="https://toster.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Тостер</a>
      <a href="https://moikrug.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Мой круг</a>
      <a href="https://freelansim.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Фрилансим</a>
    </div>
      <div class="bmenu_inner" style="display:inline-block!important;visibility:visible!important;">
        <span class="bmenu__label">Мегапосты:</span>
        <span class="bmenu slink"><a href="https://u.tmtm.ru/WSBAo" target="_blank" style="color: #d01d00" rel=" noopener">Убийца iPhone</a><a href="https://u.tmtm.ru/ofL2P" target="_blank" style="color: #3c86ee" rel=" noopener">Переезд на VDI </a><a href="https://u.tmtm.ru/Q3GLe" target="_blank" style="color: #31B007" rel=" noopener">Левел-дизайн игр</a></span>
        <span id="adriver_banner_465568687"></span>
      </div>
  </div>
</div>

      </div>

      <div class="layout__row layout__row_navbar">
        <div class="layout__cell">
          <div class="main-navbar">
  <div class="main-navbar__section main-navbar__section_left">
    <span class="logo-wrapper">
      <a href="https://habrahabr.ru/" class="logo" title="">
        <svg class="icon-svg icon-svg_logo-habrahabr" width="181" height="32" viewBox="0 0 181 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><title>Хабрахабр</title><path d="M24.736 1.044h-8.582L12.53 6.168 8.91 1.044H.325l7.898 11.194L0 23.888h8.583l3.948-5.58 3.95 5.58h8.583l-8.256-11.65zM34.033 7.082c-3.133 0-6.036.88-8.256 2.61l2.87 3.428c1.502-.98 3.754-1.535 5.255-1.535 1.372 0 2.577.36 2.577 2.09v.49c-6.56 0-11.096 1.142-11.096 5.58 0 3.133 2.252 4.633 5.71 4.633 1.665 0 3.885-.913 5.386-2.61v2.12h6.07V12.696c0-4.765-4.73-5.613-8.516-5.613zm2.448 11.455c-.912 1.21-1.89 1.73-2.773 1.73-1.24 0-1.6-.654-1.6-1.274 0-1.533 1.96-2.087 4.373-2.087v1.63zM53.937 8.746c-1.47 0-3.818.62-4.863 1.894.294-2.448 2.023-3.655 5.32-4.308 1.534-.294 5.155-.98 7.18-1.402L60.463 0c-2.546.62-4.864 1.143-7.508 1.633-6.657 1.24-8.125 5.156-8.125 12.14 0 6.658 2.743 10.608 8.813 10.608 5.188 0 8.615-3.426 8.615-8.517 0-3.983-2.87-7.116-8.32-7.116zm-.39 10.28c-1.437 0-2.644-1.24-2.644-2.675s1.207-2.675 2.643-2.675c1.436 0 2.643 1.24 2.643 2.676s-1.208 2.677-2.644 2.677zM74.82 7.082c-1.664 0-3.46 1.044-4.21 2.61v-2.12h-6.07v22.974h6.07v-8.778c.752 1.567 2.546 2.61 4.21 2.61 4.765 0 7.343-3.883 7.343-8.648 0-4.764-2.577-8.647-7.343-8.647zm-1.957 11.552c-.88 0-1.697-.423-2.252-1.108v-3.622c.555-.653 1.373-1.076 2.253-1.076 1.567 0 2.905 1.273 2.905 2.905 0 1.564-1.338 2.902-2.905 2.902zM92.767 7.082c-3.133 0-6.038.88-8.256 2.61l2.872 3.428c1.5-.98 3.753-1.535 5.254-1.535 1.372 0 2.58.36 2.58 2.09v.49c-6.56 0-11.098 1.142-11.098 5.58 0 3.133 2.252 4.633 5.71 4.633 1.665 0 3.885-.913 5.387-2.61v2.12h6.068V12.696c0-4.765-4.732-5.613-8.516-5.613zm2.448 11.455c-.915 1.21-1.894 1.73-2.775 1.73-1.24 0-1.6-.654-1.6-1.274 0-1.533 1.96-2.087 4.375-2.087v1.63zM122.723 7.57h-7.703l-2.055 4.276-2.057-4.275h-7.7l5.58 7.997-5.874 8.32h7.702l2.35-4.306 2.35 4.308h7.702l-6.528-8.32zM132.967 7.082c-3.133 0-6.038.88-8.257 2.61l2.873 3.428c1.503-.98 3.753-1.535 5.255-1.535 1.37 0 2.58.36 2.58 2.09v.49c-6.56 0-11.098 1.142-11.098 5.58 0 3.133 2.252 4.633 5.71 4.633 1.665 0 3.885-.913 5.386-2.61v2.12h6.068V12.696c0-4.765-4.732-5.613-8.516-5.613zm2.448 11.455c-.913 1.21-1.894 1.73-2.775 1.73-1.24 0-1.6-.654-1.6-1.274 0-1.533 1.96-2.087 4.375-2.087v1.63zM152.87 8.746c-1.468 0-3.817.62-4.862 1.894.294-2.448 2.023-3.655 5.32-4.308 1.536-.294 5.157-.98 7.18-1.402L159.397 0c-2.546.62-4.864 1.143-7.506 1.633-6.657 1.24-8.125 5.156-8.125 12.14 0 6.658 2.742 10.608 8.81 10.608 5.19 0 8.617-3.426 8.617-8.517 0-3.983-2.873-7.116-8.323-7.116zm-.39 10.28c-1.437 0-2.643-1.24-2.643-2.675s1.206-2.675 2.643-2.675c1.436 0 2.643 1.24 2.643 2.676 0 1.437-1.207 2.677-2.643 2.677zM173.754 7.082c-1.664 0-3.46 1.044-4.21 2.61v-2.12h-6.07v22.974h6.07v-8.778c.75 1.567 2.546 2.61 4.21 2.61 4.764 0 7.343-3.883 7.343-8.648 0-4.764-2.58-8.647-7.343-8.647zm-1.958 11.552c-.88 0-1.697-.423-2.252-1.108v-3.622c.554-.653 1.37-1.076 2.252-1.076 1.565 0 2.905 1.273 2.905 2.905 0 1.564-1.34 2.902-2.904 2.902z"></path></svg>
      </a>
      
    </span>
    <ul class="nav-links" id="navbar-links">
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/" class="nav-links__item-link ">Публикации</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/users/" class="nav-links__item-link ">Пользователи</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/hubs/" class="nav-links__item-link ">Хабы</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/companies/" class="nav-links__item-link ">Компании</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/sandbox/" class="nav-links__item-link ">Песочница</a>
  </li>
</ul>
    <form action="https://habrahabr.ru/search/#h" method="get" class="search-form" id="search-form">
  <button type="button" class="btn btn_navbar_search icon-svg_search" id="search-form-btn" title="Поиск по сайту">
    <svg class="icon-svg" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" version="1.1" role="img"><path d="M21.416 13.21c0 4.6-3.65 8.34-8.14 8.34S5.11 17.81 5.11 13.21c0-4.632 3.65-8.373 8.167-8.373 4.488 0 8.14 3.772 8.14 8.372zm1.945 7.083c1.407-2.055 2.155-4.57 2.155-7.084C25.515 6.277 20.04.665 13.277.665S1.04 6.278 1.04 13.21c0 6.93 5.475 12.542 12.237 12.542 2.454 0 4.907-.797 6.942-2.208l7.6 7.79 3.14-3.22-7.6-7.82z"></path></svg>
  </button>
  <label class="search-form__field-wrapper">
    <input type="text" name="q" class="search-form__field" id="search-form-field" placeholder="Поиск" tabindex="-1">
    <button type="button" class="btn btn_search-close" id="search-form-clear" title="Закрыть">
      <svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"></path></svg>

    </button>
  </label>
</form>

  </div>

  <div class="main-navbar__section main-navbar__section_right">
      <a href="https://habrahabr.ru/auth/login/" id="login" class="btn btn_x-large btn_navbar_login">Войти</a>
      <a href="https://habrahabr.ru/auth/register/" class="btn btn_x-large btn_navbar_registration">Регистрация</a>


  </div>
</div>

        </div>
      </div>

      <div class="layout__row layout__row_body">
        <div class="layout__cell layout__cell_body">
          
          



<section class="column-wrapper js-sticky-wrapper">
  <div class="content_left js-content_left">
    
    <article class="post post_full" id="post_188234">
  <div class="post__wrapper">
    <header class="post__meta">
      <a href="https://habrahabr.ru/users/Ivaneo/" class="post__user-info user-info" title="Автор публикации">
          <img src="./Пишем простой ThreadPool с async и future_files/27a889d15236d239a4bdf3b21b44c5e2.png" width="24" height="24" class="user-info__image-pic user-info__image-pic_small">
        <span class="user-info__nickname user-info__nickname_small">Ivaneo</span>
      </a>

      <span class="post__time">29 июля 2013 в 22:04</span>

      
    </header>

    <h1 class="post__title post__title_full">
      <span class="post__title-text">Пишем простой ThreadPool с async и future</span>
    </h1>


      <ul class="post__hubs post__hubs_full-post inline-list">
          <li class="inline-list__item inline-list__item_hub">
            <a href="https://habrahabr.ru/hub/programming/" class="inline-list__item-link hub-link " title="Вы не подписаны на этот хаб" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;hub&#39;, &#39;post page&#39;, &#39;Программирование&#39;); }">Программирование</a>, 
          </li>
          <li class="inline-list__item inline-list__item_hub">
            <a href="https://habrahabr.ru/hub/parallel_programming/" class="inline-list__item-link hub-link " title="Вы не подписаны на этот хаб" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;hub&#39;, &#39;post page&#39;, &#39;Параллельное программирование&#39;); }">Параллельное программирование</a>, 
          </li>
          <li class="inline-list__item inline-list__item_hub">
            <a href="https://habrahabr.ru/hub/cpp/" class="inline-list__item-link hub-link " title="Вы не подписаны на этот хаб" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;hub&#39;, &#39;post page&#39;, &#39;C++&#39;); }">C++</a>
          </li>
      </ul>

    <ul class="post__marks inline-list"><li class="inline-list__item inline-list__item_post-type"><a href="https://habrahabr.ru/sandbox/" class="post__type-label" title="Перейти в песочницу">Из песочницы</a></li></ul>


    <div class="post__body post__body_full">
      <div class="post__text post__text-html js-mediator-article">Доброе время суток! Я занимаюсь разработкой MMORPG. В игре асинхронной загрузкой файлов занимается файловая система встроенная в движок, остальная логика обрабатывалась в основном потоке. Но помимо загрузки файлов есть и другие тяжеловесные операции, например инициализация персонажа, которая включает в себя распарсивание XML данных, композиция текстур и т.д. И я столкнулся с необходимостью разгрузить основной поток игры для повышения fps.<br>
Вооружившись гуглом и прочитав несколько последних статей на Хабре о потоках, решил попробовать свои силы и написать свой <s>велосипед </s> ThreadPool. Основной моей целью было написать простой в использовании и расширяемый пул потоков, с возможностью асинхронного вызова функций с любым количеством аргументов и получения возвращаемого значения. Предлагаемые на Хабре решения меня не устроили в силу многих проблем, от которых я постарался избавиться в своем решении – использовать минимум шаблонной магии и отказаться от абстрактных классов и наследования. Я хочу поделиться своим опытом с вами. <br>
<br>
<a name="habracut"></a><br>
<br>
И так, необходимо реализовать всего два класса, сам пул и класс рабочего потока, экземпляры которого будут управляться пулом. <br>
Для реализации я использовал следующие заголовочные файлы:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;functional&gt;</span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;thread&gt;</span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;queue&gt;</span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;mutex&gt;</span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;memory&gt;</span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;condition_variable&gt;</span></span></span></span>
</code></pre><br>
<br>
<h4>Класс рабочего потока:</h4><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> function&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>()&gt; fn_type;

<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Worker
{    
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:

	Worker()
		:enabled(<span class="hljs-literal"><span class="hljs-literal">true</span></span>),fqueue()
		,thread(&amp;Worker::thread_fn, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)
	{}
	~Worker()
	{
		enabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;
		cv.notify_one();	
		thread.join();
	}
	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">appendFn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fn_type fn)</span></span></span><span class="hljs-function">
	</span></span>{
		<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::unique_lock&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::mutex&gt; locker(mutex);
		fqueue.push(fn);			
		cv.notify_one();
	}
	<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> getTaskCount() 		
	{ 
		<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::unique_lock&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::mutex&gt; locker(mutex);
		<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fqueue.size();		
	}
	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function">   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isEmpty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> 			
	</span></span>{ 
		<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::unique_lock&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::mutex&gt; locker(mutex);
		<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fqueue.empty();	
	}

<span class="hljs-keyword"><span class="hljs-keyword">private</span></span>:

	<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>				enabled;
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::condition_variable		cv;
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">queue</span></span>&lt;fn_type&gt;			fqueue;
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::mutex				mutex;
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::thread				thread;	

	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thread_fn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;
};

<span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;Worker&gt; worker_ptr;
</code></pre><br>
<br>
Класс довольно простой, содержит <a href="http://en.cppreference.com/w/cpp/thread/mutex">std::mutex</a> для синхронизации, сам <a href="http://en.cppreference.com/w/cpp/thread/thread">std::thread</a>, флаг включения, <a href="http://en.cppreference.com/w/cpp/thread/condition_variable">std::condition_variable</a> для уведомления потока и очередь функторов std::function&lt;void()&gt;. Вы наверно спросите – а как мы будем вызывать функции других типов? Ответ ждет вас ниже в статье. <br>
Функция вызываемая в потоке будет выглядеть вот так:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thread_fn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{
	<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (enabled)
	{
		<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::unique_lock&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::mutex&gt; locker(mutex);
		<span class="hljs-comment"><span class="hljs-comment">// Ожидаем уведомления, и убедимся что это не ложное пробуждение</span></span>
		<span class="hljs-comment"><span class="hljs-comment">// Поток должен проснуться если очередь не пустая либо он выключен</span></span>
		cv.wait(locker, [&amp;](){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> !fqueue.empty() || !enabled; });				
		<span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(!fqueue.empty())
		{
			fn_type fn = fqueue.front();
			<span class="hljs-comment"><span class="hljs-comment">// Разблокируем мютекс перед вызовом функтора</span></span>
			locker.unlock();
			fn();
			<span class="hljs-comment"><span class="hljs-comment">// Возвращаем блокировку снова перед вызовом fqueue.empty() </span></span>
			locker.lock();
			fqueue.pop();
		}				
	}
}
</code></pre><br>
Поток будет спать пока не получит уведомление, которое мы отправляем при добавлении новой функции либо при уничтожении класса Worker. Проснувшись в цикле просматриваем очередь на наличие функторов, если нашли — вытаскиваем и вызываем. <br>
Это все, что нам необходимо для этого класса. <br>
<br>
<h4>Класс ThreadPool</h4><br>
<br>
Теперь сам пул потоков. Я специально не стал прикручивать к нему плюшки типа очередей с приоритетами, синглтона и т.п. В статье мы рассмотрим только базовую реализацию. Все остальное при желании можно легко добавить. <br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> ThreadPool
{
<span class="hljs-keyword"><span class="hljs-keyword">public</span></span>:

	ThreadPool(<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> threads = <span class="hljs-number"><span class="hljs-number">1</span></span>)
	{
		<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (threads==<span class="hljs-number"><span class="hljs-number">0</span></span>)
			threads=<span class="hljs-number"><span class="hljs-number">1</span></span>;
		<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;threads; i++)
		{
			<span class="hljs-function"><span class="hljs-function">worker_ptr </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pWorker</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(new Worker)</span></span></span></span>;
			_workers.push_back(pWorker);
		}
	}
	~ThreadPool() {}

<span class="hljs-keyword"><span class="hljs-keyword">private</span></span>:
		
	<span class="hljs-function"><span class="hljs-function">worker_ptr </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFreeWorker</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>;

	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;worker_ptr&gt; _workers; 

};
</code></pre> <br>
<br>
При создании в конструкторе можно указать сколько потоков будет использовать пул. <br>
Для получения потока в который мы будем передавать наши функторы используем функцию getFreeWorker:<br>
<br>
<pre><code class="cpp hljs">worker_ptr ThreadPool::getFreeWorker()
{
	worker_ptr pWorker;
	<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> minTasks = UINT32_MAX;				
	<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;it : _workers)
	{
		<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (it-&gt;isEmpty())
		{
			<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> it;
		}
		<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (minTasks &gt; it-&gt;getTaskCount())
		{
			minTasks = it-&gt;getTaskCount();
			pWorker = it;
		}
	}
	<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pWorker;
}
</code></pre><br>
<br>
Функция находит ближайший свободный поток либо поток у которого меньше всего заданий и возвращает его. <br>
Таким образом задания будут распределены между потоками равномерно но это не гарантирует оптимальное распределение нагрузок. <br>
<br>
<h4>Вызов функций с аргументами</h4><br>
<br>
Окей, пул мы создали, как передать в него нашу функцию? <br>
Для этого мы используем новые возможности С++11 такие как <a href="http://en.cppreference.com/w/cpp/utility/functional/bind">std::bind</a>, лямбды, <a href="http://en.cppreference.com/w/cpp/utility/functional/function">std::function</a> и variadic templates.<br>
Добавим в класс ThreadPool следующий метод:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> _FN, <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>... _ARGS&gt;
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">runAsync</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_FN _fn, _ARGS... _args)</span></span></span><span class="hljs-function">
</span></span>{
	getFreeWorker()-&gt;appendFn(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::bind(_fn,_args...));
}
</code></pre><br>
<br>
Вот так просто, без лишних вызовов, кортежей и абстрактных классов. Мы упаковываем указатель на функцию и ее аргументы с помощью bind'a в функтор и сразу передаем его в один из рабочих потоков.<br>
Использовать это довольно просто:<br>
<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">Пример</b><div class="spoiler_text" style="display: block;"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">					
</span></span>{ 
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"foo()"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; 
}
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> f)</span></span></span><span class="hljs-function">	
</span></span>{ 
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"foo2("</span></span> &lt;&lt; i &lt;&lt; <span class="hljs-string"><span class="hljs-string">", "</span></span> &lt;&lt; f &lt;&lt; <span class="hljs-string"><span class="hljs-string">")"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; 
}
<span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> Baz
{
	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> 
	</span></span>{ 
		<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Baz::bar()"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; 
	}
	<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bar2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> d, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp;str)</span></span></span><span class="hljs-function"> 
	</span></span>{ 
		<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"Baz::bar2("</span></span> &lt;&lt; d &lt;&lt; <span class="hljs-string"><span class="hljs-string">", "</span></span> &lt;&lt; str &lt;&lt; <span class="hljs-string"><span class="hljs-string">")"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; 
	}
};

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{
	ThreadPool pool;

	Baz* pBaz = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Baz();
	Baz baz;

	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::function&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)&gt; myFn = [&amp;](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b)
	{ 
		<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"functor("</span></span> &lt;&lt; a &lt;&lt; <span class="hljs-string"><span class="hljs-string">", "</span></span> &lt;&lt; b &lt;&lt; <span class="hljs-string"><span class="hljs-string">")"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
	 };

	<span class="hljs-comment"><span class="hljs-comment">// Вызов простой функции</span></span>
	pool.runAsync(&amp;foo);
	<span class="hljs-comment"><span class="hljs-comment">// Вызов функции с аргументами</span></span>
	pool.runAsync(&amp;foo2,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">54.5f</span></span>);
	<span class="hljs-comment"><span class="hljs-comment">// Вызов метода класса, указатель на класс передаем 2м аргументом</span></span>
	pool.runAsync(&amp;Baz::bar,pBaz);
	<span class="hljs-comment"><span class="hljs-comment">// Вызов метода класса с аргументами *</span></span>
	pool.runAsync(&amp;Baz::bar2,&amp;baz,<span class="hljs-number"><span class="hljs-number">400.3</span></span>,<span class="hljs-string"><span class="hljs-string">"Hello World!"</span></span>);
	<span class="hljs-comment"><span class="hljs-comment">// Вызов лямбда функции</span></span>
	pool.runAsync([](){ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"lambda()"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; });
	<span class="hljs-comment"><span class="hljs-comment">// Вызов функтора</span></span>
	pool.runAsync(myFn,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>);
}
</code></pre><br>
В результате получим вот такое, либо в другом порядке, если потоков много:<br>
<br>
foo()<br>
foo2(100, 54.5)<br>
Baz::bar()<br>
Baz::bar2(400.3, Hello World!)<br>
lambda()<br>
functor(10, 20)<br>
<br>
</div></div><br>
<br>
* Обратите внимание, в примере, где мы передаем метод класса с аргументами в качестве указателя на объект Baz использовался локальный объект на стеке. Я добавил это для примера, но так лучше не делать, в данном случае нужно быть внимательным, объект для которого вызывается функция находится на стеке и если поток выполнит функцию когда объект будет уже уничтожен, с большой вероятностью ваша программа упадет.<br>
<br>
Теперь нам нужен метод, который позволял бы получить результат работы функции которую мы передаем.<br>
Для этого добавим простую структуру которая будет хранить возвращаемое значение наподобие <a href="http://en.cppreference.com/w/cpp/thread/future">std::future</a>.<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> _T&gt;
<span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> AData
{
	AData():ready(<span class="hljs-literal"><span class="hljs-literal">false</span></span>){}
	<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> ready;
	_T data;
};
</code></pre><br>
<br>
Два поля, сами данные и флаг, который укажет нам что результат готов к использованию.<br>
Можно создать полноценный клон std::future, с wait методами, но для нашего примера хватит и этого. <br>
<br>
Сама функция выглядит так:<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> _R, <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> _FN, <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>... _ARGS&gt;
<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;AData&lt;_R&gt;&gt; runAsync(_FN _fn, _ARGS... _args)
{
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::function&lt;_R()&gt; rfn = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::bind(_fn,_args...);  
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;AData&lt;_R&gt;&gt; pData(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AData&lt;_R&gt;());
	fn_type fn = [=]()
	{
		pData-&gt;data = rfn();
		pData-&gt;ready = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;
	};
	getFreeWorker()-&gt;appendFn(fn);
	<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pData;
}
</code></pre><br>
Тут так же упаковываем аргументы с помощью bind'a в функтор и создаем экземпляр нашей структуры для хранения результата. Затем создаем еще одну функцию с помощью лямбды удобного для нас формата void() и передаем ее потоку на выполнение.<br>
Используется точно так же, только мы явно должны указывать тип возвращаемого значения как показано в примере.<br>
<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">Пример</b><div class="spoiler_text" style="display: block;"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">					
</span></span>{ 
	<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">14.5</span></span>;
}

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function">
</span></span>{
	<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a+b;
}

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{
	ThreadPool pool;

	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::function&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)&gt; myFn = [&amp;](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b)
	{ 
		<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> str = <span class="hljs-string"><span class="hljs-string">"String = "</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::to_string(a)+<span class="hljs-string"><span class="hljs-string">" "</span></span>+<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::to_string(b);
		<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> str;
	};

	<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> r1 = pool.runAsync&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;(&amp;foo);
	<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> r2 = pool.runAsync&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;(&amp;sum,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">54</span></span>);
	<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> r3 = pool.runAsync&lt;<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;([](){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; });
	<span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> r4 = pool.runAsync&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt;(myFn,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>);

	<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!r1-&gt;ready);  <span class="hljs-comment"><span class="hljs-comment">// Ждем результатов</span></span>
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; r1-&gt;data &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!r2-&gt;ready); 
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; r2-&gt;data &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!r3-&gt;ready); 
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; r3-&gt;data &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;
	<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (!r4-&gt;ready); 
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; r4-&gt;data &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>;

	<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;
}
</code></pre><br>
Вывод программы:<br>
14.5<br>
154<br>
1<br>
String = 50 20<br>
</div></div><br>
<br>
Можно создать шаблонный метод который сам определяет тип возвращаемого значения, например так:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">class</span></span> _R, <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>... _FN_ARGS, <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>... _ARGS&gt;
<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;AData&lt;_R&gt;&gt; runAsync(_R (*_fn)(_FN_ARGS...), _ARGS... _args)
{
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::function&lt;_R()&gt; rfn = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::bind(_fn,_args...);  
	<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">shared_ptr</span></span>&lt;AData&lt;_R&gt;&gt; pData(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AData&lt;_R&gt;());
	fn_type fn = [=]()
	{
		pData-&gt;data = rfn();
		pData-&gt;ready = <span class="hljs-literal"><span class="hljs-literal">true</span></span>;
	};
	getFreeWorker()-&gt;appendFn(fn);
	<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pData;
}
</code></pre><br>
<br>
Но для вызова метода класса такая функция уже не подойдет. <br>
Для этого нам придется добавить отдельную перегрузку принимающую функцию формата __thiscall. Тоже самое для функторов, лямбд и прочего. Поэтому первый вариант более универсален, к тому же он позволяет нам сразу увидеть тип возвращаемого значения не заглядывая в объявление передаваемой функции. <br>
<br>
На этом все. Получился очень простой и удобный пул потоков. Код проверялся на VS 2012.<br>
Полный исходник можно глянуть <a href="https://github.com/Ivaneo/threadpool">тут</a>.<br>
<br>
<b>Updated:</b> Исправил ошибки с race conditions и добавил condition_variable для пробуждения рабочего потока.</div>
      
<script class="js-mediator-script">!function(e){function t(t,n){if(!(n in e)){for(var r,a=e.document,i=a.scripts,o=i.length;o--;)if(-1!==i[o].src.indexOf(t)){r=i[o];break}if(!r){r=a.createElement("script"),r.type="text/javascript",r.async=!0,r.defer=!0,r.src=t,r.charset="UTF-8";var d=function(){var e=a.getElementsByTagName("script")[0];e.parentNode.insertBefore(r,e)};"[object Opera]"==e.opera?a.addEventListener?a.addEventListener("DOMContentLoaded",d,!1):e.attachEvent("onload",d):d()}}}t("//mediator.mail.ru/script/2820404/","_mediator")}(window);</script>
    </div>

    

    <dl class="post__tags">
      <dt class="post__tags-label">Метки:</dt>
      <dd class="post__tags-list">    <ul class="inline-list inline-list_fav-tags js-post-tags">
        <li class="inline-list__item inline-list__item_tag"><a href="https://habrahabr.ru/search/?q=%5B%D1%81%2B%2B11%5D&amp;target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">с++11</a></li>
        <li class="inline-list__item inline-list__item_tag"><a href="https://habrahabr.ru/search/?q=%5Bthreads%5D&amp;target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">threads</a></li>
        <li class="inline-list__item inline-list__item_tag"><a href="https://habrahabr.ru/search/?q=%5Basynchronous%5D&amp;target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">asynchronous</a></li>
        <li class="inline-list__item inline-list__item_tag"><a href="https://habrahabr.ru/search/?q=%5B%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%5D&amp;target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">программирование</a></li>
    </ul>
    <button type="button" class="btn btn_outline_grey btn_mini hidden js-fav-edit-link" data-type="2" data-id="188234" onclick="show_edit_tags(this)">Добавить метки</button>
</dd>
    </dl>
  </div>
</article>


    <form action="https://habrahabr.ru/json/favorites/" method="post" class="form form_bordered form_favorites-tags hidden" id="edit_tags_form">
  <input type="hidden" name="action" value="add">
  <input type="hidden" name="ti" value="0">
  <input type="hidden" name="tt" value="0">

  <button type="button" class="btn form__close-btn" onclick="closeForm(this)" title="Закрыть"><svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"></path></svg>
</button>

  <fieldset class="form__fieldset">
    <legend class="form__legend">Пометьте публикацию своими метками</legend>
    <input type="text" name="tags_string" class="form__text-field" autocomplete="off">
    <span class="form__desc">Метки лучше разделять запятой. Например: <i>программирование, алгоритмы</i></span>
  </fieldset>

  <div class="form__footer">
    <button type="submit" class="btn btn_x-large btn_outline_blue" disabled="">Сохранить</button>
  </div>
</form>

  </div>

  <div class="sidebar_right sidebar_content-area sticky_init">
      <!-- /235032688/HH/HH01_ATF_Poster -->
<div class="dfp-slot dfp-slot_top is_visible">
  <div class="dfp-slot__banner" id="div-gpt-hh-atf" data-google-query-id="CMf__vGf4tkCFYI24AodSiwCAg" style=""><yatag class="yap-reset ya_partner_R-A-149298-35" lang="ru"><yatag class="yap-rtb__wrapper"><yatag class="yap-rtb__iframe"><iframe id="ya_partner_R-A-149298-35" width="300" height="250" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" vspace="0" hspace="0" src="./Пишем простой ThreadPool с async и future_files/saved_resource.html"></iframe></yatag><yatag class="yap-rtb__adtune-button"></yatag></yatag></yatag></div>
  <div class="dfp-slot__placeholder">
  <span class="dfp-slot__placeholder-text">AdBlock похитил этот баннер, но&nbsp;баннеры не&nbsp;зубы — отрастут<br><br><a href="https://u.tmtm.ru/tmtalkadblock" class="btn btn_large btn_blue" target="_blank" rel=" noopener">Подробнее</a></span>
</div>
<a href="https://tmtm.ru/services/advertising/" target="_blank" class="dfp-slot__label" rel=" noopener">Реклама</a>

</div>

      
      

  <div class="wrapper-sticky" style="display: block; height: 630px; width: auto; margin: auto; position: relative; float: none; left: auto; right: auto; top: auto; bottom: auto; vertical-align: top;"><div class="js-ad_sticky" style="width: 300px; top: 0px; bottom: auto; left: 0px; right: auto; position: absolute;">
    <div class="default-block default-block_sidebar">
      <div class="default-block__header">
        <span class="default-block__header-title">Читают сейчас</span>
      </div>

      <div class="default-block__content default-block__content_most-read" id="broadcast_most-read">
            <ul class="content-list content-list_most-read">
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habrahabr.ru/post/350822/" class="post-info__title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;most_read&#39;, &#39;now&#39;); }">Как я искал работу в Сингапуре</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">6,4k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350822/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">44</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habrahabr.ru/company/ruvds/blog/350758/" class="post-info__title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;most_read&#39;, &#39;now&#39;); }">Начинающему веб-мастеру: делаем одностраничник на Bootstrap 4 за полчаса</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">8k</span>
                    </span>
                    <a href="https://habrahabr.ru/company/ruvds/blog/350758/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">15</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habrahabr.ru/company/everydaytools/blog/350642/" class="post-info__title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;most_read&#39;, &#39;now&#39;); }">Как я заработал 200 000 $ в 16 лет</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">35,5k</span>
                    </span>
                    <a href="https://habrahabr.ru/company/everydaytools/blog/350642/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">43</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habrahabr.ru/post/350810/" class="post-info__title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;most_read&#39;, &#39;now&#39;); }">Подвесные топливные баки для самолётов</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">5k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350810/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">3</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habrahabr.ru/post/350808/" class="post-info__title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;most_read&#39;, &#39;now&#39;); }">Задача про forEach(ps::println) от СКБ Контур</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">2,7k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350808/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">0</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habrahabr.ru/post/350832/" class="post-info__title" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;most_read&#39;, &#39;now&#39;); }">6 интересных багов, с которыми я столкнулся, пока делал игру для ВКонтакте</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">2,2k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350832/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter post-info__meta-counter_small">1</span>
                    </a>
                  </div>
                </li>
            </ul>
      </div>
    </div>
  </div></div>

      <!-- /235032688/HH/HH03_inpage_Vertical -->
<div class="dfp-slot dfp-slot_sticky-bottom js-banner-bottom">
  <div class="dfp-slot__banner" id="div-gpt-hh-inpage-vertical" data-google-query-id="CMj__vGf4tkCFYI24AodSiwCAg" style=""><yatag class="bxyzpeoddy fpqumce" id="bxyzpeoddy" lang="ru"><yatag class="lycjueglt gydcvegaus jzjllfvxxt"><yatag class="frozzkpghx"></yatag><yatag class="bscrpdpmi hqfgojrq"><table class="exeihcmf mssiujkzkr dzgftewns"><tbody><tr class="mopiipjf azgsuf"><td class="jyhrdpywb mtqjjny bvxwrll lypzpgb"><yatag class="howsqpljh ctmgig fqbrkn dvjdlylp ksowrrg bwfzxnrosj dzosbmjca grizvzuk" data-id="5418657695" data-uniq-id="1520701853526"><yatag class="mrcpttukq" style="height: 131px !important;"><yatag class="isprhnq buymyfft"><a class="erqmmhwb mwxxwxl" href="https://an.yandex.ru/count/FzuUbQdN03O509y1CQOHf5e00000EEIS4a02I09Wl0Xe172epwdH2e01x_UEp0Q80QFFbQCia06-dj6lA9W1yexkn2QW0RoUqQyeg068ZDV49hW1z9IuZXV00GBO0VBkr17e0QW1-06Kkjw-0OW29Q02iFIT5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09g0C8i0C4k0J_0UW4UVW4kvbAY0MxcKgG1PAkjmIW1P-X5gW5pkuIi0NExXAu1Q6Va0701V3ZW0Z81UJ4X0BG1VZw2E05Al050PW6ge_92w06kWAe1he2mGQPAok0-G1SQya6cIihWFa0N6lH1fbJbcxw05nhsGO0LW0G1G000Aa7X3gKInfse0-m1u20a2J01y34w8yBq0S2u0U62lW70O080T08keg0WS2GGE08cFhE2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBkvbAy0i6Y0oKkjw-0V8D0FeD088E0000?test-tag=41237424898145&amp;stat-id=37&amp;" target="_blank" style="width: 299px !important; height: 131px !important;"><yatag class="kuybpjcc iphjwlwqwk"><yatag class="booskfy" style="background-image: url(&quot;//avatars.mds.yandex.net/get-direct/404781/aoXoKC74sSj5uO89CzW1kw/x450&quot;) !important;"></yatag><yatag class="iqqlaflv ardhfcdd huecralsy lsplbw moytugypqd" style="width: 299px !important; height: 131px !important;"><yatag class="lvmdkofur"><img class="lxfeszmjm" alt="" src="./Пишем простой ThreadPool с async и future_files/x450" style="width: 299px !important; height: 299px !important; top: -84px !important; left: 0px !important;"></yatag></yatag></yatag></a></yatag></yatag><yatag class="knpbsgjwx gsisofarxg"><a class="gsjclqomki hvlkvmheau" href="https://an.yandex.ru/count/FzuUbQdN03O509y1CQOHf5e00000EEIS4a02I09Wl0Xe172epwdH2e01x_UEp0Q80QFFbQCia06-dj6lA9W1yexkn2QW0RoUqQyeg068ZDV49hW1z9IuZXV00GBO0VBkr17e0QW1-06Kkjw-0OW29Q02iFIT5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09g0C8i0C4k0J_0UW4UVW4kvbAY0MxcKgG1PAkjmIW1P-X5gW5pkuIi0NExXAu1Q6Va0701V3ZW0Z81UJ4X0BG1VZw2E05Al050PW6ge_92w06kWAe1he2mGQPAok0-G1SQya6cIihWFa0N6lH1fbJbcxw05nhsGO0LW0G1G000Aa7X3gKInfse0-m1u20a2J01y34w8yBq0S2u0U62lW70O080T08keg0WS2GGE08cFhE2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBkvbAy0i6Y0oKkjw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;" target="_blank">thepw.ru</a></yatag><yatag class="mxhmiwhkgr"><yatag class="csqpcjtf"><yatag class="kvgckjt aypmstxwz lozedvsd"><a class="iotjorjh hvlkvmheau" href="https://an.yandex.ru/count/FzuUbQdN03O509y1CQOHf5e00000EEIS4a02I09Wl0Xe172epwdH2e01x_UEp0Q80QFFbQCia06-dj6lA9W1yexkn2QW0RoUqQyeg068ZDV49hW1z9IuZXV00GBO0VBkr17e0QW1-06Kkjw-0OW29Q02iFIT5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09g0C8i0C4k0J_0UW4UVW4kvbAY0MxcKgG1PAkjmIW1P-X5gW5pkuIi0NExXAu1Q6Va0701V3ZW0Z81UJ4X0BG1VZw2E05Al050PW6ge_92w06kWAe1he2mGQPAok0-G1SQya6cIihWFa0N6lH1fbJbcxw05nhsGO0LW0G1G000Aa7X3gKInfse0-m1u20a2J01y34w8yBq0S2u0U62lW70O080T08keg0WS2GGE08cFhE2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBkvbAy0i6Y0oKkjw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;" target="_blank"><yatag class="lozedvsd bzmjfdf"><yatag class="mwqveeum fqdcfcl">Ищете <b>игру Perfect World</b>?</yatag></yatag></a></yatag>&nbsp;<yatag class="jvafaxie dqhlmkmklu cqubiydjxj dnmmxa"><yatag class="mpctqtqqub">18+</yatag></yatag></yatag><yatag class="kwkeutrzo gwnlaekit"><yatag class="mwqveeum fqdcfcl">Играй бесплатно у&nbsp;нас на&nbsp;классическом PvE/PvP-сервере с&nbsp;высоким онлайном!</yatag></yatag><yatag class="fxngwop izoijdb ctmvhloy"><yatag class="kqmkmdwzb" style="height: 22px !important;"><yatag class="izxkewtjf"><yatag class="hwxrevzcaj bruugu"><yatag class="jnxuwp grqchpi"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbNzfpiW509y1CQOHf5e00000EEIS4a02I09Wl0Xe172epwdH2e01x_UEp0Q80QFFbQCia06-dj6lA9W1yexkn2QW0RoUqQyeg068ZDV49hW1z9IuZXV00GpO0VBkr17e0QW1-06Kkjw-0OW29Q02iFIT5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09g0C8i0C4k0J_0UW4UVW4kvbAY0MxcKgG1PAkjmIW1P-X5gW5pkuIi0NExXAu1Q6Va0701V3ZW0Z81UJ4X0BG1VZw2E05Al050PW6ge_92w06kWAe1he2mGQPAok0-G1SQya6cIihWFa0N6lH1fbJbcxw05nhsGO0LW0G1G000Aa7X3gKInfse0-m1u20a2J01y34w8yBq0S2u0U62lW70O080T08keg0WS2GGE08cFhE2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBkvbAy0i6Y0oKkjw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;">О&nbsp;сервере</a></yatag><yatag class="jnxuwp avizrhex"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbGbbLNK509y1CQOHf5e00000EEIS4a02I09Wl0Xe172epwdH2e01x_UEp0Q80QFFbQCia06-dj6lA9W1yexkn2QW0RoUqQyeg068ZDV49hW1z9IuZXV00H3O0VBkr17e0QW1-06Kkjw-0OW29Q02iFIT5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09g0C8i0C4k0J_0UW4UVW4kvbAY0MxcKgG1PAkjmIW1P-X5gW5pkuIi0NExXAu1Q6Va0701V3ZW0Z81UJ4X0BG1VZw2E05Al050PW6ge_92w06kWAe1he2mGQPAok0-G1SQya6cIihWFa0N6lH1fbJbcxw05nhsGO0LW0G1G000Aa7X3gKInfse0-m1u20a2J01y34w8yBq0S2u0U62lW70O080T08keg0WS2GGE08cFhE2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBkvbAy0i6Y0oKkjw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;">Новости</a></yatag><yatag class="jnxuwp jykuwsyh"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbTSwlcS509y1CQOHf5e00000EEIS4a02I09Wl0Xe172epwdH2e01x_UEp0Q80QFFbQCia06-dj6lA9W1yexkn2QW0RoUqQyeg068ZDV49hW1z9IuZXV00HJO0VBkr17e0QW1-06Kkjw-0OW29Q02iFIT5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09g0C8i0C4k0J_0UW4UVW4kvbAY0MxcKgG1PAkjmIW1P-X5gW5pkuIi0NExXAu1Q6Va0701V3ZW0Z81UJ4X0BG1VZw2E05Al050PW6ge_92w06kWAe1he2mGQPAok0-G1SQya6cIihWFa0N6lH1fbJbcxw05nhsGO0LW0G1G000Aa7X3gKInfse0-m1u20a2J01y34w8yBq0S2u0U62lW70O080T08keg0WS2GGE08cFhE2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBkvbAy0i6Y0oKkjw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;">Регистрация</a></yatag><yatag class="jnxuwp gwjoglol"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbT_Rcui509y1CQOHf5e00000EEIS4a02I09Wl0Xe172epwdH2e01x_UEp0Q80QFFbQCia06-dj6lA9W1yexkn2QW0RoUqQyeg068ZDV49hW1z9IuZXV00HxO0VBkr17e0QW1-06Kkjw-0OW29Q02iFIT5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09g0C8i0C4k0J_0UW4UVW4kvbAY0MxcKgG1PAkjmIW1P-X5gW5pkuIi0NExXAu1Q6Va0701V3ZW0Z81UJ4X0BG1VZw2E05Al050PW6ge_92w06kWAe1he2mGQPAok0-G1SQya6cIihWFa0N6lH1fbJbcxw05nhsGO0LW0G1G000Aa7X3gKInfse0-m1u20a2J01y34w8yBq0S2u0U62lW70O080T08keg0WS2GGE08cFhE2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBkvbAy0i6Y0oKkjw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;">Поддержка</a></yatag></yatag></yatag></yatag></yatag></yatag><yatag class="iyhxhu iqzjsw issptwk csckaetwmk"><yatag class="btzjjup"><yatag class="mzfwjwrd fpfqpngd dnlunemw izojxrgdcx"><yatag class="dzcgdnchst"><yatag class="gxyqwgvrbc" style="width: 7px !important; height: 7px !important;"><svg width="7px" height="7px" viewBox="0 0 14 14" version="1.1"><polygon points="14,0.7 13.3,0 7,6.299 0.7,0 0,0.7 6.3,7 0,13.299 0.7,14 7,7.7 13.3,14 14,13.299 7.7,7"></polygon></svg></yatag><yatag class="ewjjbinv"><yatag class="epqobwsm"></yatag><yatag class="fvbsdke">Скрыть&nbsp;объявление</yatag></yatag></yatag></yatag></yatag></yatag><yatag class="eqzcop lxcwherbv"><yatag class="dpiwseuiy"><yatag class="kouelbwvgn"><yatag class="erzropmyfc"><yatag class="bwmyktn jodywy"><yatag class="knohoejwf">Скрыть рекламу:</yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="3-2">Не интересуюсь этой темой</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="14-2">Товар куплен или услуга найдена</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="5-3">Нарушает закон или спам</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="9-5">Мешает просмотру контента</a></yatag></yatag></yatag></yatag><yatag class="lnqczi"><yatag class="mwqzbyxatw atamytwb"><table class="dndxynrad"><tbody><tr><td class="bnznpxyh"><yatag class="anfzezv"><svg width="18" height="18"><path d="M5.485 11.07L2.45 8.037 1.036 9.45l3.035 3.035-.034.036 1.414 1.415 8.485-8.485-1.414-1.414-7.035 7.035z" fill="#000" fill-rule="evenodd"></path></svg></yatag>Спасибо, объявление скрыто.</td></tr></tbody></table></yatag></yatag></yatag></yatag></yatag></td></tr><tr class="mopiipjf lsilnzobm"><td class="jyhrdpywb mtqjjny bvxwrll lypzpgb"><yatag class="howsqpljh ctmgig fqbrkn dvjdlylp ksowrrg jndidzayc dzosbmjca grizvzuk" data-id="1541590136" data-uniq-id="1520701846804"><yatag class="mrcpttukq" style="height: 131px !important;"><yatag class="isprhnq buymyfft"><a class="erqmmhwb mwxxwxl" href="https://an.yandex.ru/count/FzuUbLSisxe50B41CQOHf5e00000EEIS4a02I09Wl0Xe1724b8tZ3801cwBKqGU80VBvrvCha07miPQ-2vW1aEReXWsW0R3caSi9g06Su-Y63RW1u9lFhGd00GBO0V3UrWVe0T81-07g_Tw-0OW29Q02Whgp5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09W0EPb9hW3eW3jEhXaG6O0w-P2A031AW32B031B040RW4_m7e1BWU-0JXYG681U690P05sQS2e0MgAQW5WoEm1OCZk0MMIy05uF02o0NWNT05qH3W1MBm1G6O1eIcmpMW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002G1pAf1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW8704E08WTtP2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBuOa1y0i6Y0pg_Tw-0V8D0FeD088E0000?test-tag=41237424898145&amp;stat-id=37&amp;" target="_blank" style="width: 299px !important; height: 131px !important;"><yatag class="kuybpjcc iphjwlwqwk"><yatag class="booskfy" style="background-image: url(&quot;//avatars.mds.yandex.net/get-direct/232247/28q_JIOMgjMjJE-ZxLlqMQ/wx1080&quot;) !important;"></yatag><yatag class="iqqlaflv ardhfcdd huecralsy lsplbw moytugypqd" style="width: 299px !important; height: 131px !important;"><yatag class="lvmdkofur"><img class="lxfeszmjm" alt="" src="./Пишем простой ThreadPool с async и future_files/wx1080" style="width: 299px !important; height: 167.772px !important; top: -18.3861px !important; left: 0px !important;"></yatag></yatag></yatag></a></yatag></yatag><yatag class="knpbsgjwx gsisofarxg"><a class="gsjclqomki hvlkvmheau" href="https://an.yandex.ru/count/FzuUbLSisxe50B41CQOHf5e00000EEIS4a02I09Wl0Xe1724b8tZ3801cwBKqGU80VBvrvCha07miPQ-2vW1aEReXWsW0R3caSi9g06Su-Y63RW1u9lFhGd00GBO0V3UrWVe0T81-07g_Tw-0OW29Q02Whgp5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09W0EPb9hW3eW3jEhXaG6O0w-P2A031AW32B031B040RW4_m7e1BWU-0JXYG681U690P05sQS2e0MgAQW5WoEm1OCZk0MMIy05uF02o0NWNT05qH3W1MBm1G6O1eIcmpMW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002G1pAf1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW8704E08WTtP2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBuOa1y0i6Y0pg_Tw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;" target="_blank">111111.by</a></yatag><yatag class="mxhmiwhkgr"><yatag class="csqpcjtf"><yatag class="kvgckjt aypmstxwz lozedvsd"><a class="iotjorjh hvlkvmheau" href="https://an.yandex.ru/count/FzuUbLSisxe50B41CQOHf5e00000EEIS4a02I09Wl0Xe1724b8tZ3801cwBKqGU80VBvrvCha07miPQ-2vW1aEReXWsW0R3caSi9g06Su-Y63RW1u9lFhGd00GBO0V3UrWVe0T81-07g_Tw-0OW29Q02Whgp5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09W0EPb9hW3eW3jEhXaG6O0w-P2A031AW32B031B040RW4_m7e1BWU-0JXYG681U690P05sQS2e0MgAQW5WoEm1OCZk0MMIy05uF02o0NWNT05qH3W1MBm1G6O1eIcmpMW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002G1pAf1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW8704E08WTtP2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBuOa1y0i6Y0pg_Tw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;" target="_blank"><yatag class="lozedvsd bzmjfdf"><yatag class="mwqveeum fqdcfcl"><b>Xbox</b> ONE <b>X</b> купить. Доступные цены!</yatag></yatag><yatag class="lozedvsd dnjscsnal"><yatag class="mwqveeum fqdcfcl">&nbsp;– Игровые приставки в&nbsp;Минске</yatag></yatag></a></yatag>&nbsp;</yatag><yatag class="kwkeutrzo gwnlaekit"><yatag class="mwqveeum fqdcfcl"><b>Xbox</b> One <b>X</b> – самая мощная игровая приставка. Приставки от&nbsp;лучших производителей!</yatag></yatag><yatag class="fxngwop izoijdb ctmvhloy"><yatag class="kqmkmdwzb" style="height: 22px !important;"><yatag class="izxkewtjf"><yatag class="hwxrevzcaj bruugu"><yatag class="jnxuwp grqchpi"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbTlxROW50B41CQOHf5e00000EEIS4a02I09Wl0Xe1724b8tZ3801cwBKqGU80VBvrvCha07miPQ-2vW1aEReXWsW0R3caSi9g06Su-Y63RW1u9lFhGd00JxO0V3UrWVe0T81-07g_Tw-0OW29Q02Whgp5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09W0EPb9hW3eW3jEhXaG6O0w-P2A031AW32B031B040RW4_m7e1BWU-0JXYG681U690P05sQS2e0MgAQW5WoEm1OCZk0MMIy05uF02o0NWNT05qH3W1MBm1G6O1eIcmpMW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002G1pAf1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW8704E08WTtP2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBuOa1y0i6Y0pg_Tw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;">XBOX One</a></yatag><yatag class="jnxuwp avizrhex"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbILl6sW50B41CQOHf5e00000EEIS4a02I09Wl0Xe1724b8tZ3801cwBKqGU80VBvrvCha07miPQ-2vW1aEReXWsW0R3caSi9g06Su-Y63RW1u9lFhGd00KBO0V3UrWVe0T81-07g_Tw-0OW29Q02Whgp5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09W0EPb9hW3eW3jEhXaG6O0w-P2A031AW32B031B040RW4_m7e1BWU-0JXYG681U690P05sQS2e0MgAQW5WoEm1OCZk0MMIy05uF02o0NWNT05qH3W1MBm1G6O1eIcmpMW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002G1pAf1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW8704E08WTtP2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBuOa1y0i6Y0pg_Tw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;">XBOX One X</a></yatag><yatag class="jnxuwp jykuwsyh"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbHab1wq50B41CQOHf5e00000EEIS4a02I09Wl0Xe1724b8tZ3801cwBKqGU80VBvrvCha07miPQ-2vW1aEReXWsW0R3caSi9g06Su-Y63RW1u9lFhGd00KRO0V3UrWVe0T81-07g_Tw-0OW29Q02Whgp5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09W0EPb9hW3eW3jEhXaG6O0w-P2A031AW32B031B040RW4_m7e1BWU-0JXYG681U690P05sQS2e0MgAQW5WoEm1OCZk0MMIy05uF02o0NWNT05qH3W1MBm1G6O1eIcmpMW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002G1pAf1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW8704E08WTtP2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBuOa1y0i6Y0pg_Tw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;">Игры XBOX прод, обмен прокат</a></yatag><yatag class="jnxuwp gwjoglol"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbUWDTBa50B41CQOHf5e00000EEIS4a02I09Wl0Xe1724b8tZ3801cwBKqGU80VBvrvCha07miPQ-2vW1aEReXWsW0R3caSi9g06Su-Y63RW1u9lFhGd00LRO0V3UrWVe0T81-07g_Tw-0OW29Q02Whgp5Ra2ag9t-7luKrpm0horoAq9-0A2W820aB09W0EPb9hW3eW3jEhXaG6O0w-P2A031AW32B031B040RW4_m7e1BWU-0JXYG681U690P05sQS2e0MgAQW5WoEm1OCZk0MMIy05uF02o0NWNT05qH3W1MBm1G6O1eIcmpMW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002G1pAf1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW8704E08WTtP2e0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBuOa1y0i6Y0pg_Tw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;">Карты опл. Xbox LIVE</a></yatag></yatag></yatag></yatag></yatag></yatag><yatag class="iyhxhu iqzjsw issptwk csckaetwmk"><yatag class="btzjjup"><yatag class="mzfwjwrd fpfqpngd dnlunemw izojxrgdcx"><yatag class="dzcgdnchst"><yatag class="gxyqwgvrbc" style="width: 7px !important; height: 7px !important;"><svg width="7px" height="7px" viewBox="0 0 14 14" version="1.1"><polygon points="14,0.7 13.3,0 7,6.299 0.7,0 0,0.7 6.3,7 0,13.299 0.7,14 7,7.7 13.3,14 14,13.299 7.7,7"></polygon></svg></yatag><yatag class="ewjjbinv"><yatag class="epqobwsm"></yatag><yatag class="fvbsdke">Скрыть&nbsp;объявление</yatag></yatag></yatag></yatag></yatag></yatag><yatag class="eqzcop lxcwherbv"><yatag class="dpiwseuiy"><yatag class="kouelbwvgn"><yatag class="erzropmyfc"><yatag class="bwmyktn jodywy"><yatag class="knohoejwf">Скрыть рекламу:</yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="3-2">Не интересуюсь этой темой</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="14-2">Товар куплен или услуга найдена</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="5-3">Нарушает закон или спам</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="9-5">Мешает просмотру контента</a></yatag></yatag></yatag></yatag><yatag class="lnqczi"><yatag class="mwqzbyxatw atamytwb"><table class="dndxynrad"><tbody><tr><td class="bnznpxyh"><yatag class="anfzezv"><svg width="18" height="18"><path d="M5.485 11.07L2.45 8.037 1.036 9.45l3.035 3.035-.034.036 1.414 1.415 8.485-8.485-1.414-1.414-7.035 7.035z" fill="#000" fill-rule="evenodd"></path></svg></yatag>Спасибо, объявление скрыто.</td></tr></tbody></table></yatag></yatag></yatag></yatag></yatag></td></tr><tr class="mopiipjf dovcgxx"><td class="jyhrdpywb mtqjjny bvxwrll lypzpgb"><yatag class="howsqpljh ctmgig fqbrkn dvjdlylp ksowrrg hrjxpiah dzosbmjca grizvzuk" data-id="4854628323" data-uniq-id="1520701850714"><yatag class="mrcpttukq" style="height: 131px !important;"><yatag class="isprhnq buymyfft"><a class="erqmmhwb mwxxwxl" href="https://an.yandex.ru/count/FzuUbT3KPBO50A01CQOHf5e00000EEIS4a02I09Wl0Xe172uj8pI3O01oipzXGM80TRHb-Oea076_zsL99W1iBghkoEW0TB_tPKag06qkAkx8xW1_kI_v1N00GBO0TYhhn3W0V36ymJe0Om2-06sejw-0OW29Q02ffN93ha2ag9t-7luKrpm0horoAq9-0A2W820aB09e0C6g0C8i0C4k0J_0UW4p17u1Aw90OW5hea1a0MXxW6W1Pifg0Ns8h05zYAu1Saym0NWy0B81U1Tq0NB4E05FV050PW6WD2iymwW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002f1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW870a43W2DFAf0U02W712W0000000F0_s0e2u0g0YNhu2i3y5OWBIgeB4Fy6mms4EW002IrL_X5d1G302u2Z1SWBWDIJ0TaBX3gKInfse0_e2ww90V0B1eWCjgBUlW7o3G3w3G223W00?test-tag=41237424898145&amp;stat-id=37&amp;" target="_blank" style="width: 299px !important; height: 131px !important;"><yatag class="kuybpjcc iphjwlwqwk"><yatag class="booskfy" style="background-image: url(&quot;//avatars.mds.yandex.net/get-direct/203221/FWccU9zLSx1sNpSrMkyEQQ/x450&quot;) !important;"></yatag><yatag class="iqqlaflv ardhfcdd huecralsy lsplbw moytugypqd" style="width: 299px !important; height: 131px !important;"><yatag class="lvmdkofur"><img class="lxfeszmjm" alt="" src="./Пишем простой ThreadPool с async и future_files/x450(1)" style="width: 299px !important; height: 299px !important; top: -84px !important; left: 0px !important;"></yatag></yatag></yatag></a></yatag></yatag><yatag class="knpbsgjwx gsisofarxg"><a class="gsjclqomki hvlkvmheau" href="https://an.yandex.ru/count/FzuUbT3KPBO50A01CQOHf5e00000EEIS4a02I09Wl0Xe172uj8pI3O01oipzXGM80TRHb-Oea076_zsL99W1iBghkoEW0TB_tPKag06qkAkx8xW1_kI_v1N00GBO0TYhhn3W0V36ymJe0Om2-06sejw-0OW29Q02ffN93ha2ag9t-7luKrpm0horoAq9-0A2W820aB09e0C6g0C8i0C4k0J_0UW4p17u1Aw90OW5hea1a0MXxW6W1Pifg0Ns8h05zYAu1Saym0NWy0B81U1Tq0NB4E05FV050PW6WD2iymwW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002f1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW870a43W2DFAf0U02W712W0000000F0_s0e2u0g0YNhu2i3y5OWBIgeB4Fy6mms4EW002IrL_X5d1G302u2Z1SWBWDIJ0TaBX3gKInfse0_e2ww90V0B1eWCjgBUlW7o3G3w3G223W00?test-tag=41236351156321&amp;stat-id=37&amp;" target="_blank">qwintry.com</a></yatag><yatag class="mxhmiwhkgr"><yatag class="csqpcjtf"><yatag class="kvgckjt aypmstxwz lozedvsd"><a class="iotjorjh hvlkvmheau" href="https://an.yandex.ru/count/FzuUbT3KPBO50A01CQOHf5e00000EEIS4a02I09Wl0Xe172uj8pI3O01oipzXGM80TRHb-Oea076_zsL99W1iBghkoEW0TB_tPKag06qkAkx8xW1_kI_v1N00GBO0TYhhn3W0V36ymJe0Om2-06sejw-0OW29Q02ffN93ha2ag9t-7luKrpm0horoAq9-0A2W820aB09e0C6g0C8i0C4k0J_0UW4p17u1Aw90OW5hea1a0MXxW6W1Pifg0Ns8h05zYAu1Saym0NWy0B81U1Tq0NB4E05FV050PW6WD2iymwW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002f1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW870a43W2DFAf0U02W712W0000000F0_s0e2u0g0YNhu2i3y5OWBIgeB4Fy6mms4EW002IrL_X5d1G302u2Z1SWBWDIJ0TaBX3gKInfse0_e2ww90V0B1eWCjgBUlW7o3G3w3G223W00?test-tag=41236351156321&amp;stat-id=37&amp;" target="_blank"><yatag class="lozedvsd bzmjfdf"><yatag class="mwqveeum fqdcfcl"><b>Купи видеокарту</b> за <b>границей</b>! </yatag></yatag><yatag class="lozedvsd dnjscsnal"><yatag class="mwqveeum fqdcfcl">&nbsp;– Доставка во все&nbsp;регионы РФ! </yatag></yatag></a></yatag>&nbsp;</yatag><yatag class="kwkeutrzo gwnlaekit"><yatag class="mwqveeum fqdcfcl">Надежный сервис, удобный сайт. Начни покупать с&nbsp;Бандеролькой! Адрес в&nbsp;США бесплатно! </yatag></yatag><yatag class="fxngwop izoijdb ctmvhloy"><yatag class="kqmkmdwzb" style="height: 22px !important;"><yatag class="izxkewtjf"><yatag class="hwxrevzcaj bruugu"><yatag class="jnxuwp grqchpi"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbOe71MC50A01CQOHf5e00000EEIS4a02I09Wl0Xe172uj8pI3O01oipzXGM80TRHb-Oea076_zsL99W1iBghkoEW0TB_tPKag06qkAkx8xW1_kI_v1N00GpO0TYhhn3W0V36ymJe0Om2-06sejw-0OW29Q02ffN93ha2ag9t-7luKrpm0horoAq9-0A2W820aB09e0C6g0C8i0C4k0J_0UW4p17u1Aw90OW5hea1a0MXxW6W1Pifg0Ns8h05zYAu1Saym0NWy0B81U1Tq0NB4E05FV050PW6WD2iymwW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002f1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW870a43W2DFAf0U02W712W0000000F0_s0e2u0g0YNhu2i3y5OWBIgeB4Fy6mms4EW002IrL_X5d1G302u2Z1SWBWDIJ0TaBX3gKInfse0_e2ww90V0B1eWCjgBUlW7o3G3w3G223W00?test-tag=41236351156321&amp;stat-id=37&amp;">Калькулятор доставки</a></yatag><yatag class="jnxuwp avizrhex"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbJ-Xnia50A01CQOHf5e00000EEIS4a02I09Wl0Xe172uj8pI3O01oipzXGM80TRHb-Oea076_zsL99W1iBghkoEW0TB_tPKag06qkAkx8xW1_kI_v1N00H3O0TYhhn3W0V36ymJe0Om2-06sejw-0OW29Q02ffN93ha2ag9t-7luKrpm0horoAq9-0A2W820aB09e0C6g0C8i0C4k0J_0UW4p17u1Aw90OW5hea1a0MXxW6W1Pifg0Ns8h05zYAu1Saym0NWy0B81U1Tq0NB4E05FV050PW6WD2iymwW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002f1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW870a43W2DFAf0U02W712W0000000F0_s0e2u0g0YNhu2i3y5OWBIgeB4Fy6mms4EW002IrL_X5d1G302u2Z1SWBWDIJ0TaBX3gKInfse0_e2ww90V0B1eWCjgBUlW7o3G3w3G223W00?test-tag=41236351156321&amp;stat-id=37&amp;">Отзывы клиентов</a></yatag><yatag class="jnxuwp jykuwsyh"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbSp6w6e50A01CQOHf5e00000EEIS4a02I09Wl0Xe172uj8pI3O01oipzXGM80TRHb-Oea076_zsL99W1iBghkoEW0TB_tPKag06qkAkx8xW1_kI_v1N00HJO0TYhhn3W0V36ymJe0Om2-06sejw-0OW29Q02ffN93ha2ag9t-7luKrpm0horoAq9-0A2W820aB09e0C6g0C8i0C4k0J_0UW4p17u1Aw90OW5hea1a0MXxW6W1Pifg0Ns8h05zYAu1Saym0NWy0B81U1Tq0NB4E05FV050PW6WD2iymwW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002f1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW870a43W2DFAf0U02W712W0000000F0_s0e2u0g0YNhu2i3y5OWBIgeB4Fy6mms4EW002IrL_X5d1G302u2Z1SWBWDIJ0TaBX3gKInfse0_e2ww90V0B1eWCjgBUlW7o3G3w3G223W00?test-tag=41236351156321&amp;stat-id=37&amp;">Доставка из&nbsp;Европы</a></yatag><yatag class="jnxuwp gwjoglol"><a class="gzfaummvyd hvlkvmheau" target="_blank" href="https://an.yandex.ru/count/FzuUbMLofnm50A01CQOHf5e00000EEIS4a02I09Wl0Xe172uj8pI3O01oipzXGM80TRHb-Oea076_zsL99W1iBghkoEW0TB_tPKag06qkAkx8xW1_kI_v1N00HxO0TYhhn3W0V36ymJe0Om2-06sejw-0OW29Q02ffN93ha2ag9t-7luKrpm0horoAq9-0A2W820aB09e0C6g0C8i0C4k0J_0UW4p17u1Aw90OW5hea1a0MXxW6W1Pifg0Ns8h05zYAu1Saym0NWy0B81U1Tq0NB4E05FV050PW6WD2iymwW1he2g0Qw0i46cIihWFa0N6l91fahAu3v05nhqGQPKvPk-W1SQza6000040K0002f1uGwb4iQTg0Fi0U0W90am0V0nEYF2z070k07XWhu1m60207G2BgAW870a43W2DFAf0U02W712W0000000F0_s0e2u0g0YNhu2i3y5OWBIgeB4Fy6mms4EW002IrL_X5d1G302u2Z1SWBWDIJ0TaBX3gKInfse0_e2ww90V0B1eWCjgBUlW7o3G3w3G223W00?test-tag=41236351156321&amp;stat-id=37&amp;">Распродажи</a></yatag></yatag></yatag></yatag></yatag></yatag><yatag class="iyhxhu iqzjsw issptwk csckaetwmk"><yatag class="btzjjup"><yatag class="mzfwjwrd fpfqpngd dnlunemw izojxrgdcx"><yatag class="dzcgdnchst"><yatag class="gxyqwgvrbc" style="width: 7px !important; height: 7px !important;"><svg width="7px" height="7px" viewBox="0 0 14 14" version="1.1"><polygon points="14,0.7 13.3,0 7,6.299 0.7,0 0,0.7 6.3,7 0,13.299 0.7,14 7,7.7 13.3,14 14,13.299 7.7,7"></polygon></svg></yatag><yatag class="ewjjbinv"><yatag class="epqobwsm"></yatag><yatag class="fvbsdke">Скрыть&nbsp;объявление</yatag></yatag></yatag></yatag></yatag></yatag><yatag class="eqzcop lxcwherbv"><yatag class="dpiwseuiy"><yatag class="kouelbwvgn"><yatag class="erzropmyfc"><yatag class="bwmyktn jodywy"><yatag class="knohoejwf">Скрыть рекламу:</yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="3-2">Не интересуюсь этой темой</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="14-2">Товар куплен или услуга найдена</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="5-3">Нарушает закон или спам</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="9-5">Мешает просмотру контента</a></yatag></yatag></yatag></yatag><yatag class="lnqczi"><yatag class="mwqzbyxatw atamytwb"><table class="dndxynrad"><tbody><tr><td class="bnznpxyh"><yatag class="anfzezv"><svg width="18" height="18"><path d="M5.485 11.07L2.45 8.037 1.036 9.45l3.035 3.035-.034.036 1.414 1.415 8.485-8.485-1.414-1.414-7.035 7.035z" fill="#000" fill-rule="evenodd"></path></svg></yatag>Спасибо, объявление скрыто.</td></tr></tbody></table></yatag></yatag></yatag></yatag></yatag></td></tr><tr class="mopiipjf axiiqtchw aqcrooo"><td class="jyhrdpywb mtqjjny bvxwrll lypzpgb"><yatag class="howsqpljh ctmgig fqbrkn dvjdlylp ksowrrg cvfbuxf dzosbmjca grizvzuk" data-id="4953761794" data-uniq-id="1520701845458"><yatag class="mrcpttukq" style="height: 131px !important;"><yatag class="isprhnq buymyfft"><a class="erqmmhwb mwxxwxl" href="https://an.yandex.ru/count/FzuUbTvqS-8509y1CQOHf5e00000EEIS4a02I09Wl0Xe172OtQAW2801eJ680QsDnTGfa064eAFq99W1sCQ-boIW0VwVe_Gag06snBwN9BW1ZfdmZXR00GBO0Oh7oH3W0UIts0he0O81-07eYzw-0OW29Q02aE9bkGAIedVuU_XJNF02lBN8hGdu0eA0W82Gi0cW0mYe0mYm0mIu1Fy1w0J_0lW4qAS6Y0NGfmQG1OIe1g05fV81g0MgpG6m1QhD0RW5jyq1m0MxW0p81T260z05ms7W1Kpm1G6O1e3GhFCEe0Qw0gW6kWB11fahAu3v05nhoGQPAok0-G1SQz46cLEMRle0N6lP1W0001050000gGU4EfHB6dQW3x07W82G9C07mCJeZmlG1mBW1uOA-0S1W0W1q0YwY821W13W28ZnCe0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBqAS6y0i6Y0peYzw-0V8D0FeD088E0000?test-tag=41237424898145&amp;stat-id=37&amp;" target="_blank" style="width: 299px !important; height: 131px !important;"><yatag class="kuybpjcc iphjwlwqwk"><yatag class="booskfy" style="background-image: url(&quot;//avatars.mds.yandex.net/get-direct/168799/1lU2H5NDgXsZqp7ebBKjlg/wx1080&quot;) !important;"></yatag><yatag class="iqqlaflv ardhfcdd huecralsy lsplbw moytugypqd" style="width: 299px !important; height: 131px !important;"><yatag class="lvmdkofur"><img class="lxfeszmjm" alt="" src="./Пишем простой ThreadPool с async и future_files/wx1080(1)" style="width: 299px !important; height: 167.772px !important; top: -18.3861px !important; left: 0px !important;"></yatag></yatag></yatag></a></yatag></yatag><yatag class="knpbsgjwx gsisofarxg"><a class="gsjclqomki hvlkvmheau" href="https://an.yandex.ru/count/FzuUbTvqS-8509y1CQOHf5e00000EEIS4a02I09Wl0Xe172OtQAW2801eJ680QsDnTGfa064eAFq99W1sCQ-boIW0VwVe_Gag06snBwN9BW1ZfdmZXR00GBO0Oh7oH3W0UIts0he0O81-07eYzw-0OW29Q02aE9bkGAIedVuU_XJNF02lBN8hGdu0eA0W82Gi0cW0mYe0mYm0mIu1Fy1w0J_0lW4qAS6Y0NGfmQG1OIe1g05fV81g0MgpG6m1QhD0RW5jyq1m0MxW0p81T260z05ms7W1Kpm1G6O1e3GhFCEe0Qw0gW6kWB11fahAu3v05nhoGQPAok0-G1SQz46cLEMRle0N6lP1W0001050000gGU4EfHB6dQW3x07W82G9C07mCJeZmlG1mBW1uOA-0S1W0W1q0YwY821W13W28ZnCe0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBqAS6y0i6Y0peYzw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;" target="_blank">yandex.by</a></yatag><yatag class="mxhmiwhkgr"><yatag class="csqpcjtf"><yatag class="kvgckjt aypmstxwz lozedvsd"><a class="iotjorjh hvlkvmheau" href="https://an.yandex.ru/count/FzuUbTvqS-8509y1CQOHf5e00000EEIS4a02I09Wl0Xe172OtQAW2801eJ680QsDnTGfa064eAFq99W1sCQ-boIW0VwVe_Gag06snBwN9BW1ZfdmZXR00GBO0Oh7oH3W0UIts0he0O81-07eYzw-0OW29Q02aE9bkGAIedVuU_XJNF02lBN8hGdu0eA0W82Gi0cW0mYe0mYm0mIu1Fy1w0J_0lW4qAS6Y0NGfmQG1OIe1g05fV81g0MgpG6m1QhD0RW5jyq1m0MxW0p81T260z05ms7W1Kpm1G6O1e3GhFCEe0Qw0gW6kWB11fahAu3v05nhoGQPAok0-G1SQz46cLEMRle0N6lP1W0001050000gGU4EfHB6dQW3x07W82G9C07mCJeZmlG1mBW1uOA-0S1W0W1q0YwY821W13W28ZnCe0A0S4A00000000y3_O2WBW2e29UlWAmFmLY0jAgWiG_mR33OGw0009BLN-4MS50C0BWAC5o0k0r9C1sGk4EfHB6dQW3-WBqAS6y0i6Y0peYzw-0V8D0FeD088E0000?test-tag=41236351156321&amp;stat-id=37&amp;" target="_blank"><yatag class="lozedvsd bzmjfdf"><yatag class="mwqveeum fqdcfcl">Что&nbsp;случилось сегодня в&nbsp;Минске?</yatag></yatag></a></yatag>&nbsp;</yatag><yatag class="kwkeutrzo gwnlaekit"><yatag class="mwqveeum fqdcfcl">Происшествия и&nbsp;чрезвычайные ситуации в&nbsp;Минской области.</yatag></yatag></yatag><yatag class="iyhxhu iqzjsw issptwk csckaetwmk"><yatag class="btzjjup"><yatag class="mzfwjwrd fpfqpngd dnlunemw izojxrgdcx"><yatag class="dzcgdnchst"><yatag class="gxyqwgvrbc" style="width: 7px !important; height: 7px !important;"><svg width="7px" height="7px" viewBox="0 0 14 14" version="1.1"><polygon points="14,0.7 13.3,0 7,6.299 0.7,0 0,0.7 6.3,7 0,13.299 0.7,14 7,7.7 13.3,14 14,13.299 7.7,7"></polygon></svg></yatag><yatag class="ewjjbinv"><yatag class="epqobwsm"></yatag><yatag class="fvbsdke">Скрыть&nbsp;объявление</yatag></yatag></yatag></yatag></yatag></yatag><yatag class="eqzcop lxcwherbv"><yatag class="dpiwseuiy"><yatag class="kouelbwvgn"><yatag class="erzropmyfc"><yatag class="bwmyktn jodywy"><yatag class="knohoejwf">Скрыть рекламу:</yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="3-2">Не интересуюсь этой темой</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="14-2">Товар куплен или услуга найдена</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="5-3">Нарушает закон или спам</a></yatag><yatag class="mpqufzlk"><a class="aygucm" data-option-id="9-5">Мешает просмотру контента</a></yatag></yatag></yatag></yatag><yatag class="lnqczi"><yatag class="mwqzbyxatw atamytwb"><table class="dndxynrad"><tbody><tr><td class="bnznpxyh"><yatag class="anfzezv"><svg width="18" height="18"><path d="M5.485 11.07L2.45 8.037 1.036 9.45l3.035 3.035-.034.036 1.414 1.415 8.485-8.485-1.414-1.414-7.035 7.035z" fill="#000" fill-rule="evenodd"></path></svg></yatag>Спасибо, объявление скрыто.</td></tr></tbody></table></yatag></yatag></yatag></yatag></yatag></td></tr></tbody></table></yatag><yatag class="irnldbv ewljsilnn"><a class="huushdj" href="https://direct.yandex.ru/?partner" target="_blank">Яндекс.Директ</a></yatag></yatag></yatag></div>
  <div class="dfp-slot__placeholder">
  <span class="dfp-slot__placeholder-text">AdBlock похитил этот баннер, но&nbsp;баннеры не&nbsp;зубы — отрастут<br><br><a href="https://u.tmtm.ru/tmtalkadblock" class="btn btn_large btn_blue" target="_blank" rel=" noopener">Подробнее</a></span>
</div>
<a href="https://tmtm.ru/services/advertising/" target="_blank" class="dfp-slot__label" rel=" noopener">Реклама</a>

</div>

  </div>
</section>

<section class="column-wrapper">
  <div class="content_left indented">
    <div class="post-additionals">
        <ul class="post-stats post-stats_post js-user_" id="infopanel_post_188234">
        <li class="post-stats__item post-stats__item_voting-wjt">
          <div class="voting-wjt voting-wjt_post js-post-vote" data-id="188234" data-type="2">
            <button type="button" class="btn voting-wjt__button" data-action="plus" onclick="posts_vote(this);" title="Голосовать могут только зарегистрированные пользователи " disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

            <span class="voting-wjt__counter voting-wjt__counter_positive  js-score" title="Общий рейтинг 11: ↑8 и ↓3">+5</span>

            <button type="button" class="btn voting-wjt__button" data-action="minus" onclick="posts_vote(this);" title="Голосовать могут только зарегистрированные пользователи  " disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
          </div>
        </li>

    <li class="post-stats__item post-stats__item_bookmark">
      <button type="button" class="btn bookmark-btn bookmark-btn_post" data-type="2" data-id="188234" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в закладки" onclick="posts_add_to_favorite(this);" disabled="">
        <span class="btn_inner"><span class="icon-svg_bookmark "><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="bookmark__counter js-favs_count" title="Количество пользователей, добавивших публикацию в закладки">80</span></span>
      </button>
    </li>

    <li class="post-stats__item post-stats__item_views">
      <div class="post-stats__views" title="Просмотры публикации">
        <span class="icon-svg_views-count"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-stats__views-count">39k</span>
      </div>
    </li>

      <li class="post-stats__item post-stats__item_comments">
          <a href="https://habrahabr.ru/post/188234/#comments" class="post-stats__comments-link">
            <span class="icon-svg_post-comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-stats__comments-count" title="Читать комментарии">31</span>
          </a>
      </li>





  </ul>


          <form action="https://habrahabr.ru/conversations/Ivaneo/" method="GET" class="form form_bordered form_admin-causes hidden" id="admin_causes">

    <input type="hidden" name="moderation" value="188234">

    <button type="button" class="btn form__close-btn" onclick="closeForm(this)"><svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"></path></svg>
</button>

    <fieldset class="form__fieldset form__fieldset_admin-causes">
      <legend class="form__legend">Выберите рекомендации для отправки автору:</legend>

      <div class="checkbox-group_columns">
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="1">
          <span class="checkbox__label">Указан только блог</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="2">
          <span class="checkbox__label">Орфографические ошибки</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="3">
          <span class="checkbox__label">Пунктуационные ошибки</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="4">
          <span class="checkbox__label">Отступы</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="5">
          <span class="checkbox__label">Текст-простыня</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="6">
          <span class="checkbox__label">Короткие предложения</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="7">
          <span class="checkbox__label">Смайлики</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="8">
          <span class="checkbox__label">Много форматирования</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="9">
          <span class="checkbox__label">Картинки</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="10">
          <span class="checkbox__label">Ссылки</span>
        </label>
      </div>
    </fieldset>

    <div class="form__footer">
      <button type="submit" class="btn btn_x-large btn_outline_blue" disabled="">Отправить</button>
    </div>
  </form>

        <form action="https://habrahabr.ru/json/complaints/add/" class="form form_bordered form_abuse hidden" method="post" id="abuse_form">
  <input type="hidden" name="tt" value="2">
  <input type="hidden" name="ti" value="188234">

  <button type="button" class="btn form__close-btn" onclick="closeForm(this)"><svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"></path></svg>
</button>

  <fieldset class="form__fieldset">
    <legend class="form__legend">Нарушение</legend>
    <input type="text" name="text" class="form__text-field">
    <span class="form__desc">Опишите суть нарушения</span>
  </fieldset>

  <div class="form__footer">
    <button type="submit" class="btn btn_x-large btn_outline_blue" disabled="">Отправить</button>
  </div>
</form>


        <div class="author-panel author-panel_user">
          <div class="user-info">
    <div class="user-info__stats">
  <div class="media-obj media-obj_user-info">
    <a href="https://habrahabr.ru/users/Ivaneo/" class="media-obj__image" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;author_info_top&#39;, &#39;profile&#39;, &#39;Ivaneo&#39;);}">
        <img src="./Пишем простой ThreadPool с async и future_files/27a889d15236d239a4bdf3b21b44c5e2.png" width="48" height="48" class="media-obj__image-pic media-obj__image-pic_user">
    </a>

    <div class="media-obj__body media-obj__body_user-info">
          <a href="https://habrahabr.ru/info/help/karma/" class="user-info__stats-item stacked-counter" title="7 голосов">
            <div class="stacked-counter__value stacked-counter__value_green ">3,0</div>
            <div class="stacked-counter__label">Карма</div>
          </a>

        <a href="https://habrahabr.ru/info/help/karma/#rating" class="user-info__stats-item stacked-counter stacked-counter_rating" title="Рейтинг пользователя">
          <div class="stacked-counter__value stacked-counter__value_magenta">0,0</div>
          <div class="stacked-counter__label">Рейтинг</div>
        </a>

        <a href="https://habrahabr.ru/users/Ivaneo/subscription/followers/" class="user-info__stats-item stacked-counter stacked-counter_subscribers" title="Количество подписчиков">
          <div class="stacked-counter__value stacked-counter__value_blue">0</div>
          <div class="stacked-counter__label">Подписчики</div>
        </a>
    </div>
  </div>

</div>


  <div class="user-info__about">
    <div class="user-info__links">
      <a href="https://habrahabr.ru/users/Ivaneo/" class="user-info__nickname user-info__nickname_doggy" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;author_info_top&#39;, &#39;profile&#39;, &#39;Ivaneo&#39;);}">Ivaneo</a>
      
    </div>

      <div class="user-info__specialization">Пользователь</div>
  </div>

</div>

        </div>
        <div class="post-share">
  <span class="post-share__title">Поделиться публикацией</span>
  <ul class="post-share__buttons social-icons">
    <li class="social-icons__item social-icons__item_post">
      <a href="https://www.facebook.com/sharer/sharer.php?u=https://habrahabr.ru/post/188234/" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_facebook" title="Опубликовать ссылку в Facebook" onclick="window.open(this.href, &#39;Опубликовать ссылку в Facebook&#39;, &#39;width=640,height=436,toolbar=0,status=0&#39;); return false">
        <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M14.889 8.608h-1.65c-.195 0-.413.257-.413.6v1.192h2.063v1.698h-2.063v5.102h-1.948v-5.102h-1.766v-1.698h1.766v-1c0-1.434.995-2.6 2.361-2.6h1.65v1.808z"></path></svg>
      </a>
    </li>
    <li class="social-icons__item social-icons__item_post">
      <a href="https://twitter.com/intent/tweet?text=%D0%9F%D0%B8%D1%88%D0%B5%D0%BC+%D0%BF%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B9+ThreadPool+%D1%81+async+%D0%B8+future+https://habr.ru/p/188234/+via+%40habrahabr" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_twitter" title="Опубликовать ссылку в Twitter" onclick="window.open(this.href, &#39;Опубликовать ссылку в Twitter&#39;, &#39;width=800,height=300,resizable=yes,toolbar=0,status=0&#39;); return false">
        <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M17.414 8.642c-.398.177-.826.296-1.276.35.459-.275.811-.71.977-1.229-.43.254-.905.439-1.41.539-.405-.432-.982-.702-1.621-.702-1.227 0-2.222.994-2.222 2.222 0 .174.019.344.058.506-1.846-.093-3.484-.978-4.579-2.322-.191.328-.301.71-.301 1.117 0 .77.392 1.45.988 1.849-.363-.011-.706-.111-1.006-.278v.028c0 1.077.766 1.974 1.782 2.178-.187.051-.383.078-.586.078-.143 0-.282-.014-.418-.04.282.882 1.103 1.525 2.075 1.542-.76.596-1.718.951-2.759.951-.179 0-.356-.01-.53-.031.983.63 2.15.998 3.406.998 4.086 0 6.321-3.386 6.321-6.321l-.006-.287c.433-.314.81-.705 1.107-1.15z"></path></svg>
      </a>
    </li>
    <li class="social-icons__item social-icons__item_post">
      <a href="https://vk.com/share.php?url=https://habrahabr.ru/post/188234/" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_vkontakte" title="Опубликовать ссылку во ВКонтакте" onclick="window.open(this.href, &#39;Опубликовать ссылку во Вконтакте&#39;, &#39;width=800,height=300,toolbar=0,status=0&#39;); return false">
        <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M16.066 11.93s1.62-2.286 1.782-3.037c.054-.268-.064-.418-.343-.418h-1.406c-.322 0-.44.139-.537.343 0 0-.76 1.619-1.685 2.64-.297.33-.448.429-.612.429-.132 0-.193-.11-.193-.408v-2.607c0-.365-.043-.472-.343-.472h-2.254c-.172 0-.279.1-.279.236 0 .343.526.421.526 1.352v1.921c0 .386-.022.537-.204.537-.483 0-1.631-1.663-2.274-3.552-.129-.386-.268-.494-.633-.494h-1.406c-.204 0-.354.139-.354.343 0 .375.44 2.114 2.167 4.442 1.159 1.566 2.683 2.414 4.056 2.414.838 0 1.041-.139 1.041-.494v-1.202c0-.301.118-.429.29-.429.193 0 .534.062 1.33.848.945.901 1.01 1.276 1.525 1.276h1.578c.161 0 .311-.075.311-.343 0-.354-.462-.987-1.17-1.738-.29-.386-.762-.805-.912-.998-.215-.226-.151-.354-.001-.59z"></path></svg>
      </a>
    </li>
    <li class="social-icons__item social-icons__item_post">
      <a href="https://t.me/share/url?url=https://habrahabr.ru/post/188234/&amp;title=%D0%9F%D0%B8%D1%88%D0%B5%D0%BC%20%D0%BF%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B9%20ThreadPool%20%D1%81%20async%20%D0%B8%20future" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_telegram" title="Поделиться ссылкой в Telegram" onclick="window.open(this.href, &#39;Поделиться ссылкой в Telegram&#39;, &#39;width=800,height=300,toolbar=0,status=0&#39;); return false">
        <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M17.17 7.621l-10.498 3.699c-.169.059-.206.205-.006.286l2.257.904 1.338.536 6.531-4.796s.189.057.125.126l-4.68 5.062-.27.299.356.192 2.962 1.594c.173.093.397.016.447-.199.058-.254 1.691-7.29 1.728-7.447.047-.204-.087-.328-.291-.256zm-6.922 8.637c0 .147.082.188.197.084l1.694-1.522-1.891-.978v2.416z"></path></svg>
      </a>
    </li>
    <li class="social-icons__item social-icons__item_post">
      <a href="https://getpocket.com/edit?url=https://habrahabr.ru/post/188234/&amp;title=%D0%9F%D0%B8%D1%88%D0%B5%D0%BC%20%D0%BF%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B9%20ThreadPool%20%D1%81%20async%20%D0%B8%20future" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_pocket" title="Добавить ссылку в Pocket" target="_blank" rel=" noopener">
      </a>
    </li>
  </ul>
</div>

    </div>
      

    <div class="default-block default-block_content">
      <div class="default-block__header default-block__header_large">
        <span class="default-block__header-title default-block__header-title_large">Похожие публикации</span>
      </div>
      <div class="default-block__content">

        <ul class="content-list">
            <li class="content-list__item content-list__item_devided post-info">
              <span class="post-info__date"> 6 декабря 2017 в 16:30</span>
              <a href="https://habrahabr.ru/post/343870/" class="post-info__title post-info__title_large" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }">Самые популярные книги по программированию на Reddit</a>

              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span>
                      <span class="post-info__meta-counter">+3</span>
                </span>
                <span class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">8,6k</span>
                </span>
                <span class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_star"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">108</span>
                </span>
                <a href="https://habrahabr.ru/post/343870#comments" class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">21</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <span class="post-info__date"> 3 декабря 2017 в 15:38</span>
              <a href="https://habrahabr.ru/post/343760/" class="post-info__title post-info__title_large" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }">Программирование на телефоне используя эмулятор терминала Termux</a>

              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span>
                      <span class="post-info__meta-counter">+12</span>
                </span>
                <span class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">14,2k</span>
                </span>
                <span class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_star"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">67</span>
                </span>
                <a href="https://habrahabr.ru/post/343760#comments" class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">35</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <span class="post-info__date">26 ноября 2017 в 20:23</span>
              <a href="https://habrahabr.ru/post/343202/" class="post-info__title post-info__title_large" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }">33 независимых блога о UI-дизайне, веб-разработке и программировании</a>

              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span>
                      <span class="post-info__meta-counter">+11</span>
                </span>
                <span class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">14,1k</span>
                </span>
                <span class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_star"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">163</span>
                </span>
                <a href="https://habrahabr.ru/post/343202#comments" class="post-info__meta-item">
                  <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">3</span>
                </a>
              </div>
            </li>
        </ul>

      </div>
    </div>

    <div class="default-block_content">
        

  <div class="promo-block promo-block_vacancies">
    <div class="promo-block__header promo-block__header_justify">
      <a href="https://moikrug.ru/vacancies" target="_blank" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_B" class="promo-block__title-link" rel=" noopener">Работа в&nbsp;IT-индустрии</a>
      <a href="https://moikrug.ru/" target="_blank" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_B" class="icon-svg_logo-mk" rel=" noopener"><svg class="icon-svg" width="114" height="24" viewBox="0 0 114 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M9.383 7.685l-4.127-6.87h-5.258v17.614h4.931v-10.166l3.497 5.963h1.938l3.497-5.963v10.166h4.931v-17.614h-5.258zM27.726 5.47c-3.673 0-6.667 2.994-6.667 6.667s2.994 6.667 6.667 6.667c3.673 0 6.667-2.994 6.667-6.667.001-3.673-2.993-6.667-6.667-6.667zm0 8.908c-1.208 0-2.239-.982-2.239-2.239 0-1.208 1.032-2.239 2.239-2.239s2.239 1.032 2.239 2.239c.001 1.257-1.031 2.239-2.239 2.239zM40.835 11.735v-5.888h-4.68v12.582h4.68l4.152-5.888v5.888h4.68v-12.582h-4.68zM47.906 3.055l-1.359-2.617c-1.309.704-2.617.982-3.623.982s-2.341-.278-3.649-.982l-1.359 2.617c1.811.982 3.397 1.283 5.007 1.283s3.171-.303 4.983-1.283zM57.971 5.847v12.582h4.68v-12.582zM71.432 5.847h-4.931l-3.849 6.19 4.101 6.392h4.933l-4.353-6.392zM81.12 5.47c-1.283 0-2.667.806-3.246 2.013v-1.635h-4.68v17.713h4.68v-6.768c.578 1.208 1.962 2.013 3.246 2.013 3.673 0 5.662-2.994 5.662-6.667s-1.989-6.667-5.662-6.667zm-1.51 8.908c-.68 0-1.309-.327-1.736-.856v-2.792c.427-.503 1.057-.83 1.736-.83 1.208 0 2.239.982 2.239 2.239.001 1.207-1.031 2.239-2.239 2.239zM94.909 12.692l-2.666-6.845h-5.083l5.335 12.557-2.165 5.158h4.655l7.926-17.714h-5.082zM104.042 5.847v12.582h4.68v-8.304h5.561v-4.278z"></path></svg></a>
    </div>

    <div class="promo-block__content">
      <ul class="content-list content-list_promo">
          <li class="content-list__item content-list__item_promo content-list__item_devided">
            <div class="vacancy ">
  <div class="vacancy__wrap">
    <a href="https://moikrug.ru/vacancies/1000040695" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_B" class="vacancy__title" style="background-image:none;">Frontend разработчик (Vue.js)</a>
    <div class="vacancy__aside">от 80 000 руб.</div>
  </div>
  <div class="vacancy__attrs attrs">
    <strong class="attrs__item attrs__item_company">Engme</strong>
    
    <span class="attrs__item">Полный рабочий день</span>
  </div>
</div>






          </li>
          <li class="content-list__item content-list__item_promo content-list__item_devided">
            <div class="vacancy ">
  <div class="vacancy__wrap">
    <a href="https://moikrug.ru/vacancies/1000039113" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_B" class="vacancy__title" style="background-image:none;">🚀 Front-end developer (React.JS)</a>
    <div class="vacancy__aside">от 140 000 до 170 000 руб.</div>
  </div>
  <div class="vacancy__attrs attrs">
    <strong class="attrs__item attrs__item_company">ManyChat</strong>
    <span class="attrs__item">Москва</span>
    <span class="attrs__item">Полный рабочий день</span>
  </div>
</div>






          </li>
          <li class="content-list__item content-list__item_promo content-list__item_devided">
            <div class="vacancy ">
  <div class="vacancy__wrap">
    <a href="https://moikrug.ru/vacancies/1000039993" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_B" class="vacancy__title" style="background-image:none;">🍹 Senior front-end developer (React.JS)</a>
    <div class="vacancy__aside">от 170 000 до 230 000 руб.</div>
  </div>
  <div class="vacancy__attrs attrs">
    <strong class="attrs__item attrs__item_company">ManyChat</strong>
    <span class="attrs__item">Москва</span>
    <span class="attrs__item">Полный рабочий день</span>
  </div>
</div>






          </li>
      </ul>
    </div>

    <div class="promo-block__footer">
      <div class="promo-block__footer_left">
        <a href="https://moikrug.ru/vacancies/" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_B" class="promo-block__see-all" target="_blank" rel=" noopener">Все вакансии</a>
      </div>
      <div class="promo-block__footer_right">
        <a href="https://moikrug.ru/" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_B" class="promo-block__footer-link" target="_blank" rel=" noopener">Создать резюме</a>
        <a href="https://moikrug.ru/info/service" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo_B" class="promo-block__footer-link" target="_blank" rel=" noopener">Разместить вакансию</a>
        <script type="text/javascript" src="./Пишем простой ThreadPool с async и future_files/saved_resource(1)"></script>
      </div>
    </div>
  </div>


    </div>
    <!-- /235032688/HH/HH02_inpage_wide -->
<div class="dfp-slot">
  <div class="dfp-slot__banner dfp-slot__banner_wide" id="div-gpt-hh-inpage-wide" data-google-query-id="CMn__vGf4tkCFYI24AodSiwCAg" style=""><yatag class="yap-reset ya_partner_R-A-149298-36" lang="ru"><yatag class="yap-rtb__wrapper"><yatag class="yap-rtb__iframe"><iframe id="ya_partner_R-A-149298-36" width="780" height="172" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" vspace="0" hspace="0" src="./Пишем простой ThreadPool с async и future_files/saved_resource(3).html"></iframe></yatag><yatag class="yap-rtb__adtune-button"></yatag></yatag></yatag></div>
  <div class="dfp-slot__placeholder">
  <span class="dfp-slot__placeholder-text">AdBlock похитил этот баннер, но&nbsp;баннеры не&nbsp;зубы — отрастут<br><br><a href="https://u.tmtm.ru/tmtalkadblock" class="btn btn_large btn_blue" target="_blank" rel=" noopener">Подробнее</a></span>
</div>
<a href="https://tmtm.ru/services/advertising/" target="_blank" class="dfp-slot__label" rel=" noopener">Реклама</a>

</div>

    


  </div>
</section>

<section class="column-wrapper column-wrapper_comments js-sticky-wrapper">
  <div class="content_left">
        <div class="comments-section" id="comments">
    <header class="comments-section__head">
      <span class="comments-section__head-title">Комментарии <strong class="comments-section__head-counter" id="comments_count">31</strong></span>
      
    </header>
    
    

    <ul class="content-list content-list_comments" id="comments-list">
        <li class="content-list__item content-list__item_comment js-comment " rel="6540984">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_6540984">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6540984">
          <a href="https://habrahabr.ru/users/gridem/" class="user-info user-info_inline" data-user-login="gridem">
    <img src="./Пишем простой ThreadPool с async и future_files/18001397e2fab389596ea8598d429c80_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">gridem</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">29.07.13 в 22:42</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6540984" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6540984" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6540984" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6540984" data-parent_id="0" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6540984" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter voting-wjt__counter_positive  js-score" title="Общий рейтинг 10: ↑8 и ↓2">+6</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">По пунктам:<br>
<br>
1. using std::function;… — в хедере не стоит использовать.<br>
2. std::this_thread::yield() — такая конструкция будет здорово кушать ресурсы всех ядер процессора. Если установить большой sleep, то потеряется отзывчивость.<br>
3. _workers.clear() — в деструкторе нет смысла это делать.<br>
4. if (threads==0) threads=1; — странное поведение при неправильном параметре. Лучше кидать исключение.<br>
5. queue&lt;fn_type&gt; fqueue — не должен быть публичный, ошибка дизайна.<br>
6. Worker::getFreeWorker(): if (it-&gt;fqueue.empty()), it-&gt;fqueue.size() — race condition<br>
7. Worker::getFreeWorker(): minTasks не гарантирует оптимального выполнения процедур. Может оказаться, что один тред будет выполнять несколько оставшихся самых тяжелых задач, а остальные треды будут курить бамбук.<br>
<br>
Как-то так.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_6540984">  <li class="content-list__item content-list__item_comment js-comment " rel="6541042">
    
    <span class="parent_id" data-parent_id="6540984"></span>
    <div class="comment" id="comment_6541042">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head comment__head_topic-author  " rel="6541042">
          <a href="https://habrahabr.ru/users/Ivaneo/" class="user-info user-info_inline" data-user-login="Ivaneo">
    <img src="./Пишем простой ThreadPool с async и future_files/27a889d15236d239a4bdf3b21b44c5e2_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">Ivaneo</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">29.07.13 в 23:01</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6541042" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6541042" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6541042" data-parent_id="6540984" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6540984" class="icon_comment-arrow-up js-comment_parent" data-id="6541042" data-parent_id="6540984" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6541042" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6541042" data-parent_id="6540984" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6541042" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter  voting-wjt__counter_negative js-score" title="Общий рейтинг 5: ↑2 и ↓3">–1</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message comment__message_downgrade comment__message_downgrade-1">1. Не знал, объясните почему так?<br>
2. Вы правы, там лучше sleep(), я указал это в комментарии примера.<br>
3.…<br>
4. Исключение в конструкторе? Извольте.<br>
5. С дизайном все в порядке, если глянете исходники Worker это приватный вложенный класс, и никто кроме ThreadPool к нему доступа не имеет.<br>
6. Хм возможно мое упущение, но даже если так, ничего страшного не произойдет, мы же ничего не берем из очереди. А добавление в очередь залочено.<br>
7. Опять же, это только для примера, хотите что бы все было оптимально сделайте очереди с приоритетами.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-1" id="reply_comments_6541042">  <li class="content-list__item content-list__item_comment js-comment " rel="6541242">
    
    <span class="parent_id" data-parent_id="6541042"></span>
    <div class="comment" id="comment_6541242">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6541242">
          <a href="https://habrahabr.ru/users/gridem/" class="user-info user-info_inline" data-user-login="gridem">
    <img src="./Пишем простой ThreadPool с async и future_files/18001397e2fab389596ea8598d429c80_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">gridem</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 00:28</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6541242" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6541242" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6541242" data-parent_id="6541042" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6541042" class="icon_comment-arrow-up js-comment_parent" data-id="6541242" data-parent_id="6541042" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6541242" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6541242" data-parent_id="6541042" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6541242" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter voting-wjt__counter_positive  js-score" title="Общий рейтинг 3: ↑2 и ↓1">+1</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">1. Потому что тогда после include этого хедера можно будет использовать vector и др. классы вне std:: в клиентском коде. Т.е. это чуть лучше, чем using namespace std, но все равно плохо.<br>
2. sleep() не решает проблему, т.к. все равно цикл будет вхолостую работать.<br>
4. Не хотите исключения — не используйте. Но корректировать входные параметры не стоит. Пользователь вряд ли ожидает такое поведение.<br>
5. Тогда зачем вообще делать непубличные поля, если все скрыто? Получается какой-то промежуточный вариант, и нашим, и вашим. В любом случае приватность класса не означает, что можно делать все, что угодно.<br>
6. Ну да, ничего страшного, кроме того, что иногда может происходить неопределенное поведение.<br>
7. Очередь с приоритетами никак не решит описанную выше проблему.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-2" id="reply_comments_6541242">  <li class="content-list__item content-list__item_comment js-comment " rel="6549504">
    
    <span class="parent_id" data-parent_id="6541242"></span>
    <div class="comment" id="comment_6549504">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head comment__head_topic-author  " rel="6549504">
          <a href="https://habrahabr.ru/users/Ivaneo/" class="user-info user-info_inline" data-user-login="Ivaneo">
    <img src="./Пишем простой ThreadPool с async и future_files/27a889d15236d239a4bdf3b21b44c5e2_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">Ivaneo</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">01.08.13 в 06:15</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6549504" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6549504" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6549504" data-parent_id="6541242" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6541242" class="icon_comment-arrow-up js-comment_parent" data-id="6549504" data-parent_id="6541242" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6549504" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6549504" data-parent_id="6541242" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6549504" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Спасибо за советы, исправил.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-3" id="reply_comments_6549504">  <li class="content-list__item content-list__item_comment js-comment " rel="6550270">
    
    <span class="parent_id" data-parent_id="6549504"></span>
    <div class="comment" id="comment_6550270">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6550270">
          <a href="https://habrahabr.ru/users/vhan/" class="user-info user-info_inline" data-user-login="vhan">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">vhan</span>
</a>

          <span class="icon_comment-edit" title="Комментарий был изменен"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 20h4.343l10-10-4.343-4.343-10 10v4.343zm-4-6l14-14 10 10-14 14h-10v-10z"></path></svg>
</span>
          <time class="comment__date-time comment__date-time_published">01.08.13 в 11:09</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6550270" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6550270" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6550270" data-parent_id="6549504" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6549504" class="icon_comment-arrow-up js-comment_parent" data-id="6550270" data-parent_id="6549504" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6550270" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6550270" data-parent_id="6549504" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6550270" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Намного лучше. Только избавьтесь от <b>volatile</b> или аргументируйте чем он может помочь. Ссылки я оставил в других комментариях.<br>
Из небольших улучшений: можно читать функторы из очереди не по одному а все сразу, копируя их в локальную очередь например:<br>
<code>std::queue&lt;fn_type&gt; currentlyProcessed;
currentlyProcessed.swap(fqueue);
while( !currentlyProcessed.empty() )
{
}</code><br>
Это может уменьшить количество локов, но наверняка сломает ваш алгоритм загруженности воркера.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-4" id="reply_comments_6550270"></ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6550398">
    
    <span class="parent_id" data-parent_id="6549504"></span>
    <div class="comment" id="comment_6550398">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6550398">
          <a href="https://habrahabr.ru/users/vhan/" class="user-info user-info_inline" data-user-login="vhan">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">vhan</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">01.08.13 в 11:31</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6550398" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6550398" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6550398" data-parent_id="6549504" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6549504" class="icon_comment-arrow-up js-comment_parent" data-id="6550398" data-parent_id="6549504" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6550398" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6550398" data-parent_id="6549504" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6550398" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Еще очень хотелось бы увидеть сравнение по производительности с std::async хотя бы на 2 популярных ОС. Может быть это хорошая тема для следующей статьи?</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-4" id="reply_comments_6550398"></ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6550418">
    
    <span class="parent_id" data-parent_id="6549504"></span>
    <div class="comment" id="comment_6550418">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6550418">
          <a href="https://habrahabr.ru/users/vhan/" class="user-info user-info_inline" data-user-login="vhan">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">vhan</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">01.08.13 в 11:35</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6550418" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6550418" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6550418" data-parent_id="6549504" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6549504" class="icon_comment-arrow-up js-comment_parent" data-id="6550418" data-parent_id="6549504" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6550418" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6550418" data-parent_id="6549504" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6550418" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">А почему поля не приватные, а защищенные? Планируется использовать Воркера как базовый класс (не думаю что это хорошая идея)? Если да — то почему деструктор не виртуальный? </div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-4" id="reply_comments_6550418">  <li class="content-list__item content-list__item_comment js-comment " rel="6551542">
    
    <span class="parent_id" data-parent_id="6550418"></span>
    <div class="comment" id="comment_6551542">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head comment__head_topic-author  " rel="6551542">
          <a href="https://habrahabr.ru/users/Ivaneo/" class="user-info user-info_inline" data-user-login="Ivaneo">
    <img src="./Пишем простой ThreadPool с async и future_files/27a889d15236d239a4bdf3b21b44c5e2_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">Ivaneo</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">01.08.13 в 14:36</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6551542" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6551542" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6551542" data-parent_id="6550418" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6550418" class="icon_comment-arrow-up js-comment_parent" data-id="6551542" data-parent_id="6550418" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6551542" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6551542" data-parent_id="6550418" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6551542" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Раньше мне приходилось работать с VS 2005, так вот там volatile <a href="http://msdn.microsoft.com/en-us/library/12a04hfd%28VS.80%29.aspx">гарантировало</a> атомарность переменной. Сейчас как выяснил это только Microsoft Specific (не переносимо) и в поздних версиях не актуально, так что уберу. <br>
Насчет сравнения тестов производительности, возможно сделаю, спасибо.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-5" id="reply_comments_6551542"></ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6541170">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_6541170">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6541170">
          <a href="https://habrahabr.ru/users/qehgt/" class="user-info user-info_inline" data-user-login="qehgt">
    <span class="default-image default-image_mini default-image_blue">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">qehgt</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">29.07.13 в 23:52</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6541170" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6541170" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6541170" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6541170" data-parent_id="0" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6541170" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 2: ↑1 и ↓1">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message "><code>std::future</code> ещё специальным образом обрабатывает exceptions. А здесь вроде оно просто уронит всё приложение.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_6541170"></ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6541254">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_6541254">
        <div class="comment__message comment__message_banned">НЛО прилетело и опубликовало эту надпись здесь</div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_6541254"></ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6541320">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_6541320">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6541320">
          <a href="https://habrahabr.ru/users/SilentBob/" class="user-info user-info_inline" data-user-login="SilentBob">
    <span class="default-image default-image_mini default-image_pink">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">SilentBob</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 01:12</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6541320" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6541320" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6541320" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6541320" data-parent_id="0" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6541320" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter voting-wjt__counter_positive  js-score" title="Общий рейтинг 3: ↑3 и ↓0">+3</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Еще один race condition + undefined behavior в <code>Worker::thread_fn()</code>: после проверки <code>if(!fqueue.empty())</code> поток может заснуть, а когда проснеятся очередь будет уже пуста и <code>fqueue.front()</code> приведет UB.<br>
<br>
Лучше использовать двойную проверку:<br>
<pre>&lt;code&gt;
if(!empty)
{
    mutex.lock();
    if(!empty)
    {
        ...
    }
    mutex.unlock();
}
&lt;/code&gt;</pre></div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_6541320">  <li class="content-list__item content-list__item_comment js-comment " rel="6541538">
    
    <span class="parent_id" data-parent_id="6541320"></span>
    <div class="comment" id="comment_6541538">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6541538">
          <a href="https://habrahabr.ru/users/akzhan/" class="user-info user-info_inline" data-user-login="akzhan">
    <img src="./Пишем простой ThreadPool с async и future_files/479a6e98d816f8644ff18513cc26a60e_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">akzhan</span>
</a>

          <span class="icon_comment-edit" title="Комментарий был изменен"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 20h4.343l10-10-4.343-4.343-10 10v4.343zm-4-6l14-14 10 10-14 14h-10v-10z"></path></svg>
</span>
          <time class="comment__date-time comment__date-time_published">30.07.13 в 02:33</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6541538" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6541538" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6541538" data-parent_id="6541320" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6541320" class="icon_comment-arrow-up js-comment_parent" data-id="6541538" data-parent_id="6541320" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6541538" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6541538" data-parent_id="6541320" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6541538" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Лучше создать атомарный метод и повесить функционал туда. что-то типа pop, к примеру. Это без просмотра кода.<br>
<br>
Ведь удобнее же.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-1" id="reply_comments_6541538">  <li class="content-list__item content-list__item_comment js-comment " rel="6541566">
    
    <span class="parent_id" data-parent_id="6541538"></span>
    <div class="comment" id="comment_6541566">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6541566">
          <a href="https://habrahabr.ru/users/SilentBob/" class="user-info user-info_inline" data-user-login="SilentBob">
    <span class="default-image default-image_mini default-image_pink">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">SilentBob</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 03:00</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6541566" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6541566" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6541566" data-parent_id="6541538" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6541538" class="icon_comment-arrow-up js-comment_parent" data-id="6541566" data-parent_id="6541538" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6541566" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6541566" data-parent_id="6541538" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6541566" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Удобнее, но в примере используется std::queue, который понятия не имеет о многопоточности.<br>
<br>
Кроме того, раз уж автор решил реализовывать многопоточные алгоритмы, важно знать о таком патерне как <a href="http://en.wikipedia.org/wiki/Double-checked_locking">double-checked locking</a>. В C++03 и раньше это доставляло много веселья с инициализацией синглетонов.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-2" id="reply_comments_6541566"></ul>
  </li>
</ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6542386">
    
    <span class="parent_id" data-parent_id="6541320"></span>
    <div class="comment" id="comment_6542386">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head comment__head_topic-author  " rel="6542386">
          <a href="https://habrahabr.ru/users/Ivaneo/" class="user-info user-info_inline" data-user-login="Ivaneo">
    <img src="./Пишем простой ThreadPool с async и future_files/27a889d15236d239a4bdf3b21b44c5e2_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">Ivaneo</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 11:23</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6542386" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6542386" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6542386" data-parent_id="6541320" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6541320" class="icon_comment-arrow-up js-comment_parent" data-id="6542386" data-parent_id="6541320" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6542386" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6542386" data-parent_id="6541320" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6542386" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Но ведь у каждого потока своя очередь, кто же ее опустошит пока он будет спать?</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-1" id="reply_comments_6542386">  <li class="content-list__item content-list__item_comment js-comment " rel="6542486">
    
    <span class="parent_id" data-parent_id="6542386"></span>
    <div class="comment" id="comment_6542486">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6542486">
          <a href="https://habrahabr.ru/users/SilentBob/" class="user-info user-info_inline" data-user-login="SilentBob">
    <span class="default-image default-image_mini default-image_pink">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">SilentBob</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 11:39</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6542486" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6542486" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6542486" data-parent_id="6542386" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6542386" class="icon_comment-arrow-up js-comment_parent" data-id="6542486" data-parent_id="6542386" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6542486" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6542486" data-parent_id="6542386" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6542486" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Хм, учитывая что очередь лежит как public member — кто угодно :)<br>
<br>
(просматривая код) Ну да, наверное, сейчас все в порядке. Но лично я предпочитаю защититься от сюрпризов в будущем, добавив лишнюю проверку.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-2" id="reply_comments_6542486"></ul>
  </li>
</ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6543684">
    
    <span class="parent_id" data-parent_id="6541320"></span>
    <div class="comment" id="comment_6543684">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6543684">
          <a href="https://habrahabr.ru/users/vhan/" class="user-info user-info_inline" data-user-login="vhan">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">vhan</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 15:32</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6543684" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6543684" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6543684" data-parent_id="6541320" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6541320" class="icon_comment-arrow-up js-comment_parent" data-id="6543684" data-parent_id="6541320" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6543684" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6543684" data-parent_id="6541320" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6543684" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Двойная проверка не работает же.<br>
Ознакомьтесь:<br>
1) <a href="http://www.cs.umd.edu/">www.cs.umd.edu/</a>~pugh/java/memoryModel/DoubleCheckedLocking.html<br>
2) <a href="https://groups.google.com/forum/#">groups.google.com/forum/#</a>!msg/comp.lang.c++.moderated/h3AXx2cBITo/4eWJJen9wgEJ</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-1" id="reply_comments_6543684">  <li class="content-list__item content-list__item_comment js-comment " rel="6544988">
    
    <span class="parent_id" data-parent_id="6543684"></span>
    <div class="comment" id="comment_6544988">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6544988">
          <a href="https://habrahabr.ru/users/SilentBob/" class="user-info user-info_inline" data-user-login="SilentBob">
    <span class="default-image default-image_mini default-image_pink">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">SilentBob</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 21:51</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6544988" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6544988" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6544988" data-parent_id="6543684" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6543684" class="icon_comment-arrow-up js-comment_parent" data-id="6544988" data-parent_id="6543684" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6544988" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6544988" data-parent_id="6543684" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6544988" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Так там же основная претензия, что компилятор может разделить выделение памяти и создание объекта:<br>
<br>
<pre>inst = nullptr;
if(!inst)
{
  lock();
  inst = malloc(sizeof(Inst)); (*)
  new (inst) Inst();
  unlock();
}
use inst
</pre><br>
После выполнения <code>(*)</code> другой поток может ошибочно решить, что объект инициализирован. У нас же:<br>
<br>
<pre>queue q;

if(!q.empty()) (1)
{
  lock();
  if(!q.empty()) (2)
  {
    f = q.front(); (**)
    q.pop();
  }
  unlock();
}
</pre><br>
Очевидно, что даже если поток заснет сразу после <code>(**)</code>, другой поток пройдет проверку <code>(1)</code>, но не сможет получить мьютекс. Когда он его получит, проверка <code>(2)</code> не даст читать пустую очередь.<br>
<br>
К тому же, в большинстве реализаций мьютексы являются <code>full memory barrier</code>, так что <code>memory reordering</code> нас тоже беспокоить не должен.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-2" id="reply_comments_6544988">  <li class="content-list__item content-list__item_comment js-comment " rel="6545064">
    
    <span class="parent_id" data-parent_id="6544988"></span>
    <div class="comment" id="comment_6545064">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6545064">
          <a href="https://habrahabr.ru/users/vhan/" class="user-info user-info_inline" data-user-login="vhan">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">vhan</span>
</a>

          <span class="icon_comment-edit" title="Комментарий был изменен"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 20h4.343l10-10-4.343-4.343-10 10v4.343zm-4-6l14-14 10 10-14 14h-10v-10z"></path></svg>
</span>
          <time class="comment__date-time comment__date-time_published">30.07.13 в 22:28</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6545064" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6545064" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6545064" data-parent_id="6544988" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6544988" class="icon_comment-arrow-up js-comment_parent" data-id="6545064" data-parent_id="6544988" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6545064" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6545064" data-parent_id="6544988" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6545064" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">А кто вообще разрешил делать (1) без мутекса? Когда это С++ контейнеры стали тред сэйф? Только не нужно мне говорить про конкретные реализации СТЛ. </div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-3" id="reply_comments_6545064"></ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6542566">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_6542566">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6542566">
          <a href="https://habrahabr.ru/users/vhan/" class="user-info user-info_inline" data-user-login="vhan">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">vhan</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 11:52</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6542566" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6542566" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6542566" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6542566" data-parent_id="0" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6542566" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message "><b>volatile</b> не делает переменную атомарной. Смотрите сюда <a href="http://software.intel.com/en-us/blogs/2007/11/30/volatile-almost-useless-for-multi-threaded-programming">software.intel.com/en-us/blogs/2007/11/30/volatile-almost-useless-for-multi-threaded-programming</a></div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_6542566"></ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6542788">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_6542788">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6542788">
          <a href="https://habrahabr.ru/users/vhan/" class="user-info user-info_inline" data-user-login="vhan">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">vhan</span>
</a>

          <span class="icon_comment-edit" title="Комментарий был изменен"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 20h4.343l10-10-4.343-4.343-10 10v4.343zm-4-6l14-14 10 10-14 14h-10v-10z"></path></svg>
</span>
          <time class="comment__date-time comment__date-time_published">30.07.13 в 12:34</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6542788" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6542788" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6542788" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6542788" data-parent_id="0" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6542788" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter voting-wjt__counter_positive  js-score" title="Общий рейтинг 1: ↑1 и ↓0">+1</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Вместо<br>
<blockquote><code>std::this_thread::yield(); // В конечной реализации я использовал тут sleep</code></blockquote><br>
или <code>sleep</code> здесь нужно использовать condition_variable.<br>
В цикле нужно обработать все функторы в очереди, далее стать в ожидание( wait ). А в функции appendFn вызвать (notify_one) после добавления.<br>
<br>
Вообще, в коде много рэйс кондишнов, по которым легко определить что автор новичок в потоках. Почему вы решили что fqueue.empty() или enabled не нужно защищать мутексом? <br>
Потоки — это очень сложно. И главная проблема в написании правильного потокобезопасного кода — это доказать что он правильный. Ваш тред пул скорее всего будет работать, хоть там и есть ошибки. И будет сбоить 1 раз из миллиона. И это хуже всего.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_6542788"></ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6542840">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_6542840">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6542840">
          <a href="https://habrahabr.ru/users/vhan/" class="user-info user-info_inline" data-user-login="vhan">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">vhan</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 12:42</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6542840" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6542840" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6542840" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6542840" data-parent_id="0" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6542840" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">А чем не подошел std::async? Разве он не решает ту же задачу?</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_6542840">  <li class="content-list__item content-list__item_comment js-comment " rel="6543330">
    
    <span class="parent_id" data-parent_id="6542840"></span>
    <div class="comment" id="comment_6543330">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6543330">
          <a href="https://habrahabr.ru/users/gridem/" class="user-info user-info_inline" data-user-login="gridem">
    <img src="./Пишем простой ThreadPool с async и future_files/18001397e2fab389596ea8598d429c80_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">gridem</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 14:29</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6543330" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6543330" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6543330" data-parent_id="6542840" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6542840" class="icon_comment-arrow-up js-comment_parent" data-id="6543330" data-parent_id="6542840" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6543330" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6543330" data-parent_id="6542840" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6543330" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">std::async создает новый тред на каждую задачу, что очень медленно.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-1" id="reply_comments_6543330">  <li class="content-list__item content-list__item_comment js-comment " rel="6543474">
    
    <span class="parent_id" data-parent_id="6543330"></span>
    <div class="comment" id="comment_6543474">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6543474">
          <a href="https://habrahabr.ru/users/vhan/" class="user-info user-info_inline" data-user-login="vhan">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">vhan</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 14:52</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6543474" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6543474" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6543474" data-parent_id="6543330" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6543330" class="icon_comment-arrow-up js-comment_parent" data-id="6543474" data-parent_id="6543330" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6543474" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6543474" data-parent_id="6543330" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6543474" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Ну ведь не правда же. Реализация std::async для конкретной ОС будет учитывать особенности ОС. Для MSVC например точно используется thread pool. </div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-2" id="reply_comments_6543474">  <li class="content-list__item content-list__item_comment js-comment " rel="6544454">
    
    <span class="parent_id" data-parent_id="6543474"></span>
    <div class="comment" id="comment_6544454">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6544454">
          <a href="https://habrahabr.ru/users/gridem/" class="user-info user-info_inline" data-user-login="gridem">
    <img src="./Пишем простой ThreadPool с async и future_files/18001397e2fab389596ea8598d429c80_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">gridem</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 18:58</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6544454" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6544454" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6544454" data-parent_id="6543474" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6543474" class="icon_comment-arrow-up js-comment_parent" data-id="6544454" data-parent_id="6543474" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6544454" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6544454" data-parent_id="6543474" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6544454" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">GCC использует новый поток для каждой задачи. А MSVC действительно использует функцию <a href="http://msdn.microsoft.com/en-us/library/vstudio/hh913025.aspx">create_task</a>, которая в свою очередь использует thread pool из библиотеки concurrent. Т.е. решение годится, но только для MSVC.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-3" id="reply_comments_6544454"></ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6544248">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_6544248">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6544248">
          <a href="https://habrahabr.ru/users/biseptol/" class="user-info user-info_inline" data-user-login="biseptol">
    <span class="default-image default-image_mini default-image_pink">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">biseptol</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">30.07.13 в 18:06</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6544248" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6544248" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6544248" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6544248" data-parent_id="0" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6544248" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Главная ошибка дизайна в этом коде — очередь в каждом Worker'е, т.е. распределение по потокам идет в момент добавления таска, а не в зависимости от текущей загруженности Worker'ов.<br>
</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_6544248">  <li class="content-list__item content-list__item_comment js-comment " rel="6544312">
    
    <span class="parent_id" data-parent_id="6544248"></span>
    <div class="comment" id="comment_6544312">
        <div class="comment__message comment__message_banned">НЛО прилетело и опубликовало эту надпись здесь</div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-1" id="reply_comments_6544312">  <li class="content-list__item content-list__item_comment js-comment " rel="6550830">
    
    <span class="parent_id" data-parent_id="6544312"></span>
    <div class="comment" id="comment_6550830">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6550830">
          <a href="https://habrahabr.ru/users/bak/" class="user-info user-info_inline" data-user-login="bak">
    <img src="./Пишем простой ThreadPool с async и future_files/f1adbac3ea3be738241838375a0bdd70_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">bak</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">01.08.13 в 12:42</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6550830" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6550830" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="6550830" data-parent_id="6544312" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_6544312" class="icon_comment-arrow-up js-comment_parent" data-id="6550830" data-parent_id="6544312" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6550830" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6550830" data-parent_id="6544312" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6550830" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Сложно сказать что лучше. Если длительность заданий короткая, то, возможно, выигрыш и будет. Если задания более-менее тяжелые (десятки миллисекунд и выше) — профита на реальном железе получить не удастся. Взятие мьютекса сейчас дешёвое, берётся он на микросекунды. В крайнем случае можно и lock-free очередь заиспользовать.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-2" id="reply_comments_6550830"></ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="6550864">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_6550864">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="6550864">
          <a href="https://habrahabr.ru/users/bak/" class="user-info user-info_inline" data-user-login="bak">
    <img src="./Пишем простой ThreadPool с async и future_files/f1adbac3ea3be738241838375a0bdd70_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">bak</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">01.08.13 в 12:45</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_6550864" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="6550864" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_6550864" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="6550864" data-parent_id="0" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="6550864" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">В такой штуке было бы прикольно иметь в интерфейсе ещё ExecDelayed(func) и ExecRepeated(func, duration)</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_6550864"></ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="8506081">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_8506081">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="8506081">
          <a href="https://habrahabr.ru/users/CyberKastaneda/" class="user-info user-info_inline" data-user-login="CyberKastaneda">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">CyberKastaneda</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">19.07.15 в 17:47</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_8506081" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="8506081" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_8506081" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="8506081" data-parent_id="0" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="8506081" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Использовал ваш код в своем проекте, сразу наткнулся на проблему — если в пул одну за одной сунуть две задачи, первая из которых выполняется, например, 10 сек, а вторая 1 сек, то вторая задача (1 сек) будет выполнена только после завершения первой. Проблему исправил, расписывать причины/решение думаю не нужно, т.к оно бодет понятно по правке.<br>
Поправьте, пожалуйста, в thread_fn строчка fqueue.pop(); должна быть послденей в цикле, а не второй как сейчас. Поправить надо, т.к. эта статья одна из первых в гугле по запросу «threadpool c++11», поэтому, думаю, на нее часто натыкаются.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_8506081">  <li class="content-list__item content-list__item_comment js-comment " rel="8506265">
    
    <span class="parent_id" data-parent_id="8506081"></span>
    <div class="comment" id="comment_8506265">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="8506265">
          <a href="https://habrahabr.ru/users/CyberKastaneda/" class="user-info user-info_inline" data-user-login="CyberKastaneda">
    <span class="default-image default-image_mini default-image_lilac">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"></path></svg>
    </span>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">CyberKastaneda</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">19.07.15 в 23:08</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_8506265" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="8506265" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="8506265" data-parent_id="8506081" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_8506081" class="icon_comment-arrow-up js-comment_parent" data-id="8506265" data-parent_id="8506081" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_8506265" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="8506265" data-parent_id="8506081" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="8506265" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">И еще после переноса проекта в MSVC наткнулся на еще один баг (под Linux'ом в g++ он не проявлялся, возможно случайно) — сделайте член bool enabled первым в списке членов класса и почитайте про порядок инициализации членов в классе.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-1" id="reply_comments_8506265"></ul>
  </li>
  <li class="content-list__item content-list__item_comment js-comment " rel="8547955">
    
    <span class="parent_id" data-parent_id="8506081"></span>
    <div class="comment" id="comment_8547955">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head comment__head_topic-author  " rel="8547955">
          <a href="https://habrahabr.ru/users/Ivaneo/" class="user-info user-info_inline" data-user-login="Ivaneo">
    <img src="./Пишем простой ThreadPool с async и future_files/27a889d15236d239a4bdf3b21b44c5e2_small.png" class="user-info__image-pic user-info__image-pic_small" width="24" height="24">
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">Ivaneo</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">25.08.15 в 06:29</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="https://habrahabr.ru/post/188234/#comment_8547955" class="icon_comment-anchor" title="Ссылка на комментарий">
      <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4 16v-8h-4v-4h4v-4h4v4h8v-4h4v4h4v4h-4v8h4v4h-4v4h-4v-4h-8v4h-4v-4h-4v-4h4zm4 0h8v-8h-8v8z"></path></svg>

    </a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="8547955" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в избранное" disabled="">
        <svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>

      </a>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <span class="icon_comment-branch js-comment_tree" data-id="8547955" data-parent_id="8506081" title="Показать ветку комментариев"><svg class="icon-svg" width="16" height="24" viewBox="0 0 16 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M0 0h4v12h-4v-12zm0 16h4v8h-4v-8zm12-8h4v16h-4v-16zm0 0v4h-8v-4h8z"></path></svg>
</span>
    </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="https://habrahabr.ru/post/188234/#comment_8506081" class="icon_comment-arrow-up js-comment_parent" data-id="8547955" data-parent_id="8506081" title="Показать предыдущий комментарий"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
    </li>

  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="https://habrahabr.ru/post/188234/#comment_8547955" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="8547955" data-parent_id="8506081" title="Вернуться к ответу"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M12 24c-6.627 0-12-5.373-12-12s5.373-12 12-12 12 5.373 12 12-5.373 12-12 12zm5.333-7.335l2.666-2.666-8.001-7.999-7.999 7.999 2.666 2.666 5.333-5.333 5.334 5.333z"></path></svg>
</a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="8547955" data-post-target="188234" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-up icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>

    <span class="voting-wjt__counter   js-score" title="Общий рейтинг 0: ↑0 и ↓0">0</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small" data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled=""><span class="icon-svg_arrow-down icon-svg_arrow-medium "><svg class="icon-svg" width="15" height="24" viewBox="0 0 15 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M4.5 24h6v-15h-6v15zm3-24l-7.5 9h15l-7.5-9z"></path></svg>
</span></button>
  </div>

        </div>

        <div class="comment__message ">Спасибо, поправил.</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-1" id="reply_comments_8547955"></ul>
  </li>
</ul>
  </li>

      
    </ul>
    <div class="js-form_placeholder">
              <p class="for_users_only_msg">Только&nbsp;<a href="https://habrahabr.ru/info/help/registration/">полноправные пользователи</a> могут оставлять комментарии. <a href="https://habrahabr.ru/auth/login/">Войдите</a>, пожалуйста.</p>

    </div>
  </div>


  </div>

  <div class="sidebar_right sidebar_comments js-sidebar_right">
        

  <div class="wrapper-sticky" style="display: block; height: 637px; width: auto; margin: auto; position: relative; float: none; left: auto; right: auto; top: auto; bottom: auto; vertical-align: top;"><div class="js-ad_sticky_comments" style="width: 300px; top: 0px; bottom: auto; left: 0px; right: auto; position: absolute;">
    <div class="default-block">
      <div class="default-block__header">
        <span class="default-block__header-title">Что обсуждают</span>
      </div>

      <div class="default-block__content default-block__content_most-comments" id="broadcast_tabs_comments">
        <ul class="toggle-menu toggle-menu_most-comments">
          <li class="toggle-menu__item">
            <a href="https://habrahabr.ru/post/188234/#broadcast_comments_now" class="toggle-menu__item-link active">Сейчас</a>
          </li>
          <li class="toggle-menu__item">
            <a href="https://habrahabr.ru/post/188234/#broadcast_comments_yesterday" class="toggle-menu__item-link">Вчера</a>
          </li>
          <li class="toggle-menu__item">
            <a href="https://habrahabr.ru/post/188234/#broadcast_comments_week" class="toggle-menu__item-link">Неделя</a>
          </li>
        </ul>

          <div class="tabs__content" id="broadcast_comments_now" style="display: block;">
              <ul class="content-list content-list_most-comments">
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350822/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;now&#39;); }" class="post-info__title">Как я искал работу в Сингапуре</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">6,4k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350822/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">44</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350832/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;now&#39;); }" class="post-info__title">6 интересных багов, с которыми я столкнулся, пока делал игру для ВКонтакте</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">2,2k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350832/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">1</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/company/iticapital/blog/350840/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;now&#39;); }" class="post-info__title">Вынесен приговор Российским хакерам, атаковавшим американские биржи</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">2,2k</span>
                    </span>
                    <a href="https://habrahabr.ru/company/iticapital/blog/350840/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">2</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350810/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;now&#39;); }" class="post-info__title">Подвесные топливные баки для самолётов</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">5k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350810/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">3</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/company/crossover/blog/350786/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;now&#39;); }" class="post-info__title">Ни в чём себе не отказывайте: даём карт-бланш на нецензурируемые отзывы о наших мероприятиях в нашем блоге</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">4k</span>
                    </span>
                    <a href="https://habrahabr.ru/company/crossover/blog/350786/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">17</span>
                    </a>
                  </div>
                </li>
            </ul>
        </div>
          <div class="tabs__content" id="broadcast_comments_yesterday" style="display: none;">
              <ul class="content-list content-list_most-comments">
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350822/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;yesterday&#39;); }" class="post-info__title">Как я искал работу в Сингапуре</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">6,4k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350822/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">44</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/company/mailru/blog/350686/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;yesterday&#39;); }" class="post-info__title">Исчерпывающие бенчмарки PHP 5.6, 7.0, 7.1, 7.2 и HHVM (2018)</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">9,9k</span>
                    </span>
                    <a href="https://habrahabr.ru/company/mailru/blog/350686/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">34</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350772/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;yesterday&#39;); }" class="post-info__title">Конвертация React в Angular с использованием универсального абстрактного дерева. Proof of Concept</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">2,6k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350772/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">31</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350774/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;yesterday&#39;); }" class="post-info__title">Java 9 — Вы уже перешли? Нет? И не надо ...!?</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">14,9k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350774/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">32</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/349248/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;yesterday&#39;); }" class="post-info__title">Операционные системы с нуля; Уровень 0</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">24,5k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/349248/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">28</span>
                    </a>
                  </div>
                </li>
            </ul>
        </div>
          <div class="tabs__content" id="broadcast_comments_week" style="display: none;">
              <ul class="content-list content-list_most-comments">
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350374/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;week&#39;); }" class="post-info__title">Почему я ушёл из Google и начал работать на себя</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">75,6k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350374/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">414</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350432/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;week&#39;); }" class="post-info__title">Теория дряхлого ноутбука</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">37,6k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350432/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">369</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350376/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;week&#39;); }" class="post-info__title">Культура и продление жизни. Что делать?</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">9,5k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350376/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">191</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350410/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;week&#39;); }" class="post-info__title">Как делать лучшие сайты в России</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">15,6k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350410/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">129</span>
                    </a>
                  </div>
                </li>
                  <li class="content-list__item content-list__item_devided post-info">
                    <a href="https://habrahabr.ru/post/350602/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;discussions&#39;, &#39;week&#39;); }" class="post-info__title">Как я взломал паяльник</a>

                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">32,4k</span>
                    </span>
                    <a href="https://habrahabr.ru/post/350602/#comments" class="post-info__meta-item">
                      <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">113</span>
                    </a>
                  </div>
                </li>
            </ul>
        </div>
    </div>
  </div>

  </div></div>
</div></section>

<script>
  window._yaparams = {'hubs':[], 'flows':[] };
  // hubs to GA
  _yaparams['hubs'].push('programming (Программирование)');
  _yaparams['hubs'].push('parallel_programming (Параллельное программирование)');
  _yaparams['hubs'].push('cpp (C++)');
  _yaparams['flows'].push('develop (Разработка)');
</script>


        </div>
      </div>

        <div class="layout__row layout__row_promo-blocks">
          <div class="layout__cell">
            <section class="column-wrapper column-wrapper_bottom column-wrapper_bordered">
  <div class="content_left">
    

  <div class="default-block default-block_content">
    <div class="default-block__header default-block__header_large">
      <span class="default-block__header-title default-block__header-title_large">Интересные публикации</span>

      <div class="dropdown dropdown_broadcast">
        <button type="button" class="btn icon-svg_cog dropdown-toggle" data-toggle="dropdown" tabindex="0" aria-expanded="false">
          <svg class="icon-svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M14.461 8c0-.997.614-1.785 1.539-2.326-.167-.557-.387-1.09-.659-1.592-1.037.271-1.876-.135-2.582-.84-.706-.706-.922-1.545-.65-2.582-.502-.273-1.035-.494-1.592-.66-.542.925-1.519 1.539-2.517 1.539-.997 0-1.975-.614-2.517-1.539-.557.166-1.09.387-1.592.659.271 1.037.055 1.877-.65 2.582-.706.706-1.545 1.112-2.582.841-.272.502-.492 1.035-.659 1.592.925.541 1.539 1.329 1.539 2.326 0 .998-.614 1.975-1.539 2.517.167.557.387 1.09.659 1.593 1.037-.271 1.877-.055 2.582.65.705.706.921 1.545.65 2.582.502.271 1.035.492 1.592.658.542-.925 1.52-1.539 2.517-1.539.998 0 1.975.614 2.517 1.539.557-.167 1.09-.387 1.593-.659-.271-1.037-.056-1.876.65-2.582.706-.706 1.545-1.112 2.582-.841.272-.502.492-1.036.659-1.593-.926-.54-1.54-1.328-1.54-2.325zm-6.461 3.479c-1.921 0-3.479-1.558-3.479-3.479s1.557-3.48 3.479-3.48 3.479 1.558 3.479 3.48-1.557 3.479-3.479 3.479z"></path></svg>
        </button>
        <div class="dropdown-container">
          <ul class="n-dropdown-menu n-dropdown-menu_most-read" id="filter">
            <li class="n-dropdown-menu__item">
              <label class="checkbox checkbox_most-read checkbox_custom">
                <input type="checkbox" class="checkbox__input" name="habrahabr" checked="">
                <span class="checkbox__label">Хабрахабр</span>
              </label>
            </li>
            <li class="n-dropdown-menu__item">
              <label class="checkbox checkbox_most-read checkbox_custom">
                <input type="checkbox" class="checkbox__input" name="geektimes" checked="">
                <span class="checkbox__label">Geektimes</span>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="default-block__content">
      <ul class="content-list content-list_most-interesting" id="list" data-posts-count="5">
          <li class="content-list__item content-list__item_devided post-info visible" data-type="habrahabr">
            <div class="post-info__title post-info__title_large">
              <a href="https://habrahabr.ru/post/350830/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Алан Кей: Будущее нельзя построить постепенно</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+7</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">987</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">12</span>
              </span>
              <a href="https://habrahabr.ru/post/350830/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">0</span>
              </a>
            </div>
          </li>
          <li class="content-list__item content-list__item_devided post-info visible" data-type="habrahabr">
            <div class="post-info__title post-info__title_large">
              <a href="https://habrahabr.ru/post/350840/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Вынесен приговор Российским хакерам, атаковавшим американские биржи</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+6</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">2,1k</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">6</span>
              </span>
              <a href="https://habrahabr.ru/post/350840/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">2</span>
              </a>
            </div>
          </li>
          <li class="content-list__item content-list__item_devided post-info visible" data-type="habrahabr">
            <div class="post-info__title post-info__title_large">
              <a href="https://habrahabr.ru/post/350808/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Задача про forEach(ps::println) от СКБ Контур</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+16</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">2,7k</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">5</span>
              </span>
              <a href="https://habrahabr.ru/post/350808/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">0</span>
              </a>
            </div>
          </li>
          <li class="content-list__item content-list__item_devided post-info visible" data-type="habrahabr">
            <div class="post-info__title post-info__title_large">
              <a href="https://habrahabr.ru/post/350832/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">6 интересных багов, с которыми я столкнулся, пока делал игру для ВКонтакте</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+11</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">2,2k</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">7</span>
              </span>
              <a href="https://habrahabr.ru/post/350832/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">1</span>
              </a>
            </div>
          </li>
          <li class="content-list__item content-list__item_devided post-info visible" data-type="geektimes">
            <div class="post-info__title post-info__title_large">
              <a href="https://geektimes.ru/post/298911/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Евангелизм в компьютерном мире или как можно выразить любовь к программному продукту</a> <a href="https://geektimes.ru/" target="_blank" class="post-info__project-label post-info__project-label_gt" rel=" noopener">GT</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+6</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">2,1k</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">2</span>
              </span>
              <a href="https://geektimes.ru/post/298911/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">1</span>
              </a>
            </div>
          </li>
          <li class="content-list__item content-list__item_devided post-info hidden" data-type="habrahabr">
            <div class="post-info__title post-info__title_large">
              <a href="https://habrahabr.ru/post/350822/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Как я искал работу в Сингапуре</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+29</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">6,4k</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">31</span>
              </span>
              <a href="https://habrahabr.ru/post/350822/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">42</span>
              </a>
            </div>
          </li>
          <li class="content-list__item content-list__item_devided post-info hidden" data-type="geektimes">
            <div class="post-info__title post-info__title_large">
              <a href="https://geektimes.ru/post/298901/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Реальность цвета заключается в процессе его восприятия</a> <a href="https://geektimes.ru/" target="_blank" class="post-info__project-label post-info__project-label_gt" rel=" noopener">GT</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+6</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">3,3k</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">12</span>
              </span>
              <a href="https://geektimes.ru/post/298901/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">11</span>
              </a>
            </div>
          </li>
          <li class="content-list__item content-list__item_devided post-info hidden" data-type="geektimes">
            <div class="post-info__title post-info__title_large">
              <a href="https://geektimes.ru/post/298895/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Google представила новый квантовый процессор</a> <a href="https://geektimes.ru/" target="_blank" class="post-info__project-label post-info__project-label_gt" rel=" noopener">GT</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+11</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">15,9k</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">19</span>
              </span>
              <a href="https://geektimes.ru/post/298895/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">59</span>
              </a>
            </div>
          </li>
          <li class="content-list__item content-list__item_devided post-info hidden" data-type="geektimes">
            <div class="post-info__title post-info__title_large">
              <a href="https://geektimes.ru/post/298899/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Какие есть важные и знаковые сцены из мюзиклов с участием женщин: история вопроса</a> <a href="https://geektimes.ru/" target="_blank" class="post-info__project-label post-info__project-label_gt" rel=" noopener">GT</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+14</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">3,9k</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">8</span>
              </span>
              <a href="https://geektimes.ru/post/298899/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">7</span>
              </a>
            </div>
          </li>
          <li class="content-list__item content-list__item_devided post-info hidden" data-type="geektimes">
            <div class="post-info__title post-info__title_large">
              <a href="https://geektimes.ru/post/298893/" class="post-info__title-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_habrahabr&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Delphi: самый быстрый DataSet (TJvMemoryData, TMemTableEh, TdxMemData, TkbmMemTable)</a> <a href="https://geektimes.ru/" target="_blank" class="post-info__project-label post-info__project-label_gt" rel=" noopener">GT</a>
            </div>
            <div class="post-info__meta">
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_rating"><svg class="icon-svg" width="14" height="16" viewBox="0 0 14 16" aria-hidden="true" version="1.1" role="img"><path d="M13.27 7.486l-6.389-7.39c-.112-.128-.316-.128-.427 0l-6.389 7.39c-.151.175-.022.439.213.439h3.319c.154 0 .277.119.277.268v7.54c0 .149.124.267.278.267h5.03c.154 0 .278-.118.278-.268v-7.538c0-.148.123-.268.277-.268h3.318c.236 0 .364-.265.214-.439z"></path></svg></span><span class="post-info__meta-counter">+13</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_views"><svg class="icon-svg" width="42" height="24" viewBox="0 0 42 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M21 0c13.776 0 21 10.357 21 12s-7.224 12-21 12-21-10.357-21-12 7.224-12 21-12zm0 21.232c5.156 0 9.334-4.133 9.334-9.232s-4.179-9.232-9.334-9.232c-5.155 0-9.335 4.133-9.335 9.232s4.179 9.232 9.335 9.232zm0-9.232c-.053 1.096 4.116 2.523 3.3 3.352-1.774 1.803-4.691 1.763-6.513-.088s-1.861-4.813-.087-6.616 4.691-1.763 6.513.088c.984 1-3.15 1.973-3.213 3.264z"></path></svg>
</span><span class="post-info__meta-counter">4,3k</span>
              </span>
              <span class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_bookmark-mini"><svg class="icon-svg" width="20" height="32" viewBox="0 0 20 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M10 25.645l10 6.355v-30c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v30l10-6.355z"></path></svg>
</span><span class="post-info__meta-counter">12</span>
              </span>
              <a href="https://geektimes.ru/post/298893/#comments" class="post-info__meta-item">
                <span class="post-info__meta-icon icon-svg_comments"><svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><path d="M1.5 0h21c.828 0 1.5.672 1.5 1.5v15c0 .828-.672 1.5-1.5 1.5h-21c-.828 0-1.5-.672-1.5-1.5v-15c0-.828.672-1.5 1.5-1.5zm12 18v6l-7.5-6h7.5z"></path></svg>
</span><span class="post-info__meta-counter">16</span>
              </a>
            </div>
          </li>
      </ul>
    </div>
  </div>

  </div>
  <div class="sidebar_right">
    <!-- /235032688/HH/HH04_BTF_footer -->
<div class="dfp-slot">
  <div class="dfp-slot__banner" id="div-gpt-hh-btf" data-google-query-id="CMr__vGf4tkCFYI24AodSiwCAg" style=""><yatag class="yap-reset ya_partner_R-A-149298-38" lang="ru"><yatag class="yap-rtb__wrapper"><yatag class="yap-rtb__iframe" id="ya_partner_R-A-149298-38" style="width: 300px; height: 300px; position: relative;"><iframe frameborder="no" scrolling="no" allowtransparency="true" hidefocus="true" tabindex="-1" marginwidth="0" marginheight="0" name="%7B%22id%22%3A%22ya_partner_R-A-149298-38%22%2C%22html%22%3A%22%3C!DOCTYPE%20html%3E%5Cn%3Chtml%20lang%3D%5C%22en%5C%22%3E%5Cn%3Chead%3E%5Cn%20%20%20%20%3Cmeta%20charset%3D%5C%22UTF-8%5C%22%3E%5Cn%20%20%20%20%3Ctitle%3ETitle%3C%2Ftitle%3E%5Cn%3C%2Fhead%3E%5Cn%3Cbody%20style%3D%5C%22margin%3A0%3B%5C%22%3E%5Cn%3Cscript%20src%3D%5C%22https%3A%2F%2Fyastatic.net%2Fpcode%2Fmedia%2Floader.js%5C%22%3E%3C%2Fscript%3E%5Cn%3Cscript%20id%3D%5C%22extra%5C%22%20type%3D%5C%22application%2Fjson%5C%22%3E%5Cn%20%20%20%20%7B%5Cn%20%20%20%5C%22creative_params%5C%22%3A%5Cn%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%5C%22crypta_user_age%5C%22%3A%5C%22unknown%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%5C%22crypta_user_gender%5C%22%3A%5C%22unknown%5C%22%5Cn%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%5C%22data_params%5C%22%3A%5Cn%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%5C%22misc%5C%22%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22object_id%5C%22%3A%5C%22C1088654120%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22target_url%5C%22%3A%5C%22http%3A%5C%5C%2F%5C%5C%2Fru.yandex.media-creative%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22click_url%5C%22%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22abuse%5C%22%3A%5C%22%5C%5C%2F%5C%5C%2Fan.yandex.ru%5C%5C%2Fabuse%5C%5C%2F6fUDQaGOxXa508W0CQSHf5e00000EEIS4d2SaiP0a070gFUdAvW1qfURz2ZO0TZ7rHBe0GQW0iIVqHQ00ykNhPe6Y0Fpgvh_1Ca6cIihWFa0N6kf1uGwB2DZTg0Fq0S2q0Y0W8200e0BXDnTgWiGS2MG98Gw0000OsV-4MS50F8D0FeD088E0000%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22trackers%5C%22%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%5C%225813234208%5C%22%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22object_id%5C%22%3A%5C%22C1088654120%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22target_url%5C%22%3A%5C%22http%3A%5C%5C%2F%5C%5C%2Fru.yandex.media-creative%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22text%5C%22%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22domain%5C%22%3A%5C%22squalio.com%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22client_id%5C%22%3A%5C%229323589%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22count%5C%22%3A%5C%22https%3A%5C%5C%2F%5C%5C%2Fan.yandex.ru%5C%5C%2Fresource%5C%5C%2Fspacer.gif%3F%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22click_url%5C%22%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22image_orig%5C%22%3A%5C%22https%3A%5C%5C%2F%5C%5C%2Fan.yandex.ru%5C%5C%2Fcount%5C%5C%2F6fUDQi2gQPK50B81CQSHf5e00000EEIS4a08I09Wl0Xe172SaiP0W074xCssxVlRoJg80VBFYOula070gFUdAvW1qfURz2Ym0T2id8u8k07yYEY96C010jW1sCVL4k01jF793-W11lW1pilYlW680YQW0iIVqHQv0fAYT_Xx-5DSy0AshTps3lW2ue20W92m2O03ovUjcWQ80_Ehcly4g0FG3x031BW4_m7010pe1BO6-0JidnQ81UoV5f05nlmSe0Nv6AW5-HYm1VaOk0M-8C05mUiYo0M89z05zDS2u0LQy0K1c0Qy_wtt0g06kWAe1he2mGQPAok0-G1SQya6cIihWFa0N6lH1fbJbcxw05nhsGO0000WH0000Aa7X3ei8sDse0-m1u20a2J01y34w8yBq0S2u0VA3lW70O080T08keg0WS8Gu0ZYpwWBy0dO1FW9s0I02WJ12W0000000F0_s0e2u0g0YNg02uJSNOWBJAeB470ba2I4EW0006Dd_X5d1G302u2Z1SWBWDIJ0TaBX3ei8sDse0_e2yRy7F0B1eWCpilYlW7o3G3w3G223W00%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22clickUrl1%5C%22%3A%5C%22%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22clickUrl2%5C%22%3A%5C%22%5C%22%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5C%22clickUrl3%5C%22%3A%5C%22%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%3Cscript%3E%5Cn%20%20%20%20var%20data%20%3D%20%7B%5C%22width%5C%22%3A300%2C%5C%22height%5C%22%3A300%2C%5C%22options%5C%22%3A%7B%5C%22backgroundColor%5C%22%3A%5C%22%2340403F%5C%22%2C%5C%22borderColor%5C%22%3A%5C%22%23000000%5C%22%2C%5C%22hasAnimation%5C%22%3Atrue%7D%2C%5C%22elements%5C%22%3A%5B%7B%5C%22type%5C%22%3A%5C%22image%5C%22%2C%5C%22available%5C%22%3Atrue%2C%5C%22mediaSet%5C%22%3A%5C%22image%5C%22%2C%5C%22options%5C%22%3A%7B%5C%22width%5C%22%3A298%2C%5C%22height%5C%22%3A124%7D%7D%2C%7B%5C%22type%5C%22%3A%5C%22headline%5C%22%2C%5C%22available%5C%22%3Atrue%2C%5C%22mediaSet%5C%22%3Anull%2C%5C%22options%5C%22%3A%7B%5C%22placeholder%5C%22%3Anull%2C%5C%22content%5C%22%3A%5C%22%5C%5Cu0411%5C%5Cu0438%5C%5Cu0437%5C%5Cu043D%5C%5Cu0435%5C%5Cu0441-%5C%5Cu0430%5C%5Cu043D%5C%5Cu0430%5C%5Cu043B%5C%5Cu0438%5C%5Cu0442%5C%5Cu0438%5C%5Cu043A%5C%5Cu0430%20%5C%5Cu043D%5C%5Cu043E%5C%5Cu0432%5C%5Cu043E%5C%5Cu0433%5C%5Cu043E%20%5C%5Cu043F%5C%5Cu043E%5C%5Cu043A%5C%5Cu043E%5C%5Cu043B%5C%5Cu0435%5C%5Cu043D%5C%5Cu0438%5C%5Cu044F%5C%22%2C%5C%22color%5C%22%3A%5C%22%23FFFFFF%5C%22%7D%7D%2C%7B%5C%22type%5C%22%3A%5C%22button%5C%22%2C%5C%22available%5C%22%3Atrue%2C%5C%22mediaSet%5C%22%3Anull%2C%5C%22options%5C%22%3A%7B%5C%22placeholder%5C%22%3Anull%2C%5C%22content%5C%22%3A%5C%22%5C%5Cu041F%5C%5Cu043E%5C%5Cu043F%5C%5Cu0440%5C%5Cu043E%5C%5Cu0431%5C%5Cu043E%5C%5Cu0432%5C%5Cu0430%5C%5Cu0442%5C%5Cu044C%5C%22%2C%5C%22backgroundColor%5C%22%3A%5C%22%23CE2F05%5C%22%2C%5C%22color%5C%22%3A%5C%22%23FFFFFF%5C%22%7D%7D%2C%7B%5C%22type%5C%22%3A%5C%22description%5C%22%2C%5C%22available%5C%22%3Atrue%2C%5C%22mediaSet%5C%22%3Anull%2C%5C%22options%5C%22%3A%7B%5C%22placeholder%5C%22%3Anull%2C%5C%22content%5C%22%3A%5C%22%5C%5Cu0412%5C%5Cu0441%5C%5Cu0435%20%5C%5Cu043F%5C%5Cu043E%5C%5Cu043A%5C%5Cu0430%5C%5Cu0437%5C%5Cu0430%5C%5Cu0442%5C%5Cu0435%5C%5Cu043B%5C%5Cu0438%20%5C%5Cu0431%5C%5Cu0438%5C%5Cu0437%5C%5Cu043D%5C%5Cu0435%5C%5Cu0441%5C%5Cu0430%20%5C%5Cu043D%5C%5Cu0430%20%5C%5Cu043E%5C%5Cu0434%5C%5Cu043D%5C%5Cu043E%5C%5Cu043C%20%5C%5Cu044D%5C%5Cu043A%5C%5Cu0440%5C%5Cu0430%5C%5Cu043D%5C%5Cu0435%5C%22%2C%5C%22color%5C%22%3A%5C%22%23FFFFFF%5C%22%7D%7D%2C%7B%5C%22type%5C%22%3A%5C%22special%5C%22%2C%5C%22available%5C%22%3Atrue%2C%5C%22mediaSet%5C%22%3Anull%2C%5C%22options%5C%22%3A%7B%5C%22placeholder%5C%22%3Anull%2C%5C%22content%5C%22%3A%5C%22Microsoft%20Power%20BI%5C%22%2C%5C%22color%5C%22%3A%5C%22%23000000%5C%22%2C%5C%22backgroundColor%5C%22%3A%5C%22%23FFC800%5C%22%7D%7D%2C%7B%5C%22type%5C%22%3A%5C%22ageRestriction%5C%22%2C%5C%22available%5C%22%3Atrue%2C%5C%22mediaSet%5C%22%3Anull%2C%5C%22options%5C%22%3A%7B%5C%22placeholder%5C%22%3Anull%2C%5C%22value%5C%22%3A%5C%2216%5C%22%2C%5C%22color%5C%22%3A%5C%22%23FFFFFF%5C%22%2C%5C%22content%5C%22%3A%5C%2216%5C%22%7D%7D%5D%2C%5C%22mediaSets%5C%22%3A%7B%5C%22image%5C%22%3A%7B%5C%22items%5C%22%3A%5B%7B%5C%22type%5C%22%3A%5C%22image%5C%22%2C%5C%22items%5C%22%3A%5B%7B%5C%22width%5C%22%3A596%2C%5C%22height%5C%22%3A248%2C%5C%22url%5C%22%3A%5C%22https%3A%2F%2Favatars.mds.yandex.net%2Fget-canvas%2F224059%2F2a00000161f6712f63832ce8674305e3d73e%2FcropSource%5C%22%2C%5C%22alias%5C%22%3A%5C%22normal%5C%22%2C%5C%22fileId%5C%22%3A%5C%225a9d4b7c4cedfd0007884764%5C%22%2C%5C%22croppedFileId%5C%22%3A%5C%225a9d4be34cedfd000788477c%5C%22%7D%5D%7D%5D%7D%7D%2C%5C%22bundle%5C%22%3A%7B%5C%22name%5C%22%3A%5C%22media-banner_theme_wine%5C%22%2C%5C%22version%5C%22%3A2%7D%2C%5C%22clickUrl%5C%22%3Anull%7D%3B%5Cn%5Cn%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20var%20d%20%3D%20JSON.parse(document.getElementById(%5C%22extra%5C%22).innerHTML)%3B%5Cn%20%20%20%20%20%20%20%20var%20dcParams%20%3D%20d.data_params%20%7C%7C%20%7B%7D%3B%5Cn%20%20%20%20%20%20%20%20data%5B%5C%22AUCTION_DC_PARAMS%5C%22%5D%20%3D%20d%3B%5Cn%20%20%20%20%20%20%20%20for%20(var%20c%20in%20dcParams)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(c%20!%3D%3D%20%5C%22misc%5C%22%20%26%26%20dcParams%5Bc%5D%20%26%26%20dcParams%5Bc%5D.click_url)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data.clickUrl%20%3D%20dcParams%5Bc%5D.click_url.image_orig%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%20catch%20(e)%20%7B%7D%5Cn%5Cn%20%20%20%20window.Ya.mediaCode.create(data.bundle%2C%20data%2C%20%5C%22body%5C%22)%3B%5Cn%3C%2Fscript%3E%5Cn%3C%2Fbody%3E%5Cn%3C%2Fhtml%3E%5Cn%22%2C%22pmGuid%22%3A%22_1520701846888_19_4%22%2C%22geom%22%3A%7B%22win%22%3A%7B%22t%22%3A0%2C%22l%22%3A0%2C%22w%22%3A1233%2C%22h%22%3A620%2C%22b%22%3A620%2C%22r%22%3A1233%7D%2C%22self%22%3A%7B%22t%22%3A13964%2C%22l%22%3A859%2C%22b%22%3A14264%2C%22r%22%3A1159%2C%22w%22%3A300%2C%22h%22%3A300%2C%22xiv%22%3A1%2C%22yiv%22%3A0%2C%22iv%22%3A0%2C%22z%22%3A2%7D%2C%22exp%22%3A%7B%22t%22%3A13964%2C%22l%22%3A859%2C%22r%22%3A74%2C%22b%22%3A0%2C%22xs%22%3A0%2C%22ys%22%3A0%7D%7D%2C%22hasFocus%22%3Afalse%2C%22supports%22%3A%7B%22exp-ovr%22%3Atrue%2C%22exp-push%22%3Afalse%2C%22read-cookie%22%3Afalse%2C%22write-cookie%22%3Afalse%7D%2C%22css%22%3A%22%22%2C%22bg%22%3A%22transparent%22%2C%22posMeta%22%3A%7B%22sharedData%22%3A%7B%22sf_ver%22%3A%221-1-0%22%2C%22ck_o%22%3A1%2C%22flash_ver%22%3A0%7D%2C%22ownerKey%22%3A%22%22%2C%22privateData%22%3A%7B%7D%7D%2C%22target%22%3A%22_blank%22%2C%22basePath%22%3A%22https%3A%2F%2Fhabrahabr.ru%22%7D" src="./Пишем простой ThreadPool с async и future_files/render.html" width="300" height="300" style="width: 300px; height: 300px; top: 0px; left: 0px; position: absolute;"></iframe></yatag><yatag class="yap-rtb__adtune-button"><yatag class="yap-rtb__adtune yap-adtune yap-adtune_round yap-adtune_touch_false"><yatag class="yap-adtune__button"><yatag class="yap-adtune-icon yap-adtune-icon_round yap-adtune-icon_touch_false yap-adtune-icon_size_l"><yatag class="yap-adtune-icon__container"><yatag class="yap-adtune-icon__image" style="width: 9px !important; height: 9px !important;"><svg width="9px" height="9px" viewBox="0 0 14 14" version="1.1"><polygon points="14,0.7 13.3,0 7,6.299 0.7,0 0,0.7 6.3,7 0,13.299 0.7,14 7,7.7 13.3,14 14,13.299 7.7,7"></polygon></svg></yatag><yatag class="yap-adtune-icon__tooltip"><yatag class="yap-adtune-icon__tooltip-arrow"></yatag><yatag class="yap-adtune-icon__tooltip-text">Скрыть&nbsp;объявление</yatag></yatag></yatag></yatag></yatag></yatag></yatag></yatag></yatag></div>
  <div class="dfp-slot__placeholder">
  <span class="dfp-slot__placeholder-text">AdBlock похитил этот баннер, но&nbsp;баннеры не&nbsp;зубы — отрастут<br><br><a href="https://u.tmtm.ru/tmtalkadblock" class="btn btn_large btn_blue" target="_blank" rel=" noopener">Подробнее</a></span>
</div>
<a href="https://tmtm.ru/services/advertising/" target="_blank" class="dfp-slot__label" rel=" noopener">Реклама</a>

</div>

  </div>
</section>

          </div>
        </div>

      <div class="layout__row layout__row_footer-links">
        <div class="layout__cell">
          <div class="footer-grid footer-grid_menu">
  <div class="footer-grid__item footer-block">
    <h3 class="footer-block__title">
      Аккаунт
    </h3>
    <div class="footer-block__content">
      <ul class="footer-menu">
          <li class="footer-menu__item">
            <a href="https://habrahabr.ru/auth/login/" class="footer-menu__item-link">Войти</a>
          </li>
          <li class="footer-menu__item">
            <a href="https://habrahabr.ru/auth/register/" class="footer-menu__item-link">Регистрация</a>
          </li>
      </ul>
    </div>
  </div>

  <div class="footer-grid__item footer-block">
    <h3 class="footer-block__title">Разделы</h3>
    <div class="footer-block__content">
      <ul class="footer-menu">
        <li class="footer-menu__item">
          <a href="https://habrahabr.ru/posts/top/" class="footer-menu__item-link">Публикации</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habrahabr.ru/hubs/" class="footer-menu__item-link">Хабы</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habrahabr.ru/companies/" class="footer-menu__item-link">Компании</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habrahabr.ru/users/" class="footer-menu__item-link">Пользователи</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habrahabr.ru/sandbox/" class="footer-menu__item-link">Песочница</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="footer-grid__item footer-block">
    <h3 class="footer-block__title">Информация</h3>
    <div class="footer-block__content">
      <ul class="footer-menu">
        <li class="footer-menu__item">
          <a href="https://habrahabr.ru/info/about/" class="footer-menu__item-link">О сайте</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habrahabr.ru/info/help/rules/" class="footer-menu__item-link">Правила</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habrahabr.ru/info/help/" class="footer-menu__item-link">Помощь</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://id.tmtm.ru/info/agreement/" class="footer-menu__item-link">Соглашение</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://id.tmtm.ru/info/confidential/" class="footer-menu__item-link">Конфиденциальность</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="footer-grid__item footer-block">
    <h3 class="footer-block__title">Услуги</h3>
    <div class="footer-block__content">
      <ul class="footer-menu">
        <li class="footer-menu__item">
          <a href="https://tmtm.ru/services/advertising/" target="_blank" class="footer-menu__item-link" rel=" noopener">Реклама</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://tmtm.ru/services/corpblog/" target="_blank" class="footer-menu__item-link" rel=" noopener">Тарифы</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://tmtm.ru/services/content/" target="_blank" class="footer-menu__item-link" rel=" noopener">Контент</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://tmtm.ru/workshops/" target="_blank" class="footer-menu__item-link" rel=" noopener">Семинары</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="footer-grid__item footer-grid__item_300 footer-block">
    <h3 class="footer-block__title">Приложения</h3>
    <div class="footer-block__content footer-block__content_apps">
      <a href="https://appmetrica.yandex.com/serve/240693928167260216?utm_source=HH_desktop&amp;utm_medium=button&amp;utm_campaign=appiOS" class="footer-menu__app" target="_blank" onclick="if (  typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;links&#39;, &#39;ios_app&#39;); }" rel=" noopener"><svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="140" height="40" viewBox="0 0 140 40"><path fill="#fff" d="M0 0h140v40h-140z"></path><path d="M139.387 35.99c0 2.215-1.794 4.01-4.014 4.01h-131.354c-2.218 0-4.019-1.794-4.019-4.01v-31.975c0-2.214 1.801-4.015 4.019-4.015h131.353c2.22 0 4.014 1.801 4.014 4.015l.001 31.975z"></path><path fill="#fff" d="M30.609 19.78c-.03-3.374 2.763-5.016 2.89-5.092-1.582-2.306-4.034-2.621-4.895-2.647-2.059-.217-4.057 1.232-5.106 1.232-1.07 0-2.685-1.211-4.426-1.176-2.24.035-4.336 1.332-5.486 3.346-2.372 4.107-.603 10.142 1.67 13.462 1.137 1.626 2.465 3.441 4.204 3.377 1.701-.07 2.337-1.085 4.39-1.085 2.034 0 2.631 1.085 4.404 1.044 1.826-.029 2.975-1.633 4.072-3.274 1.314-1.863 1.841-3.699 1.862-3.793-.041-.013-3.544-1.35-3.579-5.394zM27.259 9.858c.915-1.144 1.541-2.701 1.367-4.281-1.324.059-2.981.916-3.934 2.035-.844.986-1.598 2.603-1.403 4.123 1.488.111 3.015-.751 3.97-1.877zM55.229 32.05h-2.378l-1.302-4.092h-4.527l-1.241 4.092h-2.315l4.485-13.932h2.77l4.508 13.932zm-4.072-5.809l-1.178-3.638c-.125-.372-.358-1.247-.702-2.625h-.042c-.137.593-.358 1.468-.662 2.625l-1.157 3.638h3.741zM66.763 26.903c0 1.709-.462 3.059-1.385 4.05-.827.883-1.854 1.323-3.08 1.323-1.323 0-2.274-.475-2.853-1.426h-.042v5.292h-2.232v-10.831c0-1.074-.028-2.177-.083-3.307h1.963l.125 1.592h.042c.744-1.2 1.874-1.799 3.39-1.799 1.185 0 2.174.468 2.966 1.405.793.938 1.189 2.172 1.189 3.701zm-2.274.082c0-.978-.22-1.784-.662-2.418-.483-.662-1.131-.992-1.943-.992-.551 0-1.051.184-1.498.548-.448.366-.741.845-.878 1.437-.069.276-.104.503-.104.68v1.675c0 .731.224 1.347.672 1.851s1.03.755 1.746.755c.841 0 1.495-.325 1.963-.972.47-.648.704-1.503.704-2.564zM78.318 26.903c0 1.709-.462 3.059-1.386 4.05-.826.883-1.853 1.323-3.079 1.323-1.323 0-2.274-.475-2.852-1.426h-.042v5.292h-2.232v-10.831c0-1.074-.028-2.177-.083-3.307h1.963l.125 1.592h.042c.743-1.2 1.873-1.799 3.39-1.799 1.184 0 2.173.468 2.967 1.405.79.938 1.187 2.172 1.187 3.701zm-2.274.082c0-.978-.221-1.784-.663-2.418-.483-.662-1.129-.992-1.942-.992-.552 0-1.051.184-1.499.548-.448.366-.74.845-.877 1.437-.068.276-.104.503-.104.68v1.675c0 .731.224 1.347.67 1.851.448.503 1.03.755 1.748.755.841 0 1.495-.325 1.963-.972.469-.648.704-1.503.704-2.564zM91.236 28.143c0 1.185-.411 2.149-1.237 2.894-.908.813-2.171 1.22-3.795 1.22-1.499 0-2.701-.289-3.611-.868l.517-1.86c.98.593 2.055.89 3.227.89.841 0 1.495-.191 1.965-.57.468-.379.701-.888.701-1.522 0-.565-.193-1.042-.579-1.428-.384-.386-1.026-.745-1.922-1.077-2.439-.91-3.658-2.242-3.658-3.995 0-1.145.427-2.084 1.282-2.815.852-.732 1.989-1.097 3.411-1.097 1.268 0 2.321.221 3.162.662l-.558 1.82c-.785-.427-1.673-.641-2.666-.641-.785 0-1.399.194-1.838.579-.372.344-.558.764-.558 1.262 0 .551.213 1.006.64 1.364.372.331 1.047.689 2.027 1.075 1.199.483 2.079 1.047 2.646 1.694.563.642.844 1.45.844 2.413zM98.616 23.679h-2.46v4.878c0 1.241.433 1.86 1.302 1.86.399 0 .73-.035.991-.104l.062 1.695c-.44.164-1.019.247-1.736.247-.881 0-1.57-.269-2.068-.806-.495-.538-.744-1.441-.744-2.708v-5.064h-1.466v-1.675h1.466v-1.839l2.192-.662v2.501h2.46l.001 1.677zM109.716 26.944c0 1.544-.442 2.812-1.323 3.803-.924 1.021-2.151 1.53-3.681 1.53-1.474 0-2.648-.489-3.523-1.467s-1.313-2.212-1.313-3.7c0-1.557.45-2.832 1.354-3.823.901-.992 2.118-1.489 3.647-1.489 1.474 0 2.66.489 3.555 1.468.857.95 1.284 2.176 1.284 3.678zm-2.315.072c0-.927-.198-1.721-.599-2.384-.468-.802-1.137-1.202-2.004-1.202-.897 0-1.579.401-2.047 1.202-.401.664-.599 1.471-.599 2.426 0 .927.198 1.721.599 2.383.483.802 1.157 1.202 2.027 1.202.852 0 1.521-.408 2.004-1.223.411-.675.619-1.478.619-2.404zM116.971 23.967c-.221-.041-.456-.062-.704-.062-.785 0-1.392.296-1.82.89-.372.523-.558 1.185-.558 1.984v5.271h-2.231l.021-6.882c0-1.158-.028-2.212-.084-3.163h1.944l.082 1.922h.062c.236-.661.607-1.192 1.116-1.591.497-.359 1.034-.538 1.613-.538.206 0 .393.015.558.041l.001 2.128zM126.954 26.552c0 .4-.026.737-.082 1.012h-6.696c.026.992.35 1.751.972 2.275.564.468 1.294.702 2.19.702.991 0 1.896-.158 2.709-.475l.35 1.549c-.951.415-2.073.621-3.368.621-1.558 0-2.781-.459-3.67-1.375s-1.333-2.146-1.333-3.689c0-1.515.414-2.776 1.242-3.782.867-1.074 2.038-1.611 3.512-1.611 1.448 0 2.544.537 3.288 1.611.589.853.886 1.908.886 3.162zm-2.129-.579c.015-.662-.131-1.233-.433-1.716-.386-.621-.98-.931-1.779-.931-.73 0-1.323.303-1.777.91-.372.483-.593 1.062-.661 1.736l4.649.001zM44.529 6.682c.238-.142.506-.262.807-.36s.654-.148 1.062-.148c.656 0 1.174.156 1.553.467s.568.731.568 1.259c0 .42-.127.772-.38 1.056s-.578.474-.97.568v.03c.217.035.422.093.615.178s.363.198.508.34c.146.142.261.308.345.498.084.189.127.399.127.63 0 .379-.076.697-.229.955s-.352.467-.599.63c-.246.162-.522.28-.827.35s-.609.107-.914.107c-.326 0-.647-.035-.965-.102s-.612-.179-.884-.335l.274-.843c.176.088.403.173.68.254.277.082.558.121.843.121.467 0 .828-.105 1.081-.314.253-.21.381-.491.381-.843 0-.238-.051-.431-.153-.584-.103-.153-.235-.272-.397-.361-.162-.088-.343-.149-.543-.182s-.398-.051-.594-.051h-.457v-.831h.457c.209 0 .404-.026.584-.082.179-.053.335-.13.467-.228s.236-.216.31-.351c.073-.135.111-.288.111-.457 0-.305-.109-.543-.326-.716s-.508-.26-.873-.26c-.25 0-.501.041-.752.121-.25.082-.474.17-.671.264l-.239-.78zM53.251 13.131l-.081-.568h-.03c-.331.453-.811.68-1.442.68-.224 0-.426-.038-.609-.112s-.342-.176-.477-.305c-.136-.129-.24-.281-.315-.457-.074-.176-.111-.37-.111-.579 0-.616.25-1.078.752-1.386s1.211-.462 2.133-.462v-.091c0-.65-.341-.975-1.024-.975-.487 0-.916.122-1.287.365l-.223-.72c.453-.284 1.018-.426 1.693-.426 1.291 0 1.937.68 1.937 2.041v1.817c0 .508.024.9.071 1.178h-.986zm-.152-2.457c-.612 0-1.069.077-1.368.233s-.449.41-.449.762c0 .258.07.45.211.579s.32.193.536.193c.141 0 .275-.025.404-.076.128-.05.24-.12.337-.208.098-.088.177-.195.239-.32.061-.126.09-.259.09-.401v-.762zM59.457 8.196v.904h-2.052v4.032h-1.096v-4.936h3.148zM65.732 10.603c0 .393-.054.752-.162 1.076-.109.326-.259.603-.452.832-.193.23-.423.41-.69.538-.268.129-.563.194-.889.194-.65 0-1.117-.233-1.402-.7h-.021v2.599h-1.097v-5.321l-.01-.798-.029-.828h.964l.062.782h.021c.365-.588.92-.884 1.666-.884.29 0 .56.061.807.182.247.122.462.293.645.513s.327.484.431.793c.103.309.156.649.156 1.022zm-1.116.041c0-.244-.029-.469-.087-.675s-.142-.382-.253-.528-.247-.261-.406-.345c-.159-.085-.337-.127-.534-.127-.155 0-.308.035-.457.102-.15.067-.28.159-.39.274-.112.115-.201.254-.269.417s-.103.335-.103.518v.823c0 .182.028.352.087.508s.138.291.243.406.23.205.376.269c.146.065.306.096.482.096.414 0 .735-.157.965-.472.229-.316.346-.739.346-1.266zM71.624 8.196l-1.25 3.422c-.297.812-.587 1.477-.868 1.995s-.55.895-.807 1.133c-.379.338-.782.545-1.209.619l-.264-.923c.284-.074.555-.22.812-.437s.463-.487.62-.812l.081-.223-.061-.233-1.788-4.54h1.208l.935 2.752.142.437.153.538h.021l.111-.411.162-.574.833-2.742 1.168-.001zM73.523 10.247h.507c.372 0 .661-.067.863-.203s.305-.302.305-.498c0-.203-.086-.365-.26-.487-.172-.121-.411-.183-.716-.183-.197 0-.395.032-.593.096-.2.065-.384.144-.554.239l-.284-.71c.284-.155.566-.262.849-.319.281-.058.562-.087.847-.087.225 0 .45.022.676.066.225.044.427.118.603.223s.321.242.431.411c.112.17.168.379.168.63 0 .156-.03.293-.092.411-.06.118-.141.223-.243.314s-.215.166-.339.223c-.125.058-.253.101-.38.128v.03c.161.021.319.062.472.122.152.061.288.14.411.239.12.098.219.217.294.355.073.139.11.296.11.472 0 .291-.069.535-.213.731-.141.197-.323.352-.544.467-.219.115-.462.198-.726.249s-.521.076-.771.076c-.305 0-.607-.032-.903-.096-.298-.065-.566-.164-.804-.299l.286-.721c.176.095.376.175.603.239s.459.096.695.096c.372 0 .659-.072.858-.218.198-.146.298-.327.298-.543 0-.142-.032-.262-.101-.36-.068-.098-.163-.178-.284-.239-.122-.061-.264-.104-.427-.127-.161-.024-.339-.036-.528-.036h-.517v-.691zM79.381 8.196v1.746c0 .4-.006.759-.021 1.076l-.051 1.005.021.02.38-.757.382-.757 1.219-2.336h1.421v4.935h-1.036v-1.746c0-.365.01-.731.026-1.096l.055-1.108h-.051c-.114.305-.229.568-.345.793l-.343.691-.626 1.219c-.206.406-.425.823-.654 1.249h-1.421v-4.934h1.044zM88.521 8.196v.904h-1.502v4.032h-1.079v-4.032h-1.493v-.904h4.074zM94.115 10.43l-.01.269-.03.228h-3.29c.015.467.161.828.442 1.081s.652.381 1.112.381c.481 0 .924-.077 1.331-.233l.172.762c-.468.203-1.019.305-1.656.305-.384 0-.73-.06-1.034-.178-.305-.118-.562-.286-.773-.503-.208-.217-.371-.477-.483-.782-.11-.305-.165-.646-.165-1.025s.055-.73.165-1.051c.112-.321.27-.601.472-.838.204-.238.45-.423.736-.559.288-.135.609-.203.961-.203.311 0 .593.055.849.168.253.111.47.27.648.477.18.206.317.454.411.741s.142.609.142.96zm-1.047-.283c0-.386-.092-.699-.278-.939s-.455-.361-.807-.361c-.319 0-.588.121-.811.365s-.352.555-.386.935h2.282zM98.534 8.237c.197-.033.446-.061.751-.082s.616-.03.935-.03c.202 0 .431.013.685.036s.497.077.726.162c.231.085.423.211.579.381s.236.399.236.69c0 .15-.028.284-.082.401-.055.118-.127.222-.219.31s-.197.161-.315.218c-.118.058-.241.101-.371.127l.01.03c.358.061.65.189.873.386s.335.467.335.812c0 .345-.096.62-.284.823-.191.203-.423.356-.701.457s-.571.166-.879.194c-.307.026-.583.041-.826.041-.272 0-.538-.006-.798-.021l-.654-.041v-4.894zm1.056 1.97h.558c.17 0 .331-.012.483-.036.153-.023.286-.061.401-.111.116-.051.204-.118.27-.203.064-.085.096-.187.096-.31 0-.223-.092-.387-.281-.492-.186-.105-.478-.157-.877-.157l-.3.01-.35.03v1.269zm0 2.183l.339.03.321.01c.15 0 .3-.009.456-.03.155-.02.298-.059.427-.116s.231-.134.309-.232c.077-.097.118-.227.118-.388 0-.283-.127-.477-.376-.585-.251-.108-.588-.161-1.017-.161h-.577v1.472z"></path></svg></a>

      <a href="https://appmetrica.yandex.com/serve/745097116363323173?id=ru.habrahabr&amp;utm_source=HH_desktop&amp;utm_medium=button&amp;utm_campaign=appAndroid" class="footer-menu__app" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;links&#39;, &#39;android_app&#39;); }" rel=" noopener"><svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="135" height="40" viewBox="0 0 135 40"><path d="M130 40h-125c-2.75 0-5-2.25-5-5v-30c0-2.75 2.25-5 5-5h125c2.75 0 5 2.25 5 5v30c0 2.75-2.25 5-5 5z"></path><path fill="#fff" d="M68.136 21.752c-2.352 0-4.269 1.788-4.269 4.253 0 2.449 1.917 4.253 4.269 4.253 2.352 0 4.269-1.804 4.269-4.253 0-2.465-1.917-4.253-4.269-4.253zm0 6.83c-1.289 0-2.401-1.063-2.401-2.578 0-1.531 1.112-2.578 2.401-2.578 1.289 0 2.4 1.047 2.4 2.578 0 1.515-1.111 2.578-2.4 2.578zm-9.314-6.83c-2.352 0-4.269 1.788-4.269 4.253 0 2.449 1.917 4.253 4.269 4.253 2.352 0 4.269-1.804 4.269-4.253.001-2.465-1.916-4.253-4.269-4.253zm0 6.83c-1.289 0-2.4-1.063-2.4-2.578 0-1.531 1.112-2.578 2.4-2.578 1.289 0 2.4 1.047 2.4 2.578.001 1.515-1.111 2.578-2.4 2.578zm-11.078-5.525v1.804h4.318c-.129 1.015-.467 1.756-.983 2.272-.628.628-1.611 1.321-3.335 1.321-2.658 0-4.736-2.143-4.736-4.801s2.078-4.801 4.736-4.801c1.434 0 2.481.564 3.254 1.289l1.273-1.273c-1.079-1.031-2.513-1.82-4.527-1.82-3.641 0-6.702 2.964-6.702 6.605 0 3.641 3.061 6.605 6.702 6.605 1.966 0 3.448-.644 4.608-1.853 1.192-1.192 1.563-2.868 1.563-4.221 0-.419-.032-.806-.097-1.128h-6.074zm45.308 1.401c-.354-.95-1.434-2.706-3.641-2.706-2.191 0-4.011 1.724-4.011 4.253 0 2.384 1.804 4.253 4.221 4.253 1.949 0 3.077-1.192 3.544-1.885l-1.45-.967c-.483.709-1.144 1.176-2.094 1.176-.951 0-1.627-.435-2.062-1.289l5.687-2.352-.194-.483zm-5.8 1.418c-.048-1.643 1.273-2.481 2.223-2.481.741 0 1.369.371 1.579.902l-3.802 1.579zm-4.623 4.124h1.869v-12.501h-1.869v12.501zm-3.062-7.298h-.064c-.419-.499-1.224-.951-2.239-.951-2.127 0-4.076 1.869-4.076 4.269 0 2.384 1.949 4.237 4.076 4.237 1.015 0 1.82-.451 2.239-.967h.064v.612c0 1.627-.87 2.497-2.272 2.497-1.144 0-1.853-.822-2.143-1.514l-1.627.677c.467 1.128 1.708 2.513 3.77 2.513 2.191 0 4.044-1.289 4.044-4.43v-7.636h-1.772v.693zm-2.142 5.88c-1.289 0-2.368-1.079-2.368-2.562 0-1.498 1.079-2.594 2.368-2.594 1.273 0 2.272 1.096 2.272 2.594-.001 1.483-.999 2.562-2.272 2.562zm24.381-11.083h-4.471v12.501h1.865v-4.736h2.606c2.068 0 4.101-1.497 4.101-3.882s-2.033-3.883-4.101-3.883zm.048 6.025h-2.654v-4.285h2.654c1.395 0 2.187 1.155 2.187 2.143 0 .968-.792 2.142-2.187 2.142zm11.532-1.795c-1.351 0-2.75.595-3.329 1.914l1.657.692c.354-.692 1.013-.917 1.705-.917.965 0 1.946.579 1.962 1.608v.129c-.338-.193-1.062-.483-1.946-.483-1.785 0-3.603.981-3.603 2.815 0 1.673 1.464 2.75 3.104 2.75 1.255 0 1.946-.563 2.38-1.222h.064v.965h1.801v-4.793c0-2.22-1.656-3.458-3.795-3.458zm-.225 6.851c-.611 0-1.464-.306-1.464-1.062 0-.965 1.062-1.335 1.978-1.335.82 0 1.206.177 1.705.418-.145 1.159-1.142 1.979-2.219 1.979zm10.582-6.578l-2.139 5.42h-.064l-2.219-5.42h-2.01l3.329 7.575-1.898 4.214h1.946l5.131-11.789h-2.076zm-16.807 7.998h1.866v-12.501h-1.866v12.501z"></path><lineargradient id="a" gradientUnits="userSpaceOnUse" x1="21.8" y1="33.29" x2="5.017" y2="16.508" gradientTransform="matrix(1 0 0 -1 0 42)"><stop offset="0" stop-color="#00A0FF"></stop><stop offset=".007" stop-color="#00A1FF"></stop><stop offset=".26" stop-color="#00BEFF"></stop><stop offset=".512" stop-color="#00D2FF"></stop><stop offset=".76" stop-color="#00DFFF"></stop><stop offset="1" stop-color="#00E3FF"></stop></lineargradient><path fill="url(#a)" d="M10.435 7.538c-.291.308-.463.786-.463 1.405v22.116c0 .62.172 1.097.463 1.405l.074.072 12.389-12.389v-.292l-12.389-12.39-.074.073z"></path><lineargradient id="b" gradientUnits="userSpaceOnUse" x1="33.834" y1="21.999" x2="9.637" y2="21.999" gradientTransform="matrix(1 0 0 -1 0 42)"><stop offset="0" stop-color="#FFE000"></stop><stop offset=".409" stop-color="#FFBD00"></stop><stop offset=".775" stop-color="#FFA500"></stop><stop offset="1" stop-color="#FF9C00"></stop></lineargradient><path fill="url(#b)" d="M27.028 24.278l-4.129-4.131v-.292l4.13-4.13.093.053 4.893 2.78c1.398.794 1.398 2.093 0 2.888l-4.893 2.78-.094.052z"></path><lineargradient id="c" gradientUnits="userSpaceOnUse" x1="24.827" y1="19.704" x2="2.069" y2="-3.054" gradientTransform="matrix(1 0 0 -1 0 42)"><stop offset="0" stop-color="#FF3A44"></stop><stop offset="1" stop-color="#C31162"></stop></lineargradient><path fill="url(#c)" d="M27.122 24.225l-4.224-4.224-12.463 12.463c.461.488 1.221.548 2.078.061l14.609-8.3"></path><lineargradient id="d" gradientUnits="userSpaceOnUse" x1="7.297" y1="41.824" x2="17.46" y2="31.661" gradientTransform="matrix(1 0 0 -1 0 42)"><stop offset="0" stop-color="#32A071"></stop><stop offset=".069" stop-color="#2DA771"></stop><stop offset=".476" stop-color="#15CF74"></stop><stop offset=".801" stop-color="#06E775"></stop><stop offset="1" stop-color="#00F076"></stop></lineargradient><path fill="url(#d)" d="M27.122 15.777l-14.608-8.3c-.857-.487-1.617-.426-2.078.061l12.463 12.463 4.223-4.224z"></path><path opacity=".2" enable-background="new" d="M27.029 24.132l-14.515 8.247c-.812.461-1.538.431-2.004.011l-.075.075.074.072c.466.42 1.192.451 2.004-.011l14.608-8.3-.092-.094z"></path><path opacity=".12" enable-background="new" d="M10.435 32.318c-.291-.308-.463-.786-.463-1.405v.146c0 .619.172 1.097.463 1.405l.075-.075-.075-.071zM32.015 21.299l-4.986 2.833.093.093 4.893-2.78c.699-.397 1.048-.92 1.048-1.443-.059.473-.415.937-1.048 1.297z"></path><path opacity=".25" fill="#fff" enable-background="new" d="M12.514 7.623l19.501 11.08c.634.36.989.824 1.048 1.298 0-.523-.349-1.047-1.048-1.444l-19.501-11.08c-1.398-.794-2.541-.135-2.541 1.466v.147c0-1.601 1.143-2.261 2.541-1.467z"></path><g fill="#fff" stroke="#fff" stroke-width=".2" stroke-miterlimit="10"><path d="M42.114 14.273h-.737v-2.011h.587c.519-.447.773-1.212.763-2.296v-2.966h4.006v5.263h.67v2.011h-.737v-1.274h-4.551v1.273zm1.383-4.306c.012.949-.179 1.715-.569 2.296h3.033v-4.526h-2.464v2.23zM53.415 12.225c-.59.607-1.323.909-2.2.909-.877 0-1.61-.303-2.199-.909-.59-.606-.884-1.348-.884-2.225s.294-1.619.884-2.225c.589-.607 1.322-.91 2.199-.91.872 0 1.604.305 2.196.914.592.609.888 1.349.888 2.221-.001.877-.296 1.619-.884 2.225zm-3.831-.503c.444.45.987.674 1.63.674.642 0 1.187-.225 1.63-.674.444-.45.667-1.024.667-1.722s-.223-1.273-.667-1.722c-.443-.45-.987-.674-1.63-.674-.643 0-1.186.225-1.63.674-.443.45-.666 1.024-.666 1.722s.223 1.273.666 1.722zM58.179 13.134c-.883 0-1.623-.299-2.221-.896-.598-.598-.896-1.344-.896-2.238s.298-1.64.896-2.237c.598-.598 1.338-.897 2.221-.897.904 0 1.64.327 2.204.981l-.537.52c-.407-.509-.964-.763-1.667-.763-.654 0-1.206.221-1.655.662-.45.441-.675 1.02-.675 1.734s.225 1.293.675 1.734c.449.441 1.001.662 1.655.662.721 0 1.335-.29 1.844-.871l.536.536c-.274.33-.617.591-1.031.783-.413.194-.863.29-1.349.29zM63.677 13h-.771v-5.263h-1.676v-.737h4.123v.737h-1.676v5.263zM70.646 7l-2.271 5.061c-.313.715-.779 1.072-1.399 1.072-.185 0-.383-.044-.596-.134l.201-.712c.129.073.263.109.402.109.179 0 .317-.035.415-.104.098-.07.188-.197.272-.381l.218-.478-2.017-4.433h.905l1.483 3.444h.033l1.449-3.444h.905zM71.52 13v-6h4.341v6h-.771v-5.263h-2.8v5.263h-.77zM77.234 13v-6h.771v2.572h3v-2.572h.771v6h-.771v-2.707h-3v2.707h-.771zM88.058 12.225c-.59.607-1.323.909-2.2.909-.877 0-1.61-.303-2.199-.909-.59-.606-.884-1.348-.884-2.225s.294-1.619.884-2.225c.589-.607 1.322-.91 2.199-.91.872 0 1.604.305 2.196.914.592.609.888 1.349.888 2.221-.001.877-.296 1.619-.884 2.225zm-3.83-.503c.444.45.987.674 1.63.674s1.187-.225 1.63-.674c.444-.45.667-1.024.667-1.722s-.223-1.273-.667-1.722c-.443-.45-.987-.674-1.63-.674s-1.186.225-1.63.674c-.443.45-.666 1.024-.666 1.722s.222 1.273.666 1.722zM92.094 13v-6h2.17c.47 0 .876.155 1.22.465.344.311.516.7.516 1.169 0 .285-.074.537-.223.754-.147.218-.345.383-.591.495v.033c.296.101.539.274.729.519.189.246.285.531.285.855 0 .492-.181.899-.541 1.223-.36.325-.786.487-1.278.487h-2.287zm.77-3.428h1.399c.291 0 .524-.096.7-.289.176-.192.264-.403.264-.632s-.085-.439-.256-.628c-.17-.19-.395-.285-.674-.285h-1.434v1.834zm0 2.691h1.551c.296 0 .536-.104.721-.311.185-.206.276-.433.276-.679 0-.246-.095-.47-.285-.674-.189-.204-.438-.306-.746-.306h-1.517v1.97z"></path></g></svg></a>
    </div>
  </div>
</div>

        </div>
      </div>

      <div class="layout__row layout__row_footer">
        <div class="layout__cell">
          <div class="footer-grid footer">
  <div class="footer-grid__item footer-grid__item_380">
    <svg class="icon-svg icon-svg_tmtm" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="32" height="32" viewBox="0 0 32 32"><path fill="#b12b51" d="M0 0v32h23.637l4.175-4.189-4.175 4.175v-8.358h8.358l-4.184 4.184 4.189-4.184v-23.628h-32zm14.653 14.148h-2.088v5.127h-2.106v-5.127h-2.089v-1.423h6.282v1.423zm8.977 1.852v3.275h-2.048v-4.065l-1.487 2.683h-.922l-1.487-2.683v4.065h-1.989v-6.55h2.28l1.686 2.975 1.686-2.975h2.281v3.275z"></path><path fill="#fff" d="M8.37 14.148h2.088v5.127h2.106v-5.127h2.089v-1.423h-6.283zM22.264 12.725h-.915l-1.686 2.975-1.686-2.975h-2.28v6.55h1.989v-4.065l1.487 2.683h.922l1.487-2.683v4.065h2.048v-6.55h-.649z"></path><path fill="#dc82a0" d="M23.637 23.628v8.358l8.358-8.358z"></path></svg>
    <span class="footer__copyright">© 2006 – 2018 «<a href="https://tmtm.ru/" class="footer__link">TM</a>»</span>
  </div>
  <div class="footer-grid__item">
    <a href="https://habrahabr.ru/feedback/" class="footer__link">Служба поддержки</a>
  </div>
  <div class="footer-grid__item">
      <a href="https://m.habrahabr.ru/post/188234/?mobile=yes" class="footer__link">Мобильная версия</a>
  </div>

  <div class="footer-grid__item footer-grid__item_300">
    <ul class="social-icons">
      <li class="social-icons__item">
        <a href="https://twitter.com/habrahabr" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_twitter" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;twitter&#39;); }" rel=" noopener">
          <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M17.414 8.642c-.398.177-.826.296-1.276.35.459-.275.811-.71.977-1.229-.43.254-.905.439-1.41.539-.405-.432-.982-.702-1.621-.702-1.227 0-2.222.994-2.222 2.222 0 .174.019.344.058.506-1.846-.093-3.484-.978-4.579-2.322-.191.328-.301.71-.301 1.117 0 .77.392 1.45.988 1.849-.363-.011-.706-.111-1.006-.278v.028c0 1.077.766 1.974 1.782 2.178-.187.051-.383.078-.586.078-.143 0-.282-.014-.418-.04.282.882 1.103 1.525 2.075 1.542-.76.596-1.718.951-2.759.951-.179 0-.356-.01-.53-.031.983.63 2.15.998 3.406.998 4.086 0 6.321-3.386 6.321-6.321l-.006-.287c.433-.314.81-.705 1.107-1.15z"></path></svg>
        </a>
      </li>
      <li class="social-icons__item">
        <a href="https://www.facebook.com/habrahabr.ru" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_facebook" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;facebook&#39;); }" rel=" noopener">
          <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M14.889 8.608h-1.65c-.195 0-.413.257-.413.6v1.192h2.063v1.698h-2.063v5.102h-1.948v-5.102h-1.766v-1.698h1.766v-1c0-1.434.995-2.6 2.361-2.6h1.65v1.808z"></path></svg>
        </a>
      </li>
      <li class="social-icons__item">
        <a href="https://vk.com/habr" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_vkontakte" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;vkontakte&#39;); }" rel=" noopener">
          <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M16.066 11.93s1.62-2.286 1.782-3.037c.054-.268-.064-.418-.343-.418h-1.406c-.322 0-.44.139-.537.343 0 0-.76 1.619-1.685 2.64-.297.33-.448.429-.612.429-.132 0-.193-.11-.193-.408v-2.607c0-.365-.043-.472-.343-.472h-2.254c-.172 0-.279.1-.279.236 0 .343.526.421.526 1.352v1.921c0 .386-.022.537-.204.537-.483 0-1.631-1.663-2.274-3.552-.129-.386-.268-.494-.633-.494h-1.406c-.204 0-.354.139-.354.343 0 .375.44 2.114 2.167 4.442 1.159 1.566 2.683 2.414 4.056 2.414.838 0 1.041-.139 1.041-.494v-1.202c0-.301.118-.429.29-.429.193 0 .534.062 1.33.848.945.901 1.01 1.276 1.525 1.276h1.578c.161 0 .311-.075.311-.343 0-.354-.462-.987-1.17-1.738-.29-.386-.762-.805-.912-.998-.215-.226-.151-.354-.001-.59z"></path></svg>
        </a>
      </li>
      <li class="social-icons__item">
        <a href="https://telegram.me/habr_ru" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_telegram" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;telegram&#39;); }" rel=" noopener">
          <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M17.17 7.621l-10.498 3.699c-.169.059-.206.205-.006.286l2.257.904 1.338.536 6.531-4.796s.189.057.125.126l-4.68 5.062-.27.299.356.192 2.962 1.594c.173.093.397.016.447-.199.058-.254 1.691-7.29 1.728-7.447.047-.204-.087-.328-.291-.256zm-6.922 8.637c0 .147.082.188.197.084l1.694-1.522-1.891-.978v2.416z"></path></svg>
        </a>
      </li>
      <li class="social-icons__item">
        <a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_youtube" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;youtube&#39;); }" rel=" noopener">
          <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="32" height="32" viewBox="0 0 32 32"><path d="M3.2 0h25.6c1.767 0 3.2 1.433 3.2 3.2v25.6c0 1.767-1.433 3.2-3.2 3.2h-25.6c-1.767 0-3.2-1.433-3.2-3.2v-25.6c0-1.767 1.433-3.2 3.2-3.2zm18.133 16l-10.667-5.333v10.667l10.667-5.333z"></path></svg>

        </a>
      </li>
    </ul>
  </div>
</div>

        </div>
      </div>

      <a href="https://habrahabr.ru/post/188234/#" class="layout__elevator hidden" id="scroll_to_top" title="Наверх" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;navigation_button&#39;, &#39;down&#39;); }">
        <svg class="icon-svg icon-svg_scroll-up" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" version="1.1" role="img"><path d="M16 0C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm8.412 19.523c-.517.512-1.355.512-1.872 0L16 13.516l-6.54 6.01c-.518.51-1.356.51-1.873 0-.516-.513-.517-1.343 0-1.855l7.476-7.326c.517-.512 1.356-.512 1.873 0l7.476 7.327c.516.513.516 1.342 0 1.854z"></path></svg>
      </a>
    </div>


    <script type="text/javascript">
  // global vars
  var g_base_url = 'habrahabr.ru';
  var g_base_fullurl = 'https://habrahabr.ru/';
  var g_tmid_fullurl = 'https://id.tmtm.ru/';
  var g_is_guest = false;
  var g_show_xpanel = false;
  var g_is_enableShortcuts = '1'

</script>

    <script src="./Пишем простой ThreadPool с async и future_files/vendors.bundle.js.Без названия"></script>
    <script src="./Пишем простой ThreadPool с async и future_files/main.bundle.js.Без названия"></script>
      <script type="text/x-mathjax-config;executed=true">
  MathJax.Hub.Config({
    showProcessingMessages: false,
    showMathMenu: true,
    tex2jax: {
      inlineMath: [['$inline$','$inline$']],
      displayMath: [['$$display$$','$$display$$']],
      processEscapes: true
    },
    MathMenu: {
      showRenderer: true,
      showContext:  true
    }
  });

  MathJax.Extension.Img2jax = {
    PreProcess: function (element) {
      var hasMath = false;
      var images = element.querySelectorAll('[data-tex]');
      for (var i = images.length - 1; i >= 0; i--) {
        var img = images[i];
        var tex = img.alt.replace(/(\r\n|\n|\r)/gm, " ");
        if (tex && tex[0] === '$'){
          var script = document.createElement("script"); script.type = "math/tex";
          hasMath = true;
          if (img.getAttribute('data-tex') == "display"){script.type += ";mode=display"}
          MathJax.HTML.setScript(script, tex.substring(1,tex.length-1));
          img.parentNode.replaceChild(script,img);
        }
      }
    }
  };

  MathJax.Hub.Register.PreProcessor(["PreProcess", MathJax.Extension.Img2jax]);
</script>

<script type="text/javascript" src="./Пишем простой ThreadPool с async и future_files/MathJax.js.Без названия">
</script>

  <script type="text/javascript" src="./Пишем простой ThreadPool с async и future_files/highlight.pack.js.Без названия"></script>


      <script src="./Пишем простой ThreadPool с async и future_files/check-login.js.Без названия"></script>

      <script type="text/javascript" src="./Пишем простой ThreadPool с async и future_files/saved_resource(2)"></script>

    
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            if (typeof (_yaparams) != 'undefined') {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    params:_yaparams});
            } else {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
            }

        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript>&lt;div&gt;&lt;img src="//mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" /&gt;&lt;/div&gt;</noscript>
<!-- /Yandex.Metrika counter -->

    
    
  

<div id="AutocompleteContainter_b2470" style="position: absolute; z-index: 9999; top: 0px; left: 0px;"><div class="autocomplete-w1"><div class="autocomplete" id="Autocomplete_b2470" style="display: none; width: 300px; max-height: 400px;"></div></div></div><div id="AutocompleteContainter_7f1ae" style="position: absolute; z-index: 9999; top: 50px; left: 0px;"><div class="autocomplete-w1"><div class="autocomplete" id="Autocomplete_7f1ae" style="display: none; width: 300px; max-height: 400px;"></div></div></div><div style="position: fixed; left: -99px;"><div id="sf-2072857515" style="width: 1px; height: 1px; position: relative;"><iframe frameborder="no" scrolling="no" allowtransparency="true" hidefocus="true" tabindex="-1" marginwidth="0" marginheight="0" name="%7B%22id%22%3A%22sf-2072857515%22%2C%22html%22%3A%22%3Cscript%3Evar%20config%3D%7B%5C%22tns%5C%22%3A%7B%5C%22key%5C%22%3A%5C%22pcs_for_net-rtb-dsp%5C%22%2C%5C%22url%5C%22%3A%5C%22https%3A%2F%2Fan.yandex.ru%2Fmapuid%2Ftnscounter%2F%3Ffrom%3Dyan_net-rtb-dsp%5C%22%7D%2C%5C%22rtb%5C%22%3A%7B%5C%22matchUrls%5C%22%3A%5B%5D%7D%7D%3C%2Fscript%3E%3Cscript%3E%5C%22use%20strict%5C%22%3Bfunction%20t(t%2Cn%2Ce)%7Bvar%20c%3Dt%2B%5C%22%3D1%5C%22%3Bif(-1%3D%3D%3Ddocument.cookie.indexOf(c))%7Bvar%20s%3D86400*n*1e3%2Cr%3Dnew%20Date%2Ci%3Dnew%20Date(Number(r)%2Bs).toUTCString()%3Bdocument.cookie%3Dc%2B%5C%22%3B%20expires%3D%5C%22%2Bi%2Ce()%7D%7Dfunction%20n(t)%7B(new%20Image).src%3Dt%7Dfunction%20e(t)%7Bvar%20n%3Ddocument.createElement(%5C%22script%5C%22)%3Bn.src%3Dt%2Cdocument.body.appendChild(n)%7Dif(config.tns)%7Bvar%20c%3Dconfig.tns%2Cs%3Dc.key%2Cr%3Dc.url%3Bt(s%2C1%2Cfunction()%7Bn(r)%7D)%7Dif(config.rtb)%7Bvar%20i%3Dconfig.rtb.matchUrls%3Bt(%5C%22pcs3%5C%22%2C1%2Cfunction()%7Be(%5C%22https%3A%2F%2Fyastatic.net%2Fq%2Fset%2Fs%2Frsya-tag-users%2Fbundle.js%5C%22)%7D)%2Cfunction(t)%7Breturn%20Math.random()%3Ct%7D(.2)%26%26t(%5C%22pcssspb%5C%22%2C14%2Cfunction()%7Bfor(var%20t%3D0%3Bt%3Ci.length%3Bt%2B%2B)n(i%5Bt%5D)%7D)%2Cn(%5C%22https%3A%2F%2Fysa-static.passport.yandex.ru%2Fstatic%2F1%2Fd959d7e39d5067fad30d9c06204866e9%2Fd.png%3Fex%3Dyes%5C%22)%7D%3C%2Fscript%3E%22%2C%22pmGuid%22%3A%22_1520701845892_6_2%22%2C%22geom%22%3A%7B%22win%22%3A%7B%22t%22%3A0%2C%22l%22%3A0%2C%22w%22%3A1233%2C%22h%22%3A620%2C%22b%22%3A620%2C%22r%22%3A1233%7D%2C%22self%22%3A%7B%22t%22%3A14772%2C%22l%22%3A-99%2C%22b%22%3A14773%2C%22r%22%3A-98%2C%22w%22%3A1%2C%22h%22%3A1%2C%22xiv%22%3A0%2C%22yiv%22%3A0%2C%22iv%22%3A0%2C%22z%22%3A0%7D%2C%22exp%22%3A%7B%22t%22%3A14772%2C%22l%22%3A0%2C%22r%22%3A1331%2C%22b%22%3A0%2C%22xs%22%3A0%2C%22ys%22%3A0%7D%7D%2C%22hasFocus%22%3Afalse%2C%22supports%22%3A%7B%22exp-ovr%22%3Atrue%2C%22exp-push%22%3Afalse%2C%22read-cookie%22%3Afalse%2C%22write-cookie%22%3Afalse%7D%2C%22css%22%3A%22%22%2C%22bg%22%3A%22transparent%22%2C%22posMeta%22%3A%7B%22sharedData%22%3A%7B%22sf_ver%22%3A%221-1-0%22%2C%22ck_o%22%3A1%2C%22flash_ver%22%3A0%7D%2C%22ownerKey%22%3A%22%22%2C%22privateData%22%3A%7B%7D%7D%2C%22target%22%3A%22_blank%22%2C%22basePath%22%3A%22%22%7D" src="./Пишем простой ThreadPool с async и future_files/render(1).html" width="1" height="1" style="width: 1px; height: 1px; top: 0px; left: 0px; position: absolute;"></iframe></div></div><div style="position: fixed; left: -99px;"><div id="sf-1290811706" style="width: 1px; height: 1px; position: relative;"><iframe frameborder="no" scrolling="no" allowtransparency="true" hidefocus="true" tabindex="-1" marginwidth="0" marginheight="0" name="%7B%22id%22%3A%22sf-1290811706%22%2C%22html%22%3A%22%3Cscript%3Evar%20config%3D%7B%5C%22tns%5C%22%3A%7B%5C%22key%5C%22%3A%5C%22pcs_for_net-rtb-direct%5C%22%2C%5C%22url%5C%22%3A%5C%22https%3A%2F%2Fan.yandex.ru%2Fmapuid%2Ftnscounter%2F%3Ffrom%3Dyan_net-rtb-direct%5C%22%7D%7D%3C%2Fscript%3E%3Cscript%3E%5C%22use%20strict%5C%22%3Bfunction%20t(t%2Cn%2Ce)%7Bvar%20c%3Dt%2B%5C%22%3D1%5C%22%3Bif(-1%3D%3D%3Ddocument.cookie.indexOf(c))%7Bvar%20s%3D86400*n*1e3%2Cr%3Dnew%20Date%2Ci%3Dnew%20Date(Number(r)%2Bs).toUTCString()%3Bdocument.cookie%3Dc%2B%5C%22%3B%20expires%3D%5C%22%2Bi%2Ce()%7D%7Dfunction%20n(t)%7B(new%20Image).src%3Dt%7Dfunction%20e(t)%7Bvar%20n%3Ddocument.createElement(%5C%22script%5C%22)%3Bn.src%3Dt%2Cdocument.body.appendChild(n)%7Dif(config.tns)%7Bvar%20c%3Dconfig.tns%2Cs%3Dc.key%2Cr%3Dc.url%3Bt(s%2C1%2Cfunction()%7Bn(r)%7D)%7Dif(config.rtb)%7Bvar%20i%3Dconfig.rtb.matchUrls%3Bt(%5C%22pcs3%5C%22%2C1%2Cfunction()%7Be(%5C%22https%3A%2F%2Fyastatic.net%2Fq%2Fset%2Fs%2Frsya-tag-users%2Fbundle.js%5C%22)%7D)%2Cfunction(t)%7Breturn%20Math.random()%3Ct%7D(.2)%26%26t(%5C%22pcssspb%5C%22%2C14%2Cfunction()%7Bfor(var%20t%3D0%3Bt%3Ci.length%3Bt%2B%2B)n(i%5Bt%5D)%7D)%2Cn(%5C%22https%3A%2F%2Fysa-static.passport.yandex.ru%2Fstatic%2F1%2Fd959d7e39d5067fad30d9c06204866e9%2Fd.png%3Fex%3Dyes%5C%22)%7D%3C%2Fscript%3E%22%2C%22pmGuid%22%3A%22_1520701845898_60_3%22%2C%22geom%22%3A%7B%22win%22%3A%7B%22t%22%3A0%2C%22l%22%3A0%2C%22w%22%3A1233%2C%22h%22%3A620%2C%22b%22%3A620%2C%22r%22%3A1233%7D%2C%22self%22%3A%7B%22t%22%3A14772%2C%22l%22%3A-99%2C%22b%22%3A14773%2C%22r%22%3A-98%2C%22w%22%3A1%2C%22h%22%3A1%2C%22xiv%22%3A0%2C%22yiv%22%3A0%2C%22iv%22%3A0%2C%22z%22%3A0%7D%2C%22exp%22%3A%7B%22t%22%3A14772%2C%22l%22%3A0%2C%22r%22%3A1331%2C%22b%22%3A0%2C%22xs%22%3A0%2C%22ys%22%3A0%7D%7D%2C%22hasFocus%22%3Afalse%2C%22supports%22%3A%7B%22exp-ovr%22%3Atrue%2C%22exp-push%22%3Afalse%2C%22read-cookie%22%3Afalse%2C%22write-cookie%22%3Afalse%7D%2C%22css%22%3A%22%22%2C%22bg%22%3A%22transparent%22%2C%22posMeta%22%3A%7B%22sharedData%22%3A%7B%22sf_ver%22%3A%221-1-0%22%2C%22ck_o%22%3A1%2C%22flash_ver%22%3A0%7D%2C%22ownerKey%22%3A%22%22%2C%22privateData%22%3A%7B%7D%7D%2C%22target%22%3A%22_blank%22%2C%22basePath%22%3A%22%22%7D" src="./Пишем простой ThreadPool с async и future_files/render(2).html" width="1" height="1" style="width: 1px; height: 1px; top: 0px; left: 0px; position: absolute;"></iframe></div></div></body></html>